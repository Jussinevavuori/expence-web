(this.webpackJsonpexpence=this.webpackJsonpexpence||[]).push([[0],{392:function(e,t){},393:function(e,t,n){e.exports=n.p+"static/media/logo_google.696b80ec.png"},411:function(e,t,n){e.exports=n.p+"static/media/pexels-johannes-plenio-1103970.afe78909.jpg"},423:function(e,t,n){e.exports=n(596)},424:function(e,t,n){},425:function(e,t,n){},431:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){},456:function(e,t){},458:function(e,t){},472:function(e,t){},474:function(e,t){},502:function(e,t){},504:function(e,t){},505:function(e,t){},511:function(e,t){},513:function(e,t){},531:function(e,t){},533:function(e,t){},545:function(e,t){},548:function(e,t){},566:function(e,t,n){},567:function(e,t,n){},568:function(e,t,n){},569:function(e,t,n){},579:function(e,t,n){},580:function(e,t,n){},581:function(e,t,n){},582:function(e,t,n){},583:function(e,t,n){},584:function(e,t,n){},586:function(e,t){},587:function(e,t){},588:function(e,t,n){},589:function(e,t,n){},590:function(e,t,n){},591:function(e,t,n){},592:function(e,t,n){},593:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){},596:function(e,t,n){"use strict";n.r(t);n(424),n(425);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),u=n(38),c=n(3),s=n.n(c),l=n(10),m=n(13),f=n(68),d=(n(431),n(51)),p=n(84),v=n(629),h=n(631),b=n(633),g=n(636),y=n(393),E=n.n(y),w=n(632),k=n(634),O=n(635),j=(n(432),n(433),n(48)),x=n.n(j),C=n(597);function S(e){var t=e.condensed,n=e.className,a=e.color,o=Object(f.a)(e,["condensed","className","color"]);return r.a.createElement(C.a,Object.assign({},o,{color:function(){switch(a){case"white":case"black":return;default:return a}}(),className:x()(n,"Type",{condensed:t},"color-".concat(String(a)))}))}var D=n(628);function A(e){return r.a.createElement("div",{className:"AuthFrame"},r.a.createElement("div",{className:"container"},r.a.createElement("header",null,r.a.createElement(S,{variant:"h5",component:"h1",color:"white"},e.header)),r.a.createElement("div",{className:"content"},e.body,e.footer?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,null),r.a.createElement("footer",null,e.footer)):null)))}var N=function(e){var t,n,o=Object(a.useState)(!1),i=Object(m.a)(o,2),u=i[0],c=i[1],s=Object(d.c)({resolver:Object(p.a)(We)}),l=s.register,y=s.handleSubmit,j=s.errors,x=s.formState,C=(Object(f.a)(s,["register","handleSubmit","errors","formState"]),x.touched.email&&(null===(t=j.email)||void 0===t?void 0:t.message)),D=x.touched.password&&(null===(n=j.password)||void 0===n?void 0:n.message);return r.a.createElement("div",{className:"Login"},r.a.createElement(A,{header:"Login to Expence",body:r.a.createElement("form",{noValidate:!0,onSubmit:y(e.handleSubmit)},r.a.createElement(v.a,{id:"login-email",name:"email",type:"text",inputRef:l,label:"Email",variant:"outlined",error:!!C,helperText:C,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(w.a,null))}}),r.a.createElement(v.a,{id:"login-password",name:"password",type:u?"text":"password",inputRef:l,label:"Password",variant:"outlined",error:!!D,helperText:D,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(b.a,{onClick:function(){return c((function(e){return!e}))},size:"small"},u?r.a.createElement(k.a,null):r.a.createElement(O.a,null)))}}),r.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Login"),e.error?r.a.createElement(S,{color:"error"},e.error):null,r.a.createElement(g.a,{variant:"outlined",onClick:function(){return e.handleGoogleSubmit()},startIcon:r.a.createElement("img",{className:"logo",src:E.a,alt:"Google Logo"}),fullWidth:!0},"Log in with Google")),footer:r.a.createElement("div",{className:"footerContent"},r.a.createElement(g.a,{onClick:function(){return e.handleCreateAccount()}},"Create account"),r.a.createElement(g.a,{onClick:function(){return e.handleForgotPassword()}},"Forgot password"))}))},T=n(22),F=n(11),I=n(34),P=n(39),R=function(){function e(t){var n,a,r,o;Object(I.a)(this,e),this.id=void 0,this.displayName=void 0,this.email=void 0,this.photoUrl=void 0,this.googleId=void 0,this.id=t.id,this.displayName=null!==(n=t.displayName)&&void 0!==n?n:void 0,this.email=null!==(a=t.email)&&void 0!==a?a:void 0,this.photoUrl=null!==(r=t.photoUrl)&&void 0!==r?r:void 0,this.googleId=null!==(o=t.googleId)&&void 0!==o?o:void 0}return Object(P.a)(e,[{key:"toJson",value:function(){return{id:this.id,displayName:this.displayName,email:this.email,googleId:this.googleId,photoUrl:this.photoUrl}}}],[{key:"isJson",value:function(t){try{return e.JsonSchema.isValidSync(t),!0}catch(n){return!1}}}]),e}();R.JsonSchema=Object(T.b)({id:Object(T.c)().required().min(1),displayName:Object(T.c)(),photoUrl:Object(T.c)(),email:Object(T.c)(),googleId:Object(T.c)()}).required();var M=n(117),_=n(115),W=n(54),L=n(402),U=n.n(L),B=function(){function e(){Object(I.a)(this,e)}return Object(P.a)(e,null,[{key:"API_URL",get:function(){return"https://expenceapp.herokuapp.com"}}]),e}(),q=n(403),Y=n.n(q),V=function(){function e(t){Object(I.a)(this,e),this.value=void 0,this.value=t}return Object(P.a)(e,[{key:"getOr",value:function(e){return this.value}},{key:"isSuccess",value:function(){return!0}},{key:"isFailure",value:function(){return!1}},{key:"onSuccess",value:function(e){return e(this.value),this}},{key:"onFailure",value:function(e){return this}}],[{key:"All",value:function(e){return e.filter((function(e){return e.isSuccess()})).map((function(e){return e}))}},{key:"From",value:function(t){return new e(t)}},{key:"Empty",value:function(){return new e(void 0)}}]),e}(),z=function(){function e(t,n){var a,r,o;Object(I.a)(this,e),this.message=void 0,this.status=void 0,this.code=void 0,this.details=void 0,this.value=void 0,this.details={message:null!==(a=null===n||void 0===n?void 0:n.message)&&void 0!==a?a:"Unknown failure.",status:null!==(r=null===n||void 0===n?void 0:n.status)&&void 0!==r?r:0,code:null!==(o=null===n||void 0===n?void 0:n.code)&&void 0!==o?o:"failure/unknown"},this.message=this.details.message,this.status=this.details.status,this.code=this.details.code,this.value=t}return Object(P.a)(e,[{key:"getOr",value:function(e){return e}},{key:"onSuccess",value:function(e){return this}},{key:"onFailure",value:function(e){return e(this),this}},{key:"isSuccess",value:function(){return!1}},{key:"isFailure",value:function(){return!0}}],[{key:"All",value:function(e){return e.filter((function(e){return e.isFailure()})).map((function(e){return e}))}},{key:"AxiosError",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){if(t.response){var n=t.response.data;return new e((null===n||void 0===n?void 0:n.errors)&&"object"===typeof n.errors?{errors:n.errors}:{},{status:t.response.status,message:(null===n||void 0===n?void 0:n.message)&&"string"===typeof n.message?n.message:"Unknown server error",code:(null===n||void 0===n?void 0:n.code)&&"string"===typeof n.code?n.code:"server/unknown"})}return t.request?new e({},{status:21,code:"server/unavailable",message:"Could not reach server"}):new e({},{status:22,code:"server/failure-formulating-request",message:"Could not formulate request to server"})}))},{key:"InvalidResponse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"failure",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new e({response:t},{status:23,code:"".concat(n,"/invalid-response"),message:"".concat(a," Invalid response from server.").trim()})}},{key:"Unimplemented",value:function(){return new e(void 0,{code:"failure/unimplemented",message:"Unimplemented feature",status:2})}},{key:"Error",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){return new e(t,{message:t.message,code:"error/".concat(t.name),status:1})}))},{key:"Unknown",value:function(){return new e(void 0)}}]),e}();function J(e){return e.then((function(e){return new V(e)})).catch((function(e){return new z(e)}))}function G(e){var t=e();return t instanceof Promise?t.then((function(e){return e instanceof V?new V(e.value):new z(e.value,e.details)})):t instanceof V?new V(t.value):new z(t.value,t.details)}var H=function(){function e(){Object(I.a)(this,e)}return Object(P.a)(e,null,[{key:"endpoint",value:function(t){return"".concat(e.baseURL).concat(t)}},{key:"isAccessTokenValid",value:function(){var e=Ie.getState().auth.accessToken;if(!e)return!1;try{var t=Y.a.decode(e),n=1e3*Number((null===t||void 0===t?void 0:t.exp)||0);return Date.now()<n-5e3}catch(a){return console.warn("Error occured while checking access token",a),!1}}},{key:"attemptRefreshAccessToken",value:function(){var t=Object(l.a)(s.a.mark((function t(){var n,a,r,o,i=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]&&i[0],e.isAccessTokenValid()&&!n){t.next=15;break}return a=e.endpoint("/auth/refresh_token"),t.prev=4,t.next=7,e.axios.get(a);case 7:r=t.sent,o=r.data,Ie.getActions().auth._setAccessToken(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),Ie.getState().auth.accessToken&&Ie.getActions().auth.logout();case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"onBeforeRequest",value:function(){var t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.attemptRefreshAccessToken();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(e){var t=Ie.getState().auth.accessToken,n=Object(W.a)({},null===e||void 0===e?void 0:e.headers);return t&&(n.Authorization="bearer ".concat(t)),Object(W.a)(Object(W.a)({},e),{},{headers:n})}},{key:"handleRequest",value:function(){var t=Object(l.a)(s.a.mark((function t(n,a,r){var o,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onBeforeRequest();case 2:return o=e.endpoint(n),i=e.getConfig(a),u=r(o,i),t.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(u);case 2:if(!(t=e.sent).isSuccess()){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",z.AxiosError(t.value));case 8:case"end":return e.stop()}}),e)})))));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(l.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,a,(function(t,n){return e.axios.get(t,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(l.a)(s.a.mark((function t(n,a,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,r,(function(t,n){return e.axios.post(t,a,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(l.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,a,(function(t,n){return e.axios.delete(t,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(l.a)(s.a.mark((function t(n,a,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,r,(function(t,n){return e.axios.put(t,a,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"patch",value:function(){var t=Object(l.a)(s.a.mark((function t(n,a,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,r,(function(t,n){return e.axios.patch(t,a,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}]),e}();H.baseURL="".concat(B.API_URL,"/api"),H.axios=U.a.create({baseURL:H.baseURL,withCredentials:!0});var K=function(e){Object(M.a)(n,e);var t=Object(_.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,null,[{key:"getProfile",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/auth/profile");case 2:if(!(t=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",t);case 7:if(!R.isJson(t.value)){e.next=11;break}return e.abrupt("return",new V(t.value));case 11:return e.abrupt("return",z.InvalidResponse(t.value,"auth/profile","Could not get profile."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"registerWithEmailAndPassword",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("/auth/register",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",V.Empty());case 11:return e.abrupt("return",z.InvalidResponse(n.value,"auth/register","Could not register."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginWithEmailAndPassword",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("/auth/login",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",V.Empty());case 11:return e.abrupt("return",z.InvalidResponse(n.value,"auth/login","Could not login."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("/auth/forgot_password",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",V.Empty());case 11:return e.abrupt("return",z.InvalidResponse(n.value,"auth/forgot-password","Could not send forgot password link."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"validatePasswordChangeToken",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/auth/change_password/".concat(t.token));case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status||!n.value.data||"string"!==typeof n.value.data){e.next=11;break}return e.abrupt("return",new V(n.value.data));case 11:return e.abrupt("return",z.InvalidResponse(n.value,"auth/change-password","Could not valildate password change token."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("/auth/change_password/".concat(t.token),{password:t.password});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",V.Empty());case 11:return e.abrupt("return",z.InvalidResponse(n.value,"auth/change-password","Could not change password."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestConfirmationEmail",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("/auth/request_confirm_email",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",V.Empty());case 11:return e.abrupt("return",z.InvalidResponse(n.value,"auth/request-confirm-email","Unable to get new confirmation email"));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"confirmEmail",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/auth/confirm_email/".concat(t.token));case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",V.Empty());case 11:return e.abrupt("return",z.InvalidResponse(n.value,"auth/confirm-email","Could not confirm email."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("/auth/logout");case 2:if(!(t=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",t);case 7:if(200!==t.value.status){e.next=11;break}return e.abrupt("return",V.Empty());case 11:return e.abrupt("return",z.InvalidResponse(t.value,"auth/logout","Could not log out."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loginWithGoogle",value:function(){window.location.href=H.endpoint("/auth/google")}}]),n}(H),Z={initialized:!1,_setInitialized:Object(F.b)((function(e,t){e.initialized=t})),user:null,isLoggedIn:Object(F.c)((function(e){return Boolean(e.user)})),accessToken:null,_setAccessToken:Object(F.b)((function(e,t){e.accessToken=t})),_login:Object(F.b)((function(e,t){R.isJson(t)&&(e.user=new R(t))})),_logout:Object(F.b)((function(e){e.user=null,e.accessToken=null})),getProfile:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getProfile();case 2:return(a=e.sent).onSuccess((function(e){t._login(e)})),t._setInitialized(!0),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),loginWithGoogle:Object(F.f)((function(e,t){return K.loginWithGoogle()})),loginWithEmailPassword:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.loginWithEmailAndPassword(n);case 2:return(a=e.sent).onSuccess(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getProfile();case 2:e.sent.onSuccess((function(e){t._login(e)}));case 4:case"end":return e.stop()}}),e)})))),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),registerWithEmailPassword:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.registerWithEmailAndPassword(n);case 2:if(!(a=e.sent).isSuccess()){e.next=8;break}return e.next=6,K.getProfile();case 6:e.sent.onSuccess((function(e){t._login(e)}));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),forgotPassword:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.forgotPassword(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),validateChangePasswordToken:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.validatePasswordChangeToken(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),changePassword:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.changePassword(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),confirmEmail:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.confirmEmail(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),requestConfirmationEmail:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.requestConfirmationEmail(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),logout:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.logout();case 2:return(a=e.sent).onSuccess((function(){t._logout()})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},$=n(670),Q=function(){function e(t){if(Object(I.a)(this,e),this._value=void 0,Math.trunc(t)!==t)throw new Error("Cannot construct money amount from non-integer value");this._value=t}return Object(P.a)(e,[{key:"format",value:function(){return this.decimalValue.toLocaleString("fi-FI",{style:"currency",currency:"EUR"})}},{key:"add",value:function(t){return new e(this._value+t._value)}},{key:"subtract",value:function(t){return new e(this._value-t._value)}},{key:"value",get:function(){return this._value}},{key:"decimalValue",get:function(){return this._value/100}},{key:"euros",get:function(){return Math.trunc(this._value/100)}},{key:"cents",get:function(){return Math.floor(Math.abs(this._value)%100)}},{key:"sign",get:function(){return 0===this._value?0:this._value>0?1:-1}},{key:"isPositive",get:function(){return this._value>0}},{key:"isNonNegative",get:function(){return this._value>=0}},{key:"isZero",get:function(){return 0===this._value}},{key:"isNonPositive",get:function(){return this._value<=0}},{key:"isNegative",get:function(){return this._value<0}}],[{key:"sum",value:function(t){return t.reduce((function(e,t){return e.add(t)}),new e(0))}}]),e}(),X=function(){function e(t){Object(I.a)(this,e),this.date=void 0,this.category=void 0,this.comment=void 0,this.amount=void 0,this.id=void 0,this.uid=void 0,this.date=new Date(t.time),this.comment=t.comment||"",this.category=t.category,this.amount=new Q(Math.floor(t.integerAmount)),this.id=t.id||$.a(),this.uid=t.uid}return Object(P.a)(e,[{key:"toJson",value:function(){return{time:this.date.getTime(),category:this.category,comment:this.comment,integerAmount:this.amount.value,id:this.id,uid:this.uid}}}],[{key:"isJson",value:function(t){try{return e.JsonSchema.validateSync(t),!0}catch(n){return!1}}},{key:"isJsonArray",value:function(t){return Array.isArray(t)&&t.every(e.isJson)}}]),e}();X.JsonSchema=Object(T.b)({id:Object(T.c)().required(),uid:Object(T.c)().required(),time:Object(T.a)().positive().integer().required(),category:Object(T.c)().min(1).required(),integerAmount:Object(T.a)().integer().required(),comment:Object(T.c)()}).required();var ee=function(e){Object(M.a)(n,e);var t=Object(_.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,null,[{key:"getTransactions",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/transactions");case 2:if(!(t=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",t);case 7:if(!X.isJsonArray(t.value.data)){e.next=11;break}return e.abrupt("return",new V(t.value.data));case 11:return e.abrupt("return",z.InvalidResponse(t.value,"transactions/get","Could not get transactions."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"postTransaction",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("/transactions",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(!X.isJson(n.value.data)){e.next=11;break}return e.abrupt("return",new V(n.value.data));case 11:return e.abrupt("return",z.InvalidResponse(n.value,"transactions/post","Could not post transaction."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTransaction",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.delete("/transactions/".concat(t));case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",V.Empty());case 11:return e.abrupt("return",z.InvalidResponse(n.value,"transactions/delete","Could not delete transaction."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"putTransaction",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.put("/transactions/".concat(t.id),t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(!X.isJson(n.value.data)){e.next=11;break}return e.abrupt("return",new V(n.value.data));case 11:return e.abrupt("return",z.InvalidResponse(n.value,"transactions/put","Could not put transaction"));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"patchTransaction",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.patch("/transactions/".concat(t.id),t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(!X.isJson(n.value.data)){e.next=11;break}return e.abrupt("return",new V(n.value.data));case 11:return e.abrupt("return",z.InvalidResponse(n.value,"transactions/patch","Could not patch transaction."));case 12:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(H),te=n(32),ne=n(30),ae=n(637),re=n(80);function oe(e,t,n){var a=e.reduce((function(e,n){var a,r=function(e){var n=t(e);return ae.a(n,"yyyy-MM-dd")}(n);return Object(W.a)(Object(W.a)({},e),{},Object(te.a)({},r,[].concat(Object(ne.a)(null!==(a=e[r])&&void 0!==a?a:[]),[n])))}),{}),r=Object.entries(a).map((function(e){return{date:re.a(new Date(e[0])),items:e[1]}}));return(null===n||void 0===n?void 0:n.sort)?r.sort((function(e,t){return t.date.getTime()-e.date.getTime()})):r}function ie(e,t,n){var a=ue(e),r=ue(n);switch(t){case"<":return a<r;case"<=":return a<=r;case"==":return a===r;case">=":return a>=r;case">":return a>r}}function ue(e){return 341*e.getFullYear()+31*e.getMonth()+e.getDate()}var ce={items:Object(F.c)([function(e,t){return t.transactions.items},function(e,t){return t.interval.startDate},function(e,t){return t.interval.endDate},function(e,t){return t.filters.searchTerm},function(e,t){return t.filters.minAmount},function(e,t){return t.filters.maxAmount},function(e,t){return t.filters.excludedCategories}],(function(e,t,n,a,r,o,i){return e.filter((function(e){return!ie(e.date,"<",t)&&(!ie(e.date,">",n)&&(!(e.amount.value<r)&&(!(e.amount.value>o)&&(!i.includes(e.category)&&!!(e.amount.format().toLowerCase().includes(a)||e.category.toLowerCase().includes(a)||e.comment.toLowerCase().includes(a))))))}))})),itemsByDates:Object(F.c)([function(e,t){return t.transactions.filtered.items}],(function(e){return oe(e,(function(e){return e.date}),{sort:!0})})),count:Object(F.c)([function(e,t){return t.transactions.filtered.items}],(function(e){return e.length})),sums:Object(F.c)([function(e,t){return t.transactions.filtered.items}],(function(e){var t=e.filter((function(e){return e.amount.isPositive})).reduce((function(e,t){return e+t.amount.value}),0),n=e.filter((function(e){return e.amount.isNegative})).reduce((function(e,t){return e+t.amount.value}),0);return{all:new Q(t+n),incomes:new Q(t),expenses:new Q(n)}}))},se={items:[],itemsByDates:Object(F.c)((function(e){return oe(e.items,(function(e){return e.date}),{sort:!0})})),count:Object(F.c)((function(e){return e.items.length})),sums:Object(F.c)((function(e){var t=e.items.filter((function(e){return e.amount.isPositive})).reduce((function(e,t){return e+t.amount.value}),0),n=e.items.filter((function(e){return e.amount.isNegative})).reduce((function(e,t){return e+t.amount.value}),0);return{all:new Q(t+n),incomes:new Q(t),expenses:new Q(n)}})),filtered:ce,categories:Object(F.c)((function(e){return e.items.map((function(e){return e.category})).filter((function(e,t,n){return n.indexOf(e)===t}))})),minimumAmount:Object(F.c)((function(e){return e.items.reduce((function(e,t){return t.amount.value<e.value?t.amount:e}),new Q(0))})),maximumAmount:Object(F.c)((function(e){return e.items.reduce((function(e,t){return t.amount.value>e.value?t.amount:e}),new Q(0))})),getTransactions:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getTransactions();case 2:return(a=e.sent).onSuccess((function(e){return t._getTransactions(e)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_getTransactions:Object(F.b)((function(e,t){e.items=t.map((function(e){return new X(e)}))})),postTransaction:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.postTransaction(n);case 2:return(a=e.sent).onSuccess((function(e){return t._postTransaction(e)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_postTransaction:Object(F.b)((function(e,t){e.items.push(new X(t))})),deleteTransaction:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.deleteTransaction(n);case 2:return(a=e.sent).onSuccess((function(){return t.deleteTransaction(n)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_deleteTransaction:Object(F.b)((function(e,t){e.items=e.items.filter((function(e){return e.id!==t}))})),putTransaction:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.putTransaction(n);case 2:return(a=e.sent).onSuccess((function(e){return t._putTransaction(e)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_putTransaction:Object(F.b)((function(e,t){e.items=e.items.map((function(e){return e.id===t.id?new X(t):e}))})),patchTransaction:Object(F.f)(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.patchTransaction(n);case 2:return(a=e.sent).onSuccess((function(e){return t._patchTransaction(e)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_patchTransaction:Object(F.b)((function(e,t){e.items=e.items.map((function(e){return e.id===t.id?new X(t):e}))})),onAuthChanged:Object(F.g)((function(e,t){return[t.auth.logout,t.auth._login]}),(function(e,t){var n=Object(m.a)(t.resolvedTargets,2),a=n[0],r=n[1];switch(t.type){case a:e._clearTransactions();break;case r:e.getTransactions()}})),_clearTransactions:Object(F.b)((function(e){e.items=[]}))},le=n(223),me=n(138),fe=n(139),de=n(224),pe=n(225),ve=n(638),he=n(119),be=n(120),ge=n(639),ye=n(140),Ee=n(406),we=n(640),ke=n(407),Oe=n(641),je=n(408),xe=n(642),Ce=n(643),Se=n(644),De=n(645),Ae=n(415),Ne=new Date(0),Te=new Date(2533707576e5),Fe={transactions:se,interval:{startDate:le.a(new Date),endDate:me.a(new Date),setStartDate:Object(F.b)((function(e,t){if(ie(t,">",e.endDate))throw new Error("Start date cannot be after end date");e.startDate=t})),setEndDate:Object(F.b)((function(e,t){if(ie(t,"<",e.startDate))throw new Error("End date cannot be before start date");e.endDate=t})),setInterval:Object(F.b)((function(e,t){if(ie(t.startDate,">",t.endDate))throw new Error("End date cannot be before start date");e.startDate=t.startDate,e.endDate=t.endDate})),nextInterval:Object(F.b)((function(e){if(!e.isAll){var t=fe.a(e.endDate,1);e.isYear?e.endDate=de.a(t):e.isMonth?e.endDate=me.a(t):e.isWeek?e.endDate=pe.a(t,{weekStartsOn:1}):e.endDate=fe.a(t,e.length),e.startDate=t}})),previousInterval:Object(F.b)((function(e){if(!e.isAll){var t=ve.a(e.startDate,1);e.isYear?e.startDate=he.a(t):e.isMonth?e.startDate=le.a(t):e.isWeek?e.startDate=be.a(t,{weekStartsOn:1}):e.startDate=ve.a(t,e.length),e.endDate=t}})),length:Object(F.c)((function(e){return ge.a(e.startDate,e.endDate)})),dayInterval:Object(F.b)((function(e){var t=e.isAll?new Date:e.startDate;e.startDate=re.a(t),e.endDate=ye.a(t)})),weekInterval:Object(F.b)((function(e){var t=e.isAll?new Date:e.startDate;e.startDate=be.a(t,{weekStartsOn:1}),e.endDate=pe.a(t,{weekStartsOn:1})})),monthInterval:Object(F.b)((function(e){var t=e.isAll?new Date:e.startDate;e.startDate=le.a(t),e.endDate=me.a(t)})),yearInterval:Object(F.b)((function(e){var t=e.isAll?new Date:e.startDate;e.startDate=he.a(t),e.endDate=de.a(t)})),allInterval:Object(F.b)((function(e){e.startDate=Ne,e.endDate=Te})),now:Object(F.b)((function(e){var t=new Date;e.isYear?(e.startDate=he.a(t),e.endDate=de.a(t)):e.isMonth?(e.startDate=le.a(t),e.endDate=me.a(t)):e.isWeek?(e.startDate=be.a(t,{weekStartsOn:1}),e.endDate=pe.a(t,{weekStartsOn:1})):e.isDay?(e.startDate=re.a(t),e.endDate=ye.a(t)):(e.endDate=ye.a(fe.a(t,e.length)),e.startDate=re.a(t))})),isAll:Object(F.c)((function(e){return ie(e.startDate,"==",Ne)&&ie(e.endDate,"==",Te)})),isYear:Object(F.c)((function(e){return Ee.a(e.startDate,e.endDate)&&1===we.a(e.startDate)&&ke.a(e.endDate,Oe.a(e.endDate))})),isMonth:Object(F.c)((function(e){return je.a(e.startDate,e.endDate)&&xe.a(e.startDate)&&Ce.a(e.endDate)})),isWeek:Object(F.c)((function(e){return Se.a(e.startDate,e.endDate,{weekStartsOn:1})&&1===De.a(e.startDate)&&0===De.a(e.endDate)})),isDay:Object(F.c)((function(e){return ke.a(e.startDate,e.endDate)})),includesToday:Object(F.c)((function(e){var t=new Date;return ie(t,">=",e.startDate)&&ie(t,"<=",e.endDate)})),smartDisplayString:Object(F.c)((function(e){return e.isAll?"All":e.isYear?Ae.a(e.startDate,"yyyy"):e.isMonth?Ae.a(e.startDate,"MMMM, yyyy"):e.isDay?Ae.a(e.startDate,"d.M.yyyy"):e.displayString})),displayString:Object(F.c)((function(e){return(Ee.a(e.startDate,e.endDate)?Ae.a(e.startDate,"d.M"):Ae.a(e.startDate,"d.M.yyyy"))+" - "+Ae.a(e.endDate,"d.M.yyyy")}))},filters:{searchTerm:"",minAmount:Number.NEGATIVE_INFINITY,maxAmount:Number.POSITIVE_INFINITY,excludedCategories:[],resetAll:Object(F.b)((function(e){e.searchTerm="",e.minAmount=Number.NEGATIVE_INFINITY,e.maxAmount=Number.POSITIVE_INFINITY,e.excludedCategories=[]})),setSearchTerm:Object(F.b)((function(e,t){e.searchTerm=t})),resetSearchTerm:Object(F.b)((function(e){e.searchTerm=""})),setAmount:Object(F.b)((function(e,t){var n=Object(m.a)(t,2),a=n[0],r=n[1];"number"===typeof a&&(e.minAmount=a),"number"===typeof r&&(e.maxAmount=r)})),resetAmount:Object(F.b)((function(e){e.minAmount=Number.NEGATIVE_INFINITY,e.maxAmount=Number.POSITIVE_INFINITY})),excludeCategory:Object(F.b)((function(e,t){var n;(n=e.excludedCategories).push.apply(n,Object(ne.a)(Array.isArray(t)?t:[t]))})),includeCategory:Object(F.b)((function(e,t){e.excludedCategories=e.excludedCategories.filter((function(e){return e!==t}))})),resetExcludedCategories:Object(F.b)((function(e){e.excludedCategories=[]}))},auth:Z},Ie=Object(F.d)(Fe);var Pe=Object(F.e)(),Re=Pe.useStoreActions,Me=(Pe.useStoreDispatch,Pe.useStoreState);Pe.useStore;function _e(){var e=Object(u.g)();return function(t){return e.push("string"===typeof t?t:t(tn))}}var We=T.b({email:T.c().defined().email(),password:T.c().defined()}).defined(),Le=function(){var e=Object(a.useState)(),t=Object(m.a)(e,2),n=t[0],o=t[1],i=_e(),u=Me((function(e){return e.auth.user})),c=Re((function(e){return e.auth.loginWithGoogle})),f=Re((function(e){return e.auth.loginWithEmailPassword})),d=Re((function(e){return e.auth.requestConfirmationEmail}));function p(){return(p=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(void 0),e.next=3,f(t);case 3:(n=e.sent).onSuccess((function(){return i((function(e){return e.dashboard}))})),n.onFailure((function(e){switch(e.code){case"data/invalid-request-data":o("Invalid email or password.");break;case"auth/invalid-credentials":o("Wrong password or the user does not have a password.");break;case"auth/user-not-found":o("No user exists with that email.");break;case"auth/email-not-confirmed":o("Confirm your email before logging in. We have sent you a new email confirmation link."),(null===u||void 0===u?void 0:u.email)&&d({email:u.email});break;case"server/unavailable":o("Could not contact server. Try again later.");break;default:console.warn("Uncaught error code in login:",e),o("An error occured while logging in. Try again.")}}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i((function(e){return e.forgotPassword}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i((function(e){return e.register}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){u&&i((function(e){return e.dashboard}))}),[u,i]),r.a.createElement(N,{handleGoogleSubmit:function(){return v.apply(this,arguments)},handleSubmit:function(e){return p.apply(this,arguments)},handleForgotPassword:function(){return h.apply(this,arguments)},handleCreateAccount:function(){return b.apply(this,arguments)},error:n})},Ue=(n(566),function(e){var t,n,o=Object(a.useState)(!1),i=Object(m.a)(o,2),u=i[0],c=i[1],s=Object(d.c)({resolver:Object(p.a)(Be)}),l=s.formState.touched.email&&(null===(t=s.errors.email)||void 0===t?void 0:t.message),f=s.formState.touched.password&&(null===(n=s.errors.password)||void 0===n?void 0:n.message);return r.a.createElement("div",{className:"Register"},r.a.createElement(A,{header:"Create account",body:e.registered?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{variant:"h6"},"Succesfully registered."),r.a.createElement(S,null,"Check your email in order to confirm your email address. ","You can login after having confirmation.")):r.a.createElement("form",{onSubmit:s.handleSubmit(e.handleSubmit)},r.a.createElement(v.a,{id:"register-email",name:"email",type:"text",inputRef:s.register,label:"Email",variant:"outlined",error:!!l,helperText:l,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(w.a,null))}}),r.a.createElement(v.a,{id:"register-password",name:"password",type:u?"text":"password",inputRef:s.register,label:"Password",variant:"outlined",error:!!f,helperText:f,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(b.a,{onClick:function(){return c((function(e){return!e}))},size:"small"},u?r.a.createElement(k.a,null):r.a.createElement(O.a,null)))}}),r.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Create account"),e.error?r.a.createElement(S,{color:"error"},e.error):null),footer:r.a.createElement(g.a,{onClick:function(){return e.handleLogin()}},"Already have an account? Login")}))}),Be=Object(T.b)({email:Object(T.c)().defined().max(255).email(),password:Object(T.c)().defined().min(6).max(255)}).defined(),qe=function(){var e=Object(a.useState)(),t=Object(m.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!1),u=Object(m.a)(i,2),c=u[0],f=u[1],d=_e(),p=Re((function(e){return e.auth.registerWithEmailPassword}));function v(){return(v=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(void 0),e.next=3,p({email:t.email,password:t.password});case 3:(n=e.sent).onSuccess((function(){return f(!0)})),n.onFailure((function(e){switch(e.code){case"data/invalid-request-data":o("Invalid email or password.");break;case"auth/user-already-exists":o("An user already exists with that email.");break;case"server/unavailable":o("Could not contact server. Try again later.");break;default:console.warn("Uncaught error code in login:",e),o("An error occured while logging in. Try again.")}}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d((function(e){return e.login}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Ue,{handleSubmit:function(e){return v.apply(this,arguments)},handleLogin:function(){return h.apply(this,arguments)},error:n,registered:c})};function Ye(e){var t=e.fallbackRoute,n=Object(f.a)(e,["fallbackRoute"]),a=tn.login,o=Me((function(e){return e.auth.initialized})),i=Me((function(e){return e.auth.isLoggedIn}));return o?i?r.a.createElement(u.b,n):r.a.createElement(u.a,{to:t||a}):null}n(567),n(568),n(569);var Ve=n(646),ze=n(647);function Je(e){var t=e.transaction.amount.isPositive?"positive":"negative";return r.a.createElement("div",{className:"TransactionListing"},r.a.createElement("div",{className:x()("icon",t)},r.a.createElement("div",{className:"iconContainer"},e.transaction.amount.isPositive?r.a.createElement(Ve.a,null):r.a.createElement(ze.a,null))),r.a.createElement("div",{className:"category"},r.a.createElement("span",null,e.transaction.category)),r.a.createElement("div",{className:"comment"},r.a.createElement("span",null,e.transaction.comment)),r.a.createElement("div",{className:x()("amount",t)},r.a.createElement("span",null,e.transaction.amount.format())))}function Ge(e){var t=Re((function(e){return e.transactions.deleteTransaction})),n=Object(a.useCallback)((function(){t(e.transaction.id)}),[e.transaction,t]);return r.a.createElement(Je,{transaction:e.transaction,handleDelete:n})}var He=n(229);function Ke(e){var t=Object(a.createRef)();return Object(a.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.recomputeRowHeights()}),[e,t]),r.a.createElement("div",{className:"TransactionList"},r.a.createElement(He.a,{className:"autoSizer"},(function(n){return r.a.createElement(He.b,{ref:t,className:"virtualizedList",height:n.height,width:n.width,rowCount:e.itemsByDates.length,rowHeight:function(t){var n=t.index;return 68*e.itemsByDates[n].items.length+48},noRowsRenderer:function(){return r.a.createElement(S,null,"No transactions")},rowRenderer:function(t){var n,a=e.itemsByDates[t.index];return r.a.createElement("div",{className:"dateGroup",key:t.key,style:t.style},r.a.createElement(S,null,(n=a.date).getFullYear()===Ze?Object(Ae.a)(n,"dd.MM."):Object(Ae.a)(n,"dd.MM.yyyy")),r.a.createElement("ul",null,a.items.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(Ge,{transaction:e}))}))))}})})))}var Ze=(new Date).getFullYear();function $e(e){var t=Me((function(e){return e.transactions.itemsByDates})),n=Me((function(e){return e.transactions.filtered.itemsByDates}));return r.a.createElement(Ke,{itemsByDates:e.bypassFilters?t:n})}n(579);var Qe=n(411),Xe=n.n(Qe);function et(e){return r.a.createElement("header",{className:"PageHeader"},r.a.createElement("img",{src:Xe.a,alt:"",className:"texture"}),e.children)}n(580);function tt(e){var t=e.amount,n=Object(f.a)(e,["amount"]);return r.a.createElement("span",{className:"MoneyType"},r.a.createElement(S,Object.assign({condensed:!0},n,{component:"span"}),t.format()))}n(581);var nt=n(650),at=n(651),rt=n(652),ot=n(648),it=n(658),ut=n(398);function ct(e){var t=Object(a.useMemo)((function(){return window.matchMedia(e)}),[e]),n=Object(a.useState)(!1),r=Object(m.a)(n,2),o=r[0],i=r[1],u=Object(a.useCallback)((function(){i(t.matches)}),[t]);return Object(a.useEffect)((function(){return u(),t.addEventListener("change",u),function(){t.removeEventListener("change",u)}}),[t,u]),o}function st(){return ct("(min-width: 600px)")}n(582);var lt=n(649),mt=n(673),ft=n(674);function dt(e){return r.a.createElement("div",{className:"FiltersForm"},r.a.createElement("header",null,r.a.createElement("div",{className:"title"},r.a.createElement(S,{variant:"button"},"Filters"),r.a.createElement(ot.a,null)),r.a.createElement(g.a,{variant:"text",onClick:e.onResetAll},"Reset all")),r.a.createElement("section",{className:"searchTerm"},r.a.createElement("div",{className:"sectionLabel"},r.a.createElement(S,{className:"label"},"Search term")),r.a.createElement(v.a,{value:e.searchTerm,onChange:function(t){return e.setSearchTerm(t.target.value)},variant:"outlined",size:"small",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(b.a,{size:"small",onClick:e.onResetSearchTerm},r.a.createElement(lt.a,null)))}})),r.a.createElement("section",{className:"amount"},r.a.createElement("div",{className:"sectionLabel"},r.a.createElement(S,{className:"label"},"Amount"),r.a.createElement(g.a,{variant:"text",onClick:e.onResetAmount},"Reset")),r.a.createElement("div",{className:"sliderLabel"},r.a.createElement(S,null,e.minAmount<=e.minPossibleAmount?"N/A":Math.floor(e.minAmount/100)+" \u20ac"),r.a.createElement(S,null,e.maxAmount>=e.maxPossibleAmount?"N/A":Math.ceil(e.maxAmount/100)+" \u20ac")),r.a.createElement("div",{className:"sliderContainer"},r.a.createElement(mt.a,{value:[Math.floor(e.minAmount/100),Math.ceil(e.maxAmount/100)],onChange:function(t,n){return Array.isArray(n)&&2===n.length?e.setAmount(n.map((function(e){return 100*e}))):console.error("Slider returned value which is not a numeric tuple:",n)},step:1,min:Math.floor(e.minPossibleAmount/100),max:Math.ceil(e.maxPossibleAmount/100),marks:[{value:0,label:"0"}],valueLabelDisplay:"off"}))),r.a.createElement("section",{className:"category"},r.a.createElement("div",{className:"sectionLabel"},r.a.createElement(S,{className:"label"},"Categories"),r.a.createElement(g.a,{variant:"text",onClick:e.onResetExcludedCategories},"Reset")),r.a.createElement("div",{className:"categoryChips"},e.categories.map((function(t){var n=e.excludedCategories.includes(t);return r.a.createElement(ft.a,{onClick:function(){n?e.includeCategory(t):e.excludeCategory(t)},color:n?"default":"primary",label:t})}))),r.a.createElement("div",{className:"categoryActions"},r.a.createElement(g.a,{variant:"text",onClick:e.onResetExcludedCategories},"Select all"),r.a.createElement(g.a,{variant:"text",onClick:function(){return e.excludeCategory(e.categories)}},"Deselect all"))),void 0===e.onConfirm?null:r.a.createElement("section",{className:"ok"},r.a.createElement(g.a,{color:"primary",variant:"contained",onClick:e.onConfirm,fullWidth:!0},"Ok")))}function pt(e){var t=Re((function(e){return e.filters.resetAll})),n=Re((function(e){return e.filters.resetSearchTerm})),a=Re((function(e){return e.filters.resetAmount})),o=Re((function(e){return e.filters.resetExcludedCategories})),i=Me((function(e){return e.transactions.categories})),u=Me((function(e){return e.filters.searchTerm})),c=Me((function(e){return e.filters.minAmount})),s=Me((function(e){return e.filters.maxAmount})),l=Me((function(e){return e.filters.excludedCategories})),m=Re((function(e){return e.filters.setSearchTerm})),f=Re((function(e){return e.filters.setAmount})),d=Re((function(e){return e.filters.excludeCategory})),p=Re((function(e){return e.filters.includeCategory})),v=Me((function(e){return e.transactions.minimumAmount})).value,h=Me((function(e){return e.transactions.maximumAmount})).value;return r.a.createElement(dt,{onConfirm:e.onConfirm,onResetAll:function(){t(),e.onConfirm&&e.onConfirm()},onResetSearchTerm:function(){return n()},onResetAmount:function(){return a()},onResetExcludedCategories:function(){return o()},categories:i,searchTerm:u,minAmount:c,maxAmount:s,excludedCategories:l,setSearchTerm:function(e){return m(e)},setAmount:function(e){return f(e)},excludeCategory:function(e){return d(e)},includeCategory:function(e){return p(e)},minPossibleAmount:v,maxPossibleAmount:h})}n(583);var vt=n(668);function ht(e){return r.a.createElement("div",{className:"IntervalPickerForm"},r.a.createElement("section",{className:"title"},r.a.createElement("div",{className:"currentInterval"},r.a.createElement(nt.a,null),r.a.createElement(S,null,e.intervalString)),r.a.createElement("div",{className:"nextOrPreviousInterval"},r.a.createElement(b.a,{disabled:e.isAll,onClick:e.onPrevious},r.a.createElement(at.a,null)),r.a.createElement(g.a,{variant:"text",color:e.includesToday?"primary":"default",onClick:e.onNow},"Now"),r.a.createElement(b.a,{disabled:e.isAll,onClick:e.onNext},r.a.createElement(rt.a,null)))),r.a.createElement(D.a,null),r.a.createElement("section",{className:"intervalLength"},r.a.createElement(g.a,{variant:"text",color:e.isDay?"primary":"default",onClick:e.onDay},"Day"),r.a.createElement(g.a,{variant:"text",color:e.isWeek?"primary":"default",onClick:e.onWeek},"Week"),r.a.createElement(g.a,{variant:"text",color:e.isMonth?"primary":"default",onClick:e.onMonth},"Month"),r.a.createElement(g.a,{variant:"text",color:e.isYear?"primary":"default",onClick:e.onYear},"Year"),r.a.createElement(g.a,{variant:"text",color:e.isAll?"primary":"default",onClick:e.onAll},"All")),r.a.createElement("section",{className:"dateSection"},r.a.createElement(vt.a,{value:ie(e.startDate,"==",Ne)?null:e.startDate,onChange:function(t){return e.setStartDate(t)},format:"dd/MM/yyyy",inputVariant:"outlined",variant:"inline",size:"small",label:"From",fullWidth:!0})),r.a.createElement("section",{className:"dateSection"},r.a.createElement(vt.a,{value:ie(e.endDate,"==",Te)?null:e.endDate,onChange:function(t){return e.setEndDate(t)},format:"dd/MM/yyyy",inputVariant:"outlined",variant:"inline",size:"small",label:"To",fullWidth:!0})),e.onConfirm&&r.a.createElement(g.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:e.onConfirm},"Ok"))}function bt(e){var t=Me((function(e){return e.interval.smartDisplayString})),n=Me((function(e){return e.interval.isDay})),a=Me((function(e){return e.interval.isWeek})),o=Me((function(e){return e.interval.isMonth})),i=Me((function(e){return e.interval.isYear})),u=Me((function(e){return e.interval.isAll})),c=Re((function(e){return e.interval.dayInterval})),s=Re((function(e){return e.interval.weekInterval})),l=Re((function(e){return e.interval.monthInterval})),m=Re((function(e){return e.interval.yearInterval})),f=Re((function(e){return e.interval.allInterval})),d=Re((function(e){return e.interval.previousInterval})),p=Re((function(e){return e.interval.nextInterval})),v=Re((function(e){return e.interval.now})),h=Me((function(e){return e.interval.includesToday})),b=Me((function(e){return e.interval.startDate})),g=Me((function(e){return e.interval.endDate})),y=Re((function(e){return e.interval.setStartDate})),E=Re((function(e){return e.interval.setEndDate}));return r.a.createElement(ht,{onConfirm:e.onConfirm,intervalString:t,isDay:n,isWeek:a,isMonth:o,isYear:i,isAll:u,onDay:function(){return c()},onWeek:function(){return s()},onMonth:function(){return l()},onYear:function(){return m()},onAll:function(){return f()},onPrevious:function(){return d()},onNext:function(){return p()},onNow:function(){return v()},includesToday:h,startDate:b,endDate:g,setStartDate:y,setEndDate:E})}function gt(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),o=n[0],i=n[1],u=Object(a.useState)(),c=Object(m.a)(u,2),s=c[0],l=c[1],f=ct("(min-width: 900px)"),d=ct("(min-width: 1200px)");return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{open:o,onClose:function(){return i(!1)},anchor:d?"right":"bottom"},r.a.createElement("div",{className:"FiltersPanel_filtersFormDrawer"},r.a.createElement(pt,{onConfirm:function(){return i(!1)}}))),f?r.a.createElement(ut.a,{open:!!s,onClose:function(){return l(void 0)},anchorEl:s},r.a.createElement("div",{className:"FiltersPanel_intervalPickerMenu"},r.a.createElement(bt,{onConfirm:function(){return l(void 0)}}))):r.a.createElement(it.a,{open:!!s,onClose:function(){return l(void 0)},anchor:"bottom"},r.a.createElement("div",{className:"FiltersPanel_intervalPickerDrawer"},r.a.createElement(bt,{onConfirm:function(){return l(void 0)}}))),r.a.createElement("div",{className:"FiltersPanel"},r.a.createElement("div",{className:"floatLeft"},r.a.createElement(g.a,{variant:"text",startIcon:r.a.createElement(nt.a,null),onClick:function(e){return l(e.currentTarget)}},e.intervalString)),r.a.createElement("div",{className:"floatRight"},d&&r.a.createElement("div",{className:"intervalLength"},r.a.createElement(b.a,{disabled:e.isAll,onClick:e.onPrevious},r.a.createElement(at.a,null)),r.a.createElement(g.a,{variant:"text",color:e.includesToday?"primary":"default",onClick:e.onNow},"Now"),r.a.createElement(b.a,{disabled:e.isAll,onClick:e.onNext},r.a.createElement(rt.a,null)),r.a.createElement(g.a,{variant:"text",color:e.isDay?"primary":"default",onClick:e.onDay},"Day"),r.a.createElement(g.a,{variant:"text",color:e.isWeek?"primary":"default",onClick:e.onWeek},"Week"),r.a.createElement(g.a,{variant:"text",color:e.isMonth?"primary":"default",onClick:e.onMonth},"Month"),r.a.createElement(g.a,{variant:"text",color:e.isYear?"primary":"default",onClick:e.onYear},"Year"),r.a.createElement(g.a,{variant:"text",color:e.isAll?"primary":"default",onClick:e.onAll},"All")),r.a.createElement("div",{className:"filtersButton"},r.a.createElement(g.a,{variant:d?"outlined":"text",endIcon:r.a.createElement(ot.a,null),onClick:function(){return i(!0)}},"Filters")))))}function yt(e){var t=Me((function(e){return e.interval.smartDisplayString})),n=Me((function(e){return e.interval.isDay})),a=Me((function(e){return e.interval.isWeek})),o=Me((function(e){return e.interval.isMonth})),i=Me((function(e){return e.interval.isYear})),u=Me((function(e){return e.interval.isAll})),c=Re((function(e){return e.interval.dayInterval})),s=Re((function(e){return e.interval.weekInterval})),l=Re((function(e){return e.interval.monthInterval})),m=Re((function(e){return e.interval.yearInterval})),f=Re((function(e){return e.interval.allInterval})),d=Re((function(e){return e.interval.previousInterval})),p=Re((function(e){return e.interval.nextInterval})),v=Re((function(e){return e.interval.now})),h=Me((function(e){return e.interval.includesToday}));return r.a.createElement(gt,{intervalString:t,isDay:n,isWeek:a,isMonth:o,isYear:i,isAll:u,onDay:function(){return c()},onWeek:function(){return s()},onMonth:function(){return l()},onYear:function(){return m()},onAll:function(){return f()},onPrevious:function(){return d()},onNext:function(){return p()},onNow:function(){return v()},includesToday:h})}function Et(e){return r.a.createElement("div",{className:"Dashboard"},r.a.createElement(et,null,r.a.createElement("div",{className:"totals"},r.a.createElement(tt,{amount:e.filteredSum,variant:"h4"}))),r.a.createElement("section",{className:"filtersPanel"},r.a.createElement(yt,null)),r.a.createElement("section",{className:"transactionsList"},r.a.createElement($e,null)))}function wt(){var e=Me((function(e){return e.auth.user})),t=Me((function(e){return e.interval.smartDisplayString})),n=Me((function(e){return e.transactions.filtered.sums}));return e?r.a.createElement(Et,{intervalString:t,filteredSum:n.all,filteredIncomesSum:n.incomes,filteredExpensesSum:n.expenses,user:e}):null}n(584);var kt=n(228),Ot=n.n(kt),jt=function(){function e(){Object(I.a)(this,e)}return Object(P.a)(e,null,[{key:"FileReaderFailure",value:function(e){return new z(e,{code:"file-io/file-reader-error",message:"Error reading file",status:10})}},{key:"FileReaderAbortedFailure",value:function(){return new z(null,{code:"file-io/aborted",message:"File read aborted",status:10})}},{key:"FileReaderMissingTargetFailure",value:function(){return new z(null,{code:"file-io/no-reader-event-target",message:"Reader did not provide a target",status:10})}},{key:"FileReaderInvalidTypeFailure",value:function(e){return new z(e,{code:"file-io/invalid-type",message:"Reader target result of invalid type",status:10})}},{key:"MissingFileFailure",value:function(){return new z(null,{code:"file-io/missing-file",message:"File not found",status:10})}},{key:"createReader",value:function(t,n){var a=new FileReader;return a.onerror=function(n){t(e.FileReaderFailure(n))},a.onabort=function(){t(e.FileReaderAbortedFailure())},a.onload=n,a}},{key:"readFileAsArrayBuffer",value:function(){var t=Object(l.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var a=n.files?n.files[0]:void 0;if(!a)return e.MissingFileFailure();e.createReader(t,(function(n){n.target&&null!==n.target.result?"string"===typeof n.target.result?t(e.FileReaderInvalidTypeFailure(n.target.result)):t(new V(n.target.result)):t(e.FileReaderMissingTargetFailure())})).readAsArrayBuffer(a)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"readFileAsText",value:function(){var t=Object(l.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var a=n.files?n.files[0]:void 0;if(!a)return e.MissingFileFailure();e.createReader(t,(function(n){var a;"string"===typeof(null===(a=n.target)||void 0===a?void 0:a.result)?t(new V(n.target.result)):n.target?t(e.FileReaderInvalidTypeFailure(n.target.result)):t(e.FileReaderMissingTargetFailure())})).readAsText(a)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),xt=function(e){Object(M.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(I.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).schema=T.b({comment:T.c(),category:T.c().defined().min(1),integerAmount:T.a().defined().integer(),time:T.a().defined().positive().integer()}).defined(),e.options={category:{names:["Kategoria","Category","Class","Luokka"]},integerAmount:{names:["Summa","Sum","M\xe4\xe4r\xe4","Amount"],transformBeforeValidation:function(e){var t=String(e).replace(/[^\d\-\.]/g,""),n=Number(t);return Math.floor(100*n)}},time:{names:["Aika","Time","P\xe4iv\xe4ys","P\xe4iv\xe4","P\xe4iv\xe4m\xe4\xe4r\xe4","Pvm","Date"],transformBeforeValidation:function(e){var t=String(e).split("."),n=Object(m.a)(t,3),a=n[0],r=n[1],o=n[2],i=a.padStart(0,"2"),u=r.padStart(0,"2"),c=[o.padStart(0,"4"),u,i].join("-");return new Date(c).getTime()}},comment:{names:["Kommentti","Selite","Seloste","Lis\xe4tieto","Details","Comment","Explanation","Description"]}},e}return n}(function(){function e(){Object(I.a)(this,e),this.schema=void 0,this.options=void 0}return Object(P.a)(e,[{key:"parseRow",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(Object(l.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof t&&t){e.next=2;break}return e.abrupt("return",new z(null,{status:10,code:"spreadsheet/invalid-row",message:"Invalid row"}));case 2:return e.prev=2,a={},Object.keys(n.options).forEach((function(e){var r=n.options[e],o=Object.keys(t).find((function(e){return r.names.map((function(e){return e.toLowerCase()})).includes(e.toLowerCase())}));if(o){var i=t[o];a[e]=r.transformBeforeValidation?r.transformBeforeValidation(i):i}})),e.next=7,n.schema.validate(a);case 7:return r=e.sent,e.abrupt("return",V.From(r));case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",new z(null,{status:10,code:"spreadsheet/error-parsing-row",message:"Error parsing row"}));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"readFile",value:function(e){var t=this;return G(Object(l.a)(s.a.mark((function n(){var a,r,o,i,u,c,l,m,f;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,jt.readFileAsArrayBuffer(e);case 3:if(!(a=n.sent).isFailure()){n.next=6;break}return n.abrupt("return",new z(a.value,a.details));case 6:return r=Ot.a.read(a.value,{type:"buffer"}),o=r.Sheets[r.SheetNames[0]],i=Ot.a.utils.sheet_to_json(o,{raw:!1}),u=i.map((function(e){return t.parseRow(e)})),n.next=12,Promise.all(u);case 12:return c=n.sent,l=V.All(c),(m=z.All(c)).length>0&&console.warn("Failed parsing ".concat(m.length," rows")),n.abrupt("return",V.From({success:l.map((function(e){return e.value})),failed:m.length}));case 19:return n.prev=19,n.t0=n.catch(0),console.error(n.t0),n.abrupt("return",new z(n.t0,{code:"transaction-io/error",status:10,message:"An error occured while reading JSON transactions from file (".concat(null!==(f=null===n.t0||void 0===n.t0?void 0:n.t0.message)&&void 0!==f?f:"",")")}));case 23:case"end":return n.stop()}}),n,null,[[0,19]])}))))}}]),e}()),Ct=(n(588),n(656));function St(e){return r.a.createElement("div",{className:"FileUploader"},r.a.createElement(S,null,"Tuo tiedostosta"),r.a.createElement("input",{type:"file",onChange:e.handleFileUpload}),e.parsing?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null,"Tiedostoa luetaan..."),r.a.createElement(Ct.a,null)):null,null===e.result?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null,"Tiedostoa ei pystytty lukemaan")):e.result?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null,"Tiedosto luettu"),r.a.createElement(S,null,"L\xf6ytyi ".concat(e.result.success.length+e.result.failed," tapahtumaa")),r.a.createElement(S,{color:"error"},"".concat(e.result.failed," tapahtumaa ep\xe4onnistui")),r.a.createElement(g.a,{disabled:e.uploading,variant:"outlined",onClick:e.handleUpload},e.uploading?r.a.createElement(r.a.Fragment,null,"Tiedostoa ladataan...",r.a.createElement(Ct.a,null)):r.a.createElement(r.a.Fragment,null,"Lataa tiedostot"))):null)}function Dt(e){var t=Object(a.useState)(),n=Object(m.a)(t,2),o=n[0],i=n[1],u=Object(a.useState)(!1),c=Object(m.a)(u,2),f=c[0],d=c[1],p=Object(a.useState)(!1),v=Object(m.a)(p,2),h=v[0],b=v[1];function g(){return(g=Object(l.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n=new xt,e.next=4,n.readFile(t.target);case 4:(a=e.sent).isSuccess()?i(a.value):i(null),d(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),b(!1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(St,{handleFileUpload:function(e){return g.apply(this,arguments)},handleUpload:function(){return y.apply(this,arguments)},parsing:f,uploading:h,result:o})}function At(e){var t=st();return r.a.createElement("div",{className:"Settings"},r.a.createElement(it.a,{open:e.uploaderOpen,onClose:e.onUploaderClose,anchor:t?"left":"bottom"},r.a.createElement(Dt,null)),e.user.photoUrl?r.a.createElement("img",{style:{width:64,height:64},alt:"profile",src:e.user.photoUrl}):null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Display name"),r.a.createElement("td",null,e.user.displayName)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,e.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,e.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Google ID"),r.a.createElement("td",null,e.user.googleId)))),r.a.createElement("div",null,r.a.createElement("button",{onClick:e.handleLogout},"Log out")),r.a.createElement("div",null,r.a.createElement(g.a,{onClick:e.onUploaderOpen},"Tuo tiedostosta")))}function Nt(e){var t=Me((function(e){return e.auth.user})),n=Re((function(e){return e.auth.logout})),o=Object(a.useState)(!1),i=Object(m.a)(o,2),u=i[0],c=i[1],f=_e();function d(){return(d=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:e.sent.onSuccess((function(){f((function(e){return e.login}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?r.a.createElement(At,{uploaderOpen:u,onUploaderClose:function(){return c(!1)},onUploaderOpen:function(){return c(!0)},user:t,handleLogout:function(){return d.apply(this,arguments)}}):null}var Tt=n(164);n(589);function Ft(e){var t=Re((function(e){return e.transactions.postTransaction}));return r.a.createElement("div",{className:"Analytics"},r.a.createElement("input",{type:"file",accept:".csv",onChange:function(e){if(console.log("Handling change"),!e.target.files)throw new Error("No files array");var n=e.target.files[0];if(!n)throw new Error("No file");var a=new FileReader;a.addEventListener("load",(function(e){if(!e.target)throw new Error("No load event target");if(!e.target.result)throw new Error("Load event target result is null");var n,a=e.target.result.toString().split("\n"),r=Object(Tt.a)(a);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o){var i=o.split(";");t({category:i[1],comment:i[3],integerAmount:Number(i[2].replace(/[^\d-]/g,"")),time:new Date(i[0].split(".").reverse().map((function(e){return e.padStart(2,"0")})).join("-")).getTime()})}}}catch(u){r.e(u)}finally{r.f()}})),a.readAsText(n)}}))}function It(e){return r.a.createElement(Ft,null)}n(590);function Pt(e){var t,n=Object(d.c)({resolver:Object(p.a)(Rt)}),a=n.register,o=n.handleSubmit,i=n.errors,u=n.formState,c=(Object(f.a)(n,["register","handleSubmit","errors","formState"]),u.touched.email&&(null===(t=i.email)||void 0===t?void 0:t.message));return r.a.createElement("div",{className:"ForgotPassword"},r.a.createElement(A,{header:"Forgot password",body:e.success?r.a.createElement(S,null,"Recovery email sent. Check your email."):r.a.createElement("form",{noValidate:!0,onSubmit:o(e.handleSubmit)},r.a.createElement(S,null,"Enter your email below and we will send you an email containing a link, which you can use to change your password."),r.a.createElement(v.a,{id:"login-email",name:"email",type:"text",inputRef:a,label:"Email",variant:"outlined",error:!!c,helperText:c,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(w.a,null))}}),r.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Send recovery email"),e.error?r.a.createElement(S,{color:"error"},e.error):null),footer:r.a.createElement(g.a,{onClick:function(){return e.handleLogin()}},"Back")}))}var Rt=T.b({email:T.c().defined().min(3).max(255).email()}).defined();function Mt(e){var t=Object(a.useState)(),n=Object(m.a)(t,2),o=n[0],i=n[1],u=Object(a.useState)(!1),c=Object(m.a)(u,2),f=c[0],d=c[1],p=_e(),v=Re((function(e){return e.auth.forgotPassword})),h=Re((function(e){return e.auth.loginWithGoogle}));function b(){return(b=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(void 0),e.next=3,v(t);case 3:(n=e.sent).onSuccess((function(){return d(!0)})),n.onFailure((function(e){switch(e.code){case"data/invalid-request-data":i("Invalid email or password.");break;case"auth/invalid-credentials":i("Wrong password or the user does not have a password.");break;case"auth/user-not-found":i("No user exists with that email.");break;case"server/unavailable":i("Could not contact server. Try again later.");break;default:console.warn("Uncaught error code in login:",e),i("An error occured while logging in. Try again.")}}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p((function(e){return e.login}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p((function(e){return e.register}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Pt,{handleSubmit:function(e){return b.apply(this,arguments)},handleCreateAccount:function(){return y.apply(this,arguments)},handleGoogleSubmit:function(){return E.apply(this,arguments)},handleLogin:function(){return g.apply(this,arguments)},success:f,error:o})}n(591),n(592);var _t=n(661),Wt=n(662),Lt=n(663),Ut=n(664),Bt=n(665),qt=n(666),Yt=(n(593),n(671));function Vt(e){return r.a.createElement("form",{className:"TransactionForm",onSubmit:function(t){t.preventDefault(),e.onSubmit()}},r.a.createElement(S,{variant:"button"},"New transaction"),r.a.createElement(v.a,{value:e.amount,onChange:function(t){return e.onAmountChange(t.target.value)},id:"transaction-amount",variant:"outlined",name:"amount",type:"numeric",label:"Amount",error:!!e.errors.amount,helperText:e.errors.amount,fullWidth:!0,required:!0,size:"small",InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(S,null,"EUR"))}}),r.a.createElement(Yt.a,{value:e.category,onChange:function(t,n){return e.onCategoryChange(n)},id:"transaction-category",freeSolo:!0,openOnFocus:!0,autoHighlight:!0,selectOnFocus:!0,disableClearable:!0,fullWidth:!0,size:"small",options:e.categories,renderInput:function(t){return r.a.createElement(v.a,Object.assign({variant:"outlined",name:"category",type:"text",label:"Category",error:!!e.errors.category,helperText:e.errors.category,required:!0},t))}}),r.a.createElement(vt.b,{value:e.time,onChange:function(t){return e.onTimeChange(t)},format:"dd/MM/yyyy",id:"transaction-time",variant:"inline",inputVariant:"outlined",label:"Date",error:!!e.errors.time,helperText:e.errors.time,fullWidth:!0,required:!0,size:"small"}),r.a.createElement(v.a,{value:e.comment,onChange:function(t){return e.onCommentChange(t.target.value)},id:"transaction-comment",variant:"outlined",name:"comment",type:"text",label:"Comment",error:!!e.errors.comment,helperText:e.errors.comment,fullWidth:!0,size:"small"}),r.a.createElement(g.a,{type:"submit",color:"primary",variant:"contained",size:"small"},"Create"))}function zt(e){var t=Me((function(e){return e.transactions.categories})),n=Re((function(e){return e.transactions.postTransaction})),o=Object(a.useState)(""),i=Object(m.a)(o,2),u=i[0],c=i[1],f=Object(a.useState)(""),d=Object(m.a)(f,2),p=d[0],v=d[1],h=Object(a.useState)(new Date),b=Object(m.a)(h,2),g=b[0],y=b[1],E=Object(a.useState)(""),w=Object(m.a)(E,2),k=w[0],O=w[1],j=Object(a.useState)(),x=Object(m.a)(j,2),C=x[0],S=x[1],D=Object(a.useState)(),A=Object(m.a)(D,2),N=A[0],T=A[1],F=Object(a.useState)(),I=Object(m.a)(F,2),P=I[0],R=I[1],M=Object(a.useState)(),_=Object(m.a)(M,2),W=_[0],L=_[1],U=Object(a.useState)(),B=Object(m.a)(U,2),q=B[0],Y=B[1];function V(){var e=function(){if(!/^-?\d*[\.,]?\d{0,2}$/.test(u.trim()))return"Invalid number"}(),t=function(){var e=/[A-Za-z\d\-_\s]+/.test(p.trim()),t=""===p.trim();return e?t?"Please enter a cetegory":void 0:"Invalid category, do not use any special characters"}(),n=function(){if(!(g.getTime()>0&&!isNaN(g.getTime())))return"Invalid date"}();return T(e),R(t),L(n),Y(void 0),!(e||t||n)}function z(){return(z=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V()){e.next=7;break}return e.next=4,n({integerAmount:Math.trunc(100*Number(u.trim().replace(/,/g,"."))),category:p.trim(),time:g.getTime(),comment:k.trim()});case 4:(t=e.sent).onSuccess((function(){c(""),v(""),y(new Date),O("")})),t.onFailure((function(e){var t,n,a,r,o,i,u,c,s,l,m,f,d,p;switch(e.code){case"data/invalid-request-data":(null===(t=e.data)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.integerAmount)&&T(String(e.data.errors.integerAmount)),(null===(a=e.data)||void 0===a||null===(r=a.errors)||void 0===r?void 0:r.category)&&R(String(e.data.errors.category)),(null===(o=e.data)||void 0===o||null===(i=o.errors)||void 0===i?void 0:i.comment)&&Y(String(e.data.errors.comment)),(null===(u=e.data)||void 0===u||null===(c=u.errors)||void 0===c?void 0:c.time)&&L(String(e.data.errors.time)),(null===(s=e.data)||void 0===s||null===(l=s.errors)||void 0===l?void 0:l._root)&&S(e.data.errors._root),(null===(m=e.data)||void 0===m||null===(f=m.errors)||void 0===f?void 0:f.id)&&S(e.data.errors.id),(null===(d=e.data)||void 0===d||null===(p=d.errors)||void 0===p?void 0:p.uid)&&S(e.data.errors.uid);break;case"transaction/already-exists":S("Could not post transaction due to overlapping IDs");break;case"server/unavailable":S("Could not react server. Try again later.");break;default:console.warn("Uncaught failure",e),S("Error posting transaction.")}}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Vt,{onSubmit:function(){return z.apply(this,arguments)},amount:u,category:p,time:g,comment:k,onAmountChange:function(e){return c(e)},onCategoryChange:function(e){return v(e)},onTimeChange:function(e){return y(e)},onCommentChange:function(e){return O(e)},errors:{main:C,amount:N,category:P,time:W,comment:q},categories:t})}function Jt(e){var t=st();return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{open:e.transactionFormOpen,onClose:e.onTransactionFormClose,anchor:t?"left":"bottom"},r.a.createElement(zt,null)),r.a.createElement("div",{className:"Sidebar"},t?r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"top-row"},r.a.createElement(S,{variant:"h4",component:"h6"},"Expence"),r.a.createElement(b.a,{onClick:e.logout},r.a.createElement(_t.a,null))),r.a.createElement("div",{className:"bottom-row"},r.a.createElement(Wt.a,null),r.a.createElement(S,null,e.user.displayName))),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"tabContainer"},r.a.createElement(g.a,{variant:"text",className:x()("tab",{active:e.isDashboard}),onClick:e.onDashboard,startIcon:r.a.createElement(Lt.a,null)},"Dashboard")),r.a.createElement("div",{className:"tabContainer"},r.a.createElement(g.a,{variant:"text",className:x()("tab",{active:e.isAnalytics}),onClick:e.onAnalytics,startIcon:r.a.createElement(Ut.a,null)},"Analytics")),r.a.createElement("div",{className:"tabContainer"},r.a.createElement(g.a,{variant:"text",className:x()("tab",{active:e.isBudget}),onClick:e.onBudget,startIcon:r.a.createElement(Bt.a,null)},"Budget")),r.a.createElement("div",{className:"tabContainer"},r.a.createElement(g.a,{variant:"text",className:x()("tab",{active:e.isSettings}),onClick:e.onSettings,startIcon:r.a.createElement(qt.a,null)},"Settings")),r.a.createElement("div",{className:"tabContainer addButton"},r.a.createElement(g.a,{variant:"text",className:x()("tab"),onClick:e.onTransactionFormOpen,startIcon:r.a.createElement(Ve.a,null)},"New transaction")))):r.a.createElement("div",{className:"tabs"},r.a.createElement("div",{className:"tabContainer"},r.a.createElement(b.a,{className:x()("tab",{active:e.isDashboard}),onClick:e.onDashboard},r.a.createElement(Lt.a,null))),r.a.createElement("div",{className:"tabContainer"},r.a.createElement(b.a,{className:x()("tab",{active:e.isAnalytics}),onClick:e.onAnalytics},r.a.createElement(Ut.a,null))),r.a.createElement("div",{className:"tabContainer"},r.a.createElement(b.a,{className:x()("tab"),onClick:e.onTransactionFormOpen},r.a.createElement(Ve.a,null))),r.a.createElement("div",{className:"tabContainer"},r.a.createElement(b.a,{className:x()("tab",{active:e.isBudget}),onClick:e.onBudget},r.a.createElement(Bt.a,null))),r.a.createElement("div",{className:"tabContainer"},r.a.createElement(b.a,{className:x()("tab",{active:e.isSettings}),onClick:e.onSettings},r.a.createElement(qt.a,null))))))}function Gt(e){var t=Object(u.i)(tn.dashboard),n=Object(u.i)(tn.analytics),o=Object(u.i)(tn.budget),i=Object(u.i)(tn.settings),c=Me((function(e){return e.auth.user})),s=Re((function(e){return e.auth.logout})),l=_e(),f=Object(a.useState)(!1),d=Object(m.a)(f,2),p=d[0],v=d[1];return c?r.a.createElement(Jt,{isDashboard:!!t,onDashboard:function(){return l(tn.dashboard)},isAnalytics:!!n,onAnalytics:function(){return l(tn.analytics)},isBudget:!!o,onBudget:function(){return l(tn.budget)},isSettings:!!i,onSettings:function(){return l(tn.settings)},user:c,logout:function(){return s()},transactionFormOpen:p,onTransactionFormOpen:function(){return v(!0)},onTransactionFormClose:function(){return v(!1)}}):null}function Ht(e){return r.a.createElement("div",{className:"AppFrame"},r.a.createElement("div",{className:"sidebar"},r.a.createElement(Gt,null)),r.a.createElement("div",{className:"content"},e.children))}function Kt(e){return r.a.createElement(Ht,{children:e.children})}n(594);function Zt(e){var t,n=Object(a.useState)(!1),o=Object(m.a)(n,2),i=o[0],u=o[1],c=Object(d.c)({resolver:Object(p.a)($t)}),s=c.formState.touched.password&&(null===(t=c.errors.password)||void 0===t?void 0:t.message);return r.a.createElement("div",{className:"ChangePassword"},r.a.createElement(A,{header:"Change password",body:e.loading?r.a.createElement(Ct.a,null):e.validTokenEmail?e.passwordChangeSuccessful?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null,"Password changed for "+e.validTokenEmail),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:e.onLogin,fullWidth:!0},"Login")):r.a.createElement("form",{onSubmit:c.handleSubmit(e.onSubmit)},r.a.createElement(S,null,"Enter a new password for "+e.validTokenEmail),r.a.createElement(v.a,{id:"change-password",name:"password",type:i?"text":"password",inputRef:c.register,label:"Password",variant:"outlined",error:!!s,helperText:s,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(b.a,{onClick:function(){return u((function(e){return!e}))},size:"small"},i?r.a.createElement(k.a,null):r.a.createElement(O.a,null)))}}),r.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Change password"),e.error?r.a.createElement(S,{color:"error"},e.error):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{color:"error"},"Invalid password change link"),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:e.onLogin,fullWidth:!0},"Back to login"))}))}var $t=T.b({password:T.c().defined().min(6).max(255)}).defined();function Qt(e){var t=Object(u.h)().token,n=_e(),o=Re((function(e){return e.auth.validateChangePasswordToken})),i=Re((function(e){return e.auth.changePassword})),c=Object(a.useState)(),s=Object(m.a)(c,2),l=s[0],f=s[1],d=Object(a.useState)(!1),p=Object(m.a)(d,2),v=p[0],h=p[1],b=Object(a.useState)(),g=Object(m.a)(b,2),y=g[0],E=g[1];if(Object(a.useEffect)((function(){t&&o({token:t}).then((function(e){e.onSuccess((function(e){f(e)})),e.onFailure((function(){f(null)}))}))}),[]),!t)return n((function(e){return e.login})),null;return r.a.createElement(Zt,{validTokenEmail:l,loading:void 0===l,passwordChangeSuccessful:v,onSubmit:function(e){t&&i(Object(W.a)(Object(W.a)({},e),{},{token:t})).then((function(e){e.onSuccess((function(){h(!0)})),e.onFailure((function(){E("Could not change password")}))}))},onLogin:function(){return n((function(e){return e.login}))},error:y})}n(595);function Xt(e){return r.a.createElement("div",{className:"ConfirmEmail"},r.a.createElement(A,{header:"Change password",body:function(){switch(e.success){case void 0:return r.a.createElement(Ct.a,null);case!1:return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{color:"error"},"Invalid password change link"),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:e.onLogin,fullWidth:!0},"Back to login"));case!0:return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null,"Email succesfully confirmed"),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:e.onLogin,fullWidth:!0},"Login"))}}()}))}function en(e){var t=Object(u.h)().token,n=_e(),o=Re((function(e){return e.auth.confirmEmail})),i=Object(a.useState)(),c=Object(m.a)(i,2),s=c[0],l=c[1];return Object(a.useEffect)((function(){t&&o({token:t}).then((function(e){l(e.isSuccess())}))}),[]),t?r.a.createElement(Xt,{success:s,onLogin:function(){return n((function(e){return e.login}))}}):(n((function(e){return e.login})),null)}var tn={approot:"/app",dashboard:"/app/dashboard",analytics:"/app/analytics",budget:"/app/budget",settings:"/app/settings",login:"/",forgotPassword:"/forgotPassword",register:"/register",changePassword:function(e){return"/changePassword/".concat(e)},confirmEmail:function(e){return"/confirmEmail/".concat(e)}};function nn(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:tn.login},r.a.createElement(Le,null)),r.a.createElement(u.b,{exact:!0,path:tn.register},r.a.createElement(qe,null)),r.a.createElement(u.b,{exact:!0,path:tn.forgotPassword},r.a.createElement(Mt,null)),r.a.createElement(u.b,{exact:!0,path:tn.changePassword(":token")},r.a.createElement(Qt,null)),r.a.createElement(u.b,{exact:!0,path:tn.confirmEmail(":token")},r.a.createElement(en,null)),r.a.createElement(Ye,{exact:!0,path:tn.dashboard},r.a.createElement(Kt,null,r.a.createElement(wt,null))),r.a.createElement(Ye,{exact:!0,path:tn.analytics},r.a.createElement(Kt,null,r.a.createElement(It,null))),r.a.createElement(Ye,{exact:!0,path:tn.budget},r.a.createElement(Kt,null,r.a.createElement("p",null,"Budget placeholder"))),r.a.createElement(Ye,{exact:!0,path:tn.settings},r.a.createElement(Kt,null,r.a.createElement(Nt,null))),r.a.createElement(u.b,{exact:!0,path:"/v"},"Version number 0.0.1"),r.a.createElement(u.b,{path:"/"},r.a.createElement(u.a,{to:tn.dashboard})))}var an=function(){var e=Re((function(e){return e.auth.getProfile}));return Object(a.useEffect)((function(){e()}),[e]),r.a.createElement(nn,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rn=n(83),on=n(667),un=n(47),cn=n(414),sn=n(44);function ln(e,t){var n=getComputedStyle(document.documentElement).getPropertyValue("--"+e);return t&&t.color,n}var mn=Object(cn.a)({palette:{primary:Object(W.a)(Object(W.a)({},sn.a.deepPurple),{},{main:ln("color-primary-main",{color:!0}),dark:ln("color-primary-dark",{color:!0}),light:ln("color-primary-light",{color:!0}),50:ln("color-primary-50",{color:!0}),100:ln("color-primary-100",{color:!0}),200:ln("color-primary-200",{color:!0}),300:ln("color-primary-300",{color:!0}),400:ln("color-primary-400",{color:!0}),500:ln("color-primary-500",{color:!0}),600:ln("color-primary-600",{color:!0}),700:ln("color-primary-900",{color:!0}),800:ln("color-primary-800",{color:!0}),900:ln("color-primary-700",{color:!0}),contrastText:"#fff"})}});var fn=n(413);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F.a,{store:Ie},r.a.createElement(on.a,{theme:mn},r.a.createElement(un.a,{utils:fn.a},r.a.createElement(rn.a,null,r.a.createElement(an,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[423,1,2]]]);
//# sourceMappingURL=main.309ef663.chunk.js.map