(this.webpackJsonpexpence=this.webpackJsonpexpence||[]).push([[0],{15:function(e,t,n){e.exports={root:"AppTabs_root__2ruW7",tabContainer:"AppTabs_tabContainer__1emjK",tab:"AppTabs_tab__1xOM5",tab_active:"AppTabs_tab_active__1W3bc",addTab:"AppTabs_addTab__GjiBt",plusButtonContainer:"AppTabs_plusButtonContainer__3CpjB",plusButton:"AppTabs_plusButton__J_-zi"}},174:function(e,t,n){e.exports={root:"TransactionFormModalView_root__3o145"}},175:function(e,t,n){e.exports={root:"SettingsTabView_root__SHPba"}},178:function(e,t,n){e.exports=n(319)},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},206:function(e,t){},208:function(e,t){},222:function(e,t){},224:function(e,t){},252:function(e,t){},254:function(e,t){},255:function(e,t){},261:function(e,t){},263:function(e,t){},28:function(e,t,n){e.exports={root:"TransactionListingView_root__1wvB4",icon:"TransactionListingView_icon__zxUyt",icon_positive:"TransactionListingView_icon_positive__wgmQ2",iconContainer:"TransactionListingView_iconContainer__3klj5",icon_negative:"TransactionListingView_icon_negative__1HK0f",category:"TransactionListingView_category__3zAcE",comment:"TransactionListingView_comment__H3lIp",amount:"TransactionListingView_amount__KcZ2Z",amount_positive:"TransactionListingView_amount_positive__3al1H",amount_negative:"TransactionListingView_amount_negative__QvZ_b"}},281:function(e,t){},283:function(e,t){},295:function(e,t){},298:function(e,t){},319:function(e,t,n){"use strict";n.r(t);n(179),n(180),n(181);var a=n(0),r=n.n(a),i=n(67),o=n.n(i),c=n(11),s=n(1),u=n.n(s),l=n(4),m=n(26),d=n(47),f=function(e){var t,n,a=Object(m.c)({resolver:Object(d.a)(J)}),i=a.register,o=a.handleSubmit,c=a.errors,s=a.formState,u=s.touched.email&&(null===(t=c.email)||void 0===t?void 0:t.message),l=s.touched.password&&(null===(n=c.password)||void 0===n?void 0:n.message);return r.a.createElement("div",{className:"LoginView"},r.a.createElement("form",{onSubmit:o(e.handleSubmit)},r.a.createElement("input",{id:"login-email",name:"email",type:"text",ref:i}),r.a.createElement("p",{style:{color:"#FF6622"}},u),r.a.createElement("input",{id:"login-password",name:"password",type:"password",ref:i}),r.a.createElement("p",{style:{color:"#FF6622"}},l),r.a.createElement("button",{type:"submit"},"Log in")),r.a.createElement("p",null,"or"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleGoogleSubmit()}},r.a.createElement("button",{type:"submit"},"Log in with Google")))},p=n(8),h=n(7),b=n(18),v=n(9),g=n(10),E=n(17),y=n(24),j=n(30),w=n(329),O=function(){function e(t){Object(y.a)(this,e),this.date=void 0,this.category=void 0,this.comment=void 0,this.integerAmount=void 0,this.id=void 0,this.date=new Date(t.time),this.comment=t.comment||"",this.category=t.category,this.integerAmount=Math.floor(t.integerAmount),this.id=t.id||w.a()}return Object(j.a)(e,[{key:"amount",get:function(){return this.integerAmount/100}},{key:"unsignedIntegerAmount",get:function(){return Math.abs(this.integerAmount)}},{key:"unsignedAmount",get:function(){return Math.abs(this.amount)}},{key:"euros",get:function(){return this.integerAmount>0?Math.floor(this.integerAmount/100):Math.ceil(this.integerAmount/100)}},{key:"formatEuros",get:function(){return Math.abs(this.euros).toFixed(0)}},{key:"cents",get:function(){return Math.floor(this.integerAmount%100)}},{key:"formatCents",get:function(){return Math.abs(this.cents).toFixed(0).padStart(2,"0")}},{key:"sign",get:function(){return 0===this.integerAmount?0:this.integerAmount>0?1:-1}},{key:"formatSign",get:function(){return 0===this.integerAmount?"\xb1":this.integerAmount>0?"+":"-"}},{key:"formatFull",get:function(){return this.formatSign+this.formatEuros+"."+this.formatCents}},{key:"isPositive",get:function(){return this.sign>=0}},{key:"isNegative",get:function(){return this.sign<0}}]),e}(),_=Object(p.b)({id:Object(p.d)().required(),uid:Object(p.d)().required(),time:Object(p.a)().positive().integer().required(),category:Object(p.d)().min(1).required(),integerAmount:Object(p.a)().integer().required(),comment:Object(p.d)()}).required();function k(e){try{return _.validateSync(e),!0}catch(t){return!1}}function x(e){return Array.isArray(e)&&e.every(k)}var T=n(70),A=n(69),C=n(169),L=n.n(C),N=function(){function e(){Object(y.a)(this,e)}return Object(j.a)(e,null,[{key:"API_URL",get:function(){return"https://expenceapp.herokuapp.com"}}]),e}(),S=n(170),B=n.n(S);function F(e){return e&&"object"===typeof e&&"string"===typeof e.code&&"number"===typeof e.status&&"string"===typeof e.message}var R=function(){function e(){Object(y.a)(this,e),this.baseURL=void 0,this.axios=void 0,this.baseURL="".concat(N.API_URL,"/api"),this.axios=L.a.create({baseURL:this.baseURL,withCredentials:!0})}return Object(j.a)(e,[{key:"endpoint",value:function(e){return"".concat(this.baseURL).concat(e)}},{key:"isAccessTokenValid",value:function(){var e=z.getState().auth.accessToken;if(!e)return!1;try{var t=B.a.decode(e),n=1e3*Number((null===t||void 0===t?void 0:t.exp)||0);return Date.now()<n-5e3}catch(a){return console.warn("Error occured while checking access token",a),!1}}},{key:"attemptRefreshAccessToken",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],this.isAccessTokenValid()&&!t){e.next=15;break}return n=this.endpoint("/auth/refresh_token"),e.prev=4,e.next=7,this.axios.get(n);case 7:a=e.sent,r=a.data,z.getActions().auth._setAccessToken(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),z.getState().auth.accessToken&&z.getActions().auth.logout();case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"onBeforeRequest",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.attemptRefreshAccessToken();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(e){var t=this,n=z.getState().auth.accessToken;return Object(E.a)(Object(E.a)({headers:{Authorization:"bearer ".concat(String(n))}},e),{},{transformResponse:function(n,a){var r=[],i=t.axios.defaults.transformResponse,o=null===e||void 0===e?void 0:e.transformResponse;return i&&(Array.isArray(i)?r.push.apply(r,Object(g.a)(i)):r.push(i)),o&&(Array.isArray(o)?r.push.apply(r,Object(g.a)(o)):r.push(o)),r.reduce((function(e,t){return t(e,a)}),n)}})}},{key:"handleAxiosError",value:function(e){if(e.isAxiosError){var t=e;return t.response?t.response.data=(n=t.response.data,{code:String(null===n||void 0===n?void 0:n.code),status:Number(null===n||void 0===n?void 0:n.status),message:String(null===n||void 0===n?void 0:n.message)}):t.response={config:{},data:{code:"error/unknown-axios-error",status:-1,message:"Unknown axios error"},headers:{},status:-1,statusText:""},t.response}throw e;var n}},{key:"get",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.endpoint(t),e.next=3,this.onBeforeRequest();case 3:return r=Object(E.a)({},this.getConfig(n)),e.abrupt("return",this.axios.get(a,r).catch(this.handleAxiosError));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.endpoint(t),e.next=3,this.onBeforeRequest();case 3:return i=Object(E.a)({},this.getConfig(a)),e.abrupt("return",this.axios.post(r,n,i).catch(this.handleAxiosError));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.endpoint(t),e.next=3,this.onBeforeRequest();case 3:return r=Object(E.a)({},this.getConfig(n)),e.abrupt("return",this.axios.delete(a,r).catch(this.handleAxiosError));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.endpoint(t),e.next=3,this.onBeforeRequest();case 3:return i=Object(E.a)({},this.getConfig(a)),e.abrupt("return",this.axios.put(r,n,i).catch(this.handleAxiosError));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.endpoint(t),e.next=3,this.onBeforeRequest();case 3:return i=Object(E.a)({},this.getConfig(a)),e.abrupt("return",this.axios.patch(r,n,i).catch(this.handleAxiosError));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),P=new(function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"getTransactions",value:function(){return this.get("/transactions",{transformResponse:function(e){return x(e)?e:null}})}},{key:"postTransaction",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.post("/transactions",t,{transformResponse:function(e){return k(e)?e:null}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTransaction",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.delete("/transactions/".concat(t),{transformResponse:function(e,t){return 204===t.status}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"putTransaction",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.put("/transactions/".concat(t.id),t,{transformResponse:function(e){return k(e)?e:null}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"patchTransaction",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.patch("/transactions/".concat(t.id),t,{transformResponse:function(e){return k(e)?e:null}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(R)),M={items:[],itemsByDates:Object(h.c)((function(e){return Object.entries(e.items.reduce((function(e,t){var n,a=t.date.toDateString(),r=null!==(n=e[a])&&void 0!==n?n:[];return Object(E.a)(Object(E.a)({},e),{},Object(v.a)({},a,[].concat(Object(g.a)(r),[t])))}),{})).map((function(e){return{date:new Date(e[0]),items:e[1].sort((function(e,t){return t.date.getTime()-e.date.getTime()}))}})).sort((function(e,t){return t.date.getTime()-e.date.getTime()}))})),count:Object(h.c)((function(e){return e.items.length})),categories:Object(h.c)((function(e){return e.items.map((function(e){return e.category})).filter((function(e,t,n){return n.indexOf(e)===t}))})),getTransactions:Object(h.f)(function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getTransactions();case 2:if(n=e.sent,!F(a=n.data)){e.next=8;break}return e.abrupt("return",a);case 8:x(a)&&t._getTransactions(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_getTransactions:Object(h.b)((function(e,t){e.items=t.map((function(e){return new O(e)}))})),postTransaction:Object(h.f)(function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.postTransaction(n);case 2:if(a=e.sent,!F(r=a.data)){e.next=8;break}return e.abrupt("return",r);case 8:r&&t._postTransaction(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_postTransaction:Object(h.b)((function(e,t){e.items.push(new O(t))})),deleteTransaction:Object(h.f)(function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.deleteTransaction(n);case 2:if(a=e.sent,!F(r=a.data)){e.next=8;break}return e.abrupt("return",r);case 8:r&&t._deleteTransaction(n);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_deleteTransaction:Object(h.b)((function(e,t){e.items=e.items.filter((function(e){return e.id!==t}))})),putTransaction:Object(h.f)(function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.putTransaction(n);case 2:if(a=e.sent,!F(r=a.data)){e.next=8;break}return e.abrupt("return",r);case 8:r&&t._putTransaction(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_putTransaction:Object(h.b)((function(e,t){e.items=e.items.map((function(e){return e.id===t.id?new O(t):e}))})),patchTransaction:Object(h.f)(function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.putTransaction(n);case 2:if(a=e.sent,!F(r=a.data)){e.next=8;break}return e.abrupt("return",r);case 8:r&&t._patchTransaction(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_patchTransaction:Object(h.b)((function(e,t){e.items=e.items.map((function(e){return e.id===t.id?new O(t):e}))})),onAuthChanged:Object(h.g)((function(e,t){return[t.auth.logout,t.auth._login]}),(function(e,t){var n=Object(b.a)(t.resolvedTargets,2),a=n[0],r=n[1];switch(t.type){case a:e._clearTransactions();break;case r:e.getTransactions()}})),_clearTransactions:Object(h.b)((function(e){e.items=[]}))},V=function e(t){var n,a,r,i;Object(y.a)(this,e),this.id=void 0,this.displayName=void 0,this.email=void 0,this.photoUrl=void 0,this.googleId=void 0,this.id=t.id,this.displayName=null!==(n=t.displayName)&&void 0!==n?n:void 0,this.email=null!==(a=t.email)&&void 0!==a?a:void 0,this.photoUrl=null!==(r=t.photoUrl)&&void 0!==r?r:void 0,this.googleId=null!==(i=t.googleId)&&void 0!==i?i:void 0},I=Object(p.b)({id:Object(p.d)().required().min(1),displayName:Object(p.d)(),photoUrl:Object(p.d)(),email:Object(p.d)(),googleId:Object(p.d)()}).required();function W(e){try{return I.isValidSync(e),!0}catch(t){return!1}}var q=new(function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"getProfile",value:function(){return this.get("/auth/profile",{transformResponse:[function(e){return W(e)?e:null}]})}},{key:"registerWithEmailAndPassword",value:function(e){return this.post("/auth/register",e,{transformResponse:[function(e,t){return 200===t.status}]})}},{key:"loginWithEmailAndPassword",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.post("/auth/login",t,{transformResponse:[function(e,t){return 200===t.status}]}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginWithGoogle",value:function(){window.location.href=this.endpoint("/auth/google")}},{key:"logout",value:function(){window.location.href=this.endpoint("/auth/logout")}}]),n}(R)),D={initialized:!1,_setInitialized:Object(h.b)((function(e,t){e.initialized=t})),user:null,isLoggedIn:Object(h.c)((function(e){return Boolean(e.user)})),accessToken:null,_setAccessToken:Object(h.b)((function(e,t){e.accessToken=t})),getProfile:Object(h.f)(function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getProfile();case 2:if(n=e.sent,!F(a=n.data)){e.next=9;break}return t._setInitialized(!0),e.abrupt("return",a);case 9:a&&t._login(a);case 10:t._setInitialized(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),loginWithGoogle:Object(h.f)((function(){q.loginWithGoogle()})),loginWithEmailPassword:Object(h.f)(function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.loginWithEmailAndPassword(n);case 2:if(a=e.sent,!F(r=a.data)){e.next=8;break}return e.abrupt("return",r);case 8:if(!r){e.next=16;break}return e.next=11,q.getProfile();case 11:if(i=e.sent,(o=i.data)&&!F(o)){e.next=15;break}return e.abrupt("return");case 15:t._login(o);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),registerWithEmailPassword:Object(h.f)(function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.registerWithEmailAndPassword(n);case 2:if(a=e.sent,!F(r=a.data)){e.next=8;break}return e.abrupt("return",r);case 8:if(!r){e.next=16;break}return e.next=11,q.getProfile();case 11:if(i=e.sent,(o=i.data)&&!F(o)){e.next=15;break}return e.abrupt("return");case 15:t._login(o);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_login:Object(h.b)((function(e,t){W(t)&&(e.user=new V(t))})),logout:Object(h.f)((function(){q.logout()}))},U={transactions:M,transactionForm:{isOpen:!1,setOpen:Object(h.b)((function(e,t){e.isOpen=t})),open:Object(h.b)((function(e){e.isOpen=!0})),close:Object(h.b)((function(e){e.isOpen=!1}))},auth:D},z=Object(h.d)(U);var G=Object(h.e)(),K=G.useStoreActions,H=(G.useStoreDispatch,G.useStoreState);G.useStore;function Y(){var e=Object(c.g)();return function(t){return e.push("string"===typeof t?t:t(ze))}}var J=p.b({email:p.d().defined().min(3).max(255).email(),password:p.d().defined().min(3).max(255)}).defined(),Q=function(){var e=Y(),t=K((function(e){return e.auth.loginWithGoogle})),n=K((function(e){return e.auth.loginWithEmailPassword}));function a(){return(a=Object(l.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(a);case 2:(r=t.sent)?console.error(r):e((function(e){return e.dashboard}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(f,{handleGoogleSubmit:function(){return i.apply(this,arguments)},handleSubmit:function(e){return a.apply(this,arguments)}})},Z=function(e){var t,n,a,i=Object(m.c)({resolver:Object(d.a)(X)}),o=i.register,c=i.handleSubmit,s=i.errors,u=i.formState,l=u.touched.email&&(null===(t=s.email)||void 0===t?void 0:t.message),f=u.touched.password&&(null===(n=s.password)||void 0===n?void 0:n.message),p=u.touched.repeatPassword&&(null===(a=s.repeatPassword)||void 0===a?void 0:a.message);return r.a.createElement("form",{onSubmit:c(e.handleSubmit)},r.a.createElement("input",{id:"register-email",name:"email",type:"text",ref:o}),r.a.createElement("p",{style:{color:"#FF6622"}},l),r.a.createElement("input",{id:"register-password",name:"password",type:"password",ref:o}),r.a.createElement("p",{style:{color:"#FF6622"}},f),r.a.createElement("input",{id:"register-repeat-password",name:"repeatPassword",type:"password",ref:o}),r.a.createElement("p",{style:{color:"#FF6622"}},p),r.a.createElement("button",{type:"submit"},"Register"))},X=Object(p.b)({email:Object(p.d)().defined().max(255).email(),password:Object(p.d)().defined().min(5).max(255),repeatPassword:Object(p.d)().defined().oneOf([Object(p.c)("password")],"passwords must match")}).defined(),$=function(){var e=K((function(e){return e.auth.registerWithEmailPassword}));function t(){return(t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({email:n.email,password:n.password});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement(Z,{handleSubmit:function(e){return t.apply(this,arguments)}})},ee=n(97),te=n.n(ee),ne=n(15),ae=n.n(ne),re=n(34),ie=n.n(re),oe=n(322),ce=n(323),se=n(324),ue=n(325),le=n(326);function me(e){var t=Object(a.useMemo)((function(){return window.matchMedia(e)}),[e]),n=Object(a.useState)(!1),r=Object(b.a)(n,2),i=r[0],o=r[1],c=Object(a.useCallback)((function(){o(t.matches)}),[t]);return Object(a.useEffect)((function(){return c(),t.addEventListener("change",c),function(){t.removeEventListener("change",c)}}),[t,c]),i}function de(){var e=Y(),t=K((function(e){return e.transactionForm.open})),n=me("(min-width: ".concat(600,"px)")),a=Object(c.h)(ze.dashboard),i=Object(c.h)(ze.analytics),o=Object(c.h)(ze.budget),s=Object(c.h)(ze.settings);return r.a.createElement("div",{className:ae.a.root},r.a.createElement("div",{className:ae.a.tabContainer},r.a.createElement("button",{onClick:function(){return e((function(e){return e.dashboard}))},className:ie()(ae.a.tab,Object(v.a)({},ae.a.tab_active,!!a))},r.a.createElement(oe.a,null),r.a.createElement("span",null,"Dashboard")),r.a.createElement("button",{onClick:function(){return e((function(e){return e.analytics}))},className:ie()(ae.a.tab,Object(v.a)({},ae.a.tab_active,!!i))},r.a.createElement(ce.a,null),r.a.createElement("span",null,"Analytics")),n?r.a.createElement("button",{onClick:function(){return t()},className:ie()(ae.a.tab,ae.a.addTab)},r.a.createElement(se.a,null),r.a.createElement("span",null,"New transaction")):r.a.createElement("div",{className:ae.a.plusButtonContainer},r.a.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"108px",height:"60px",viewBox:"0 0 108 60"},r.a.createElement("path",{d:fe})),r.a.createElement("button",{onClick:function(){return t()},className:ae.a.plusButton},r.a.createElement(se.a,null))),r.a.createElement("button",{onClick:function(){return e((function(e){return e.budget}))},className:ie()(ae.a.tab,Object(v.a)({},ae.a.tab_active,!!o))},r.a.createElement(ue.a,null),r.a.createElement("span",null,"Budget")),r.a.createElement("button",{onClick:function(){return e((function(e){return e.settings}))},className:ie()(ae.a.tab,Object(v.a)({},ae.a.tab_active,!!s))},r.a.createElement(le.a,null),r.a.createElement("span",null,"Settings"))))}var fe="M80.2,23.4C72.9,30.7,64.4,35,54,35s-18.9-4.3-26.2-11.6C20.5,16.1,10,0,0,0v60h54h54V0C98, 0, 87.5, 16.1, 80.2, 23.4z",pe=n(174),he=n.n(pe),be=n(57),ve=n.n(be);function ge(e,t,n){var r=Object(a.useCallback)((function(n){var a="object"===typeof e?e.key:e;n.key!==a&&n.keyCode!==a||("object"===typeof e&&void 0!==e.shift&&e.shift!==n.shiftKey||"object"===typeof e&&void 0!==e.alt&&e.alt!==n.altKey||("object"!==typeof e||void 0===e.ctrl||e.ctrl===n.ctrlKey)&&t())}),[e,t]);Object(a.useEffect)((function(){var e=!0===(null===n||void 0===n?void 0:n.if)||void 0===(null===n||void 0===n?void 0:n.if),t=!0===(null===n||void 0===n?void 0:n.ifNot)||void 0===(null===n||void 0===n?void 0:n.ifNot);if(e&&t)return Boolean(null===n||void 0===n?void 0:n.onKeyUp)?(window.addEventListener("keyup",r),function(){return window.removeEventListener("keyup",r)}):(window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)})}),[n,r])}var Ee=document.getElementById("_modal");function ye(e){var t=e.onClose,n=e.disableBackgroundClick,o=e.disableEsc;ge(27,Object(a.useCallback)((function(){o||t()}),[o,t]),{if:e.open});var c=Object(a.useCallback)((function(){n||t()}),[n,t]);if(!Ee)throw Error("Portal element not defined for modal");return e.open?Object(i.createPortal)(r.a.createElement("div",{className:ve.a.root},r.a.createElement("div",{className:ve.a.background,onClick:c}),r.a.createElement("div",{className:ve.a.modal},r.a.createElement("div",{className:ve.a.modalContent},e.children))),Ee):null}function je(e){var t,n,a,i=Object(m.c)({resolver:Object(d.a)(we)}),o=i.register,c=i.handleSubmit,s=i.errors,u=i.formState,l=u.touched.integerAmount&&(null===(t=s.integerAmount)||void 0===t?void 0:t.message),f=u.touched.category&&(null===(n=s.category)||void 0===n?void 0:n.message),p=u.touched.comment&&(null===(a=s.comment)||void 0===a?void 0:a.message);return r.a.createElement(ye,{open:e.open,onClose:e.handleClose},r.a.createElement("div",{className:he.a.root},r.a.createElement("form",{onSubmit:c(e.handleSubmit)},r.a.createElement("p",null,"Integer amount"),r.a.createElement("input",{type:"number",id:"integerAmount",name:"integerAmount",ref:o}),r.a.createElement("p",{style:{color:"#FF6622"}},l),r.a.createElement("p",null,"Category"),r.a.createElement("input",{type:"text",id:"category",name:"category",ref:o}),r.a.createElement("p",{style:{color:"#FF6622"}},f),r.a.createElement("p",null,"Comment"),r.a.createElement("input",{type:"text",id:"comment",name:"comment",ref:o}),r.a.createElement("p",{style:{color:"#FF6622"}},p),r.a.createElement("button",{type:"submit"},"submit"))))}var we=Object(p.b)({comment:Object(p.d)(),category:Object(p.d)().required(),integerAmount:Object(p.a)().required().integer()}).required();function Oe(e){var t=H((function(e){return e.transactionForm.isOpen})),n=K((function(e){return e.transactionForm.open})),i=K((function(e){return e.transactionForm.close})),o=K((function(e){return e.transactions.postTransaction}));return ge({key:32,shift:!1,ctrl:!0,alt:!1},Object(a.useCallback)((function(){n()}),[n])),r.a.createElement(je,{open:t,handleClose:function(){i()},handleSubmit:function(e){o(Object(E.a)(Object(E.a)({},e),{},{time:Date.now()}))}})}function _e(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,null),r.a.createElement("div",{className:te.a.root},r.a.createElement(de,null),r.a.createElement("div",{className:te.a.childrenContainer},e.children)))}var ke=n(176);function xe(e){var t=e.fallbackRoute,n=Object(ke.a)(e,["fallbackRoute"]),a=ze.login,i=H((function(e){return e.auth.initialized})),o=H((function(e){return e.auth.isLoggedIn}));return i?o?r.a.createElement(c.b,n):r.a.createElement(c.a,{to:t||a}):null}var Te=n(40),Ae=n.n(Te),Ce=n(28),Le=n.n(Ce),Ne=n(327);function Se(e){return r.a.createElement("div",{className:Le.a.root},r.a.createElement("div",{className:ie()(Le.a.icon,e.transaction.isPositive?Le.a.icon_positive:Le.a.icon_negative)},r.a.createElement("div",{className:Le.a.iconContainer},e.transaction.isPositive?r.a.createElement(se.a,null):r.a.createElement(Ne.a,null))),r.a.createElement("div",{className:Le.a.category},r.a.createElement("span",null,e.transaction.category)),r.a.createElement("div",{className:Le.a.comment},r.a.createElement("span",null,e.transaction.comment)),r.a.createElement("div",{className:ie()(Le.a.amount,e.transaction.isPositive?Le.a.amount_positive:Le.a.amount_negative)},r.a.createElement("span",null,e.transaction.formatFull)))}function Be(e){var t=K((function(e){return e.transactions.deleteTransaction})),n=Object(a.useCallback)((function(){t(e.transaction.id)}),[e.transaction,t]);return r.a.createElement(Se,{transaction:e.transaction,handleDelete:n})}var Fe=n(328);function Re(e){return r.a.createElement("div",{className:Ae.a.root},r.a.createElement("ul",{className:Ae.a.datesList},e.itemsByDates.map((function(e){var t,n=(t=e.date).getFullYear()===Pe?Object(Fe.a)(t,"dd.MM."):Object(Fe.a)(t,"dd.MM.yyyy");return r.a.createElement("li",{key:n,className:Ae.a.dateListing},r.a.createElement("p",{className:Ae.a.datestring},n),r.a.createElement("ul",{className:Ae.a.transactionsList},e.items.map((function(e){return r.a.createElement("li",{key:e.id,className:Ae.a.transactionListing},r.a.createElement(Be,{transaction:e}))}))))}))))}var Pe=(new Date).getFullYear();function Me(e){var t=H((function(e){return e.transactions.itemsByDates}));return r.a.createElement(Re,{itemsByDates:t})}function Ve(e){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Welcome back, ".concat(e.user.displayName))),r.a.createElement("section",null,r.a.createElement(Me,null)))}function Ie(){var e=H((function(e){return e.auth.user}));return e?r.a.createElement(Ve,{user:e}):null}var We=n(175),qe=n.n(We);function De(e){return r.a.createElement("div",{className:qe.a.root},e.user.photoUrl?r.a.createElement("img",{style:{width:64,height:64},alt:"profile",src:e.user.photoUrl}):null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Display name"),r.a.createElement("td",null,e.user.displayName)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,e.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,e.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Google ID"),r.a.createElement("td",null,e.user.googleId)))),r.a.createElement("button",{onClick:e.handleLogout},"Log out"))}function Ue(e){var t=H((function(e){return e.auth.user})),n=K((function(e){return e.auth.logout}));return t?r.a.createElement(De,{user:t,handleLogout:function(){n()}}):null}var ze={approot:"/app",dashboard:"/app/dashboard",analytics:"/app/analytics",budget:"/app/budget",settings:"/app/settings",login:"/",register:"/register"};function Ge(){return r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:ze.login},r.a.createElement(Q,null)),r.a.createElement(c.b,{exact:!0,path:ze.register},r.a.createElement($,null)),r.a.createElement(xe,{exact:!0,path:ze.dashboard},r.a.createElement(_e,null,r.a.createElement(Ie,null))),r.a.createElement(xe,{exact:!0,path:ze.analytics},r.a.createElement(_e,null,r.a.createElement("p",null,"Analytics placeholder"))),r.a.createElement(xe,{exact:!0,path:ze.budget},r.a.createElement(_e,null,r.a.createElement("p",null,"Budget placeholder"))),r.a.createElement(xe,{exact:!0,path:ze.settings},r.a.createElement(_e,null,r.a.createElement(Ue,null))),r.a.createElement(c.b,{path:"/"},r.a.createElement(c.a,{to:ze.dashboard})))}var Ke=function(){var e=K((function(e){return e.auth.getProfile}));return Object(a.useEffect)((function(){e()}),[e]),r.a.createElement(Ge,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=n(45);o.a.render(r.a.createElement(h.a,{store:z},r.a.createElement(r.a.StrictMode,null,r.a.createElement(He.a,null,r.a.createElement(Ke,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,n){e.exports={root:"TransactionListView_root__1rx7K",dateListing:"TransactionListView_dateListing__3uzhE",datestring:"TransactionListView_datestring__3VHWW",transactionsList:"TransactionListView_transactionsList__37_EE",transactionListing:"TransactionListView_transactionListing__b05YQ"}},57:function(e,t,n){e.exports={root:"Modal_root__1r1Jt",background:"Modal_background__38SYU",modal:"Modal_modal__1Y802","modal-in":"Modal_modal-in__1B33x",modalContent:"Modal_modalContent__2KXGv"}},97:function(e,t,n){e.exports={root:"AppLayout_root__HugPe",childrenContainer:"AppLayout_childrenContainer__3oGra"}}},[[178,1,2]]]);
//# sourceMappingURL=main.502f1c79.chunk.js.map