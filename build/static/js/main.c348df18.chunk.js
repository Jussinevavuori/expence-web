(this.webpackJsonpexpenda=this.webpackJsonpexpenda||[]).push([[0],{124:function(e,t,n){"use strict";n.d(t,"b",(function(){return sa})),n.d(t,"a",(function(){return la}));var a=n(0),r=n.n(a),c=n(56),o=(n(517),n(974)),i=n(922),s=n(924),l=n(878),u=n(445),m=n.n(u),d=n(923),f=n(925),v=n(926),p=n(73),b=(n(518),n(14)),h=n.n(b),g=n(873),y=Object(a.forwardRef)((function(e,t){var n=e.className,a=e.size,c=e.color,o=e.variant,i=Object(p.a)(e,["className","size","color","variant"]),s=null!==c&&void 0!==c?c:"gray-900",l=null!==o&&void 0!==o?o:"regular",u=null!==a&&void 0!==a?a:"md";return r.a.createElement(g.a,Object.assign({ref:t},i,{className:h()("Type",n,"Type-color-".concat(s),"Type-variant-".concat(l),"Type-size-".concat(u))}))})),O=n(4),E=n.n(O),j=n(15),w=n(13),k=n(54),x=n(25),_=n(6);function C(){var e=Object(c.g)();return function(t){var n="function"===typeof t?t(sa):t,a="string"===typeof n?n:n.path;e.push(a)}}var N=n(86),S=n(130),T=x.c({email:x.d().defined().email(),password:x.d().defined()}).defined();function A(){var e=function(){var e,t,n=C(),r=Object(_.c)((function(e){return e.auth.user})),c=Object(_.b)((function(e){return e.auth.loginWithGoogle})),o=Object(_.b)((function(e){return e.auth.loginWithEmailPassword})),i=Object(_.b)((function(e){return e.auth.requestConfirmationEmail})),s=Object(a.useState)(),l=Object(w.a)(s,2),u=l[0],m=l[1],d=Object(N.c)({resolver:Object(S.a)(T)});function f(){return(f=Object(j.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(void 0),e.next=3,o(t);case 3:if(!(a=e.sent).isSuccess()){e.next=7;break}return k.a.event({action:"Login",category:"User"}),e.abrupt("return",n((function(e){return e.dashboard})));case 7:if(console.error(a),"network"!==a.reason||"auth/email-not-confirmed"!==a.code){e.next=13;break}return e.next=11,i({email:t.email});case 11:e.sent.isSuccess()?m("Confirm your email before logging in. We have sent you a new email confirmation link to your email address."):m("Confirm your email before logging in. We were unable to send you a new email confirmation link.");case 13:m((function(){switch(a.reason){case"invalidServerResponse":return"Invalid response received from server.";case"network":switch(a.code){case"request/too-many-requests":return"You are trying too fast! Try again later.";case"request/invalid-request-data":return"Invalid email or password.";case"auth/invalid-credentials":return"Wrong password or the user does not have a password.";case"auth/user-not-found":return"No user exists with that email.";case"server/unavailable":return"Could not contact server. Try again later.";default:return"An error occured while logging in. Try again."}default:return"An unknown error occured. Try again later."}}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){r&&n((function(e){return e.dashboard}))}),[r,n]);var v=d.handleSubmit((function(e){return f.apply(this,arguments)}));function p(){return(p=Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((function(e){return e.forgotPassword}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((function(e){return e.register}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=Object(a.useState)(!1),y=Object(w.a)(g,2),O=y[0],x=y[1];return{form:d,error:u,handleGoogleSubmit:function(){return p.apply(this,arguments)},handleSubmit:v,handleForgotPassword:function(){return b.apply(this,arguments)},handleCreateAccount:function(){return h.apply(this,arguments)},passwordVisible:O,togglePasswordVisibility:Object(a.useCallback)((function(){x((function(e){return!e}))}),[x]),emailError:d.formState.touched.email&&(null===(e=d.errors.email)||void 0===e?void 0:e.message),passwordError:d.formState.touched.password&&(null===(t=d.errors.password)||void 0===t?void 0:t.message)}}();return r.a.createElement("div",{className:"Login"},r.a.createElement(y,{component:"h1",variant:"bold",color:"black",size:"xxl"},"Log in"),r.a.createElement("main",null,r.a.createElement("form",{noValidate:!0,onSubmit:e.handleSubmit},r.a.createElement(o.a,{id:"login-email",name:"email",type:"text",inputRef:e.form.register,label:"Email",variant:"outlined",error:!!e.emailError,helperText:e.emailError,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(i.a,{position:"end"},r.a.createElement(d.a,null))}}),r.a.createElement(o.a,{id:"login-password",name:"password",type:e.passwordVisible?"text":"password",inputRef:e.form.register,label:"Password",variant:"outlined",error:!!e.passwordError,helperText:e.passwordError,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(i.a,{position:"end"},r.a.createElement(s.a,{onClick:e.togglePasswordVisibility,size:"small"},e.passwordVisible?r.a.createElement(f.a,null):r.a.createElement(v.a,null)))}}),r.a.createElement(l.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Log in"),e.error?r.a.createElement(y,{color:"red-600"},e.error):null,r.a.createElement(l.a,{variant:"outlined",onClick:e.handleGoogleSubmit,startIcon:r.a.createElement("img",{className:"logo",src:m.a,alt:"Google Logo"}),fullWidth:!0},"Log in with Google"))),r.a.createElement("footer",null,r.a.createElement(l.a,{onClick:e.handleCreateAccount},"Create account"),r.a.createElement(l.a,{onClick:e.handleForgotPassword},"Forgot password")))}n(656);var D=Object(x.c)({email:Object(x.d)().defined().max(255).email(),password:Object(x.d)().defined().min(6).max(255)}).defined();function I(){var e=function(){var e,t,n=C(),r=Object(_.b)((function(e){return e.auth.registerWithEmailPassword})),c=Object(a.useState)(),o=Object(w.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(!1),u=Object(w.a)(l,2),m=u[0],d=u[1],f=Object(N.c)({resolver:Object(S.a)(D)});function v(){return(v=Object(j.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(void 0),e.next=3,r({email:t.email,password:t.password});case 3:(n=e.sent).isSuccess()?(k.a.event({action:"Sign up",category:"User"}),d(!0)):s((function(){switch(n.reason){case"invalidServerResponse":return"Invalid response received from server.";case"network":switch(n.code){case"request/too-many-requests":return"You are trying too fast! Try again later.";case"request/invalid-request-data":return"Invalid email or password.";case"auth/user-already-exists":return"An user already exists with that email.";case"server/unavailable":return"Could not contact server. Try again later.";default:return console.warn("Uncaught error code in login:",n),"An error occured while logging in. Try again."}}}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=f.handleSubmit((function(e){return v.apply(this,arguments)}));function b(){return(b=Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((function(e){return e.login}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=Object(a.useState)(!1),g=Object(w.a)(h,2),y=g[0],O=g[1];return{form:f,handleSubmit:p,handleLogin:function(){return b.apply(this,arguments)},error:i,registered:m,passwordVisible:y,togglePasswordVisibility:Object(a.useCallback)((function(){O((function(e){return!e}))}),[O]),emailError:f.formState.touched.email&&(null===(e=f.errors.email)||void 0===e?void 0:e.message),passwordError:f.formState.touched.password&&(null===(t=f.errors.password)||void 0===t?void 0:t.message)}}();return r.a.createElement("div",{className:"Register"},r.a.createElement(y,{component:"h1",variant:"bold",color:"black",size:"xxl"},"Create account"),r.a.createElement("main",null,e.registered?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{size:"lg",component:"h2",variant:"bold"},"Succesfully registered."),r.a.createElement(y,null,"Check your email in order to confirm your email address. ","You can login after having confirmation.")):r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(o.a,{id:"register-email",name:"email",type:"text",inputRef:e.form.register,label:"Email",variant:"outlined",error:!!e.emailError,helperText:e.emailError,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(i.a,{position:"end"},r.a.createElement(d.a,null))}}),r.a.createElement(o.a,{id:"register-password",name:"password",type:e.passwordVisible?"text":"password",inputRef:e.form.register,label:"Password",variant:"outlined",error:!!e.passwordError,helperText:e.passwordError,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(i.a,{position:"end"},r.a.createElement(s.a,{onClick:e.togglePasswordVisibility,size:"small"},e.passwordVisible?r.a.createElement(f.a,null):r.a.createElement(v.a,null)))}}),r.a.createElement(l.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Create account"),e.error?r.a.createElement(y,{color:"red-600"},e.error):null)),r.a.createElement("footer",null,r.a.createElement(l.a,{onClick:e.handleLogin},"Already have an account? Login")))}n(657);var P=n(462),M=n.n(P),z=n(927);function F(e){var t=Object(a.useState)(0),n=Object(w.a)(t,2),c=n[0],o=n[1];return function(e,t){var n=Object(a.useRef)(null);Object(a.useEffect)((function(){return n.current&&clearInterval(n.current),n.current=setInterval(e,t),function(){n.current&&(clearInterval(n.current),n.current=null)}}),[e,t,n]);var r=Object(a.useCallback)((function(){n.current&&(clearInterval(n.current),n.current=null)}),[n])}(Object(a.useCallback)((function(){o((function(e){return e+1}))}),[o]),1e3),r.a.createElement("div",{className:"ProtectedRouteView"},r.a.createElement("img",{src:M.a,alt:"",className:"texture"}),r.a.createElement("div",{className:"content"},r.a.createElement(y,null,function(){var e=Object.keys(R).reverse().find((function(e){return Number(e)<c}));return e?R[e]:"Loading..."}()),r.a.createElement(z.a,null)))}var R={5:"This may take some time...",10:"Waiting for server...",15:"The server is starting up..."};function L(e){var t=e.fallbackRoute,n=e.showLoadingScreenOnUnitialized,a=Object(p.a)(e,["fallbackRoute","showLoadingScreenOnUnitialized"]),o=sa.logOut.path,i=Object(_.c)((function(e){return e.auth.initialized})),s=Object(_.c)((function(e){return e.auth.isLoggedIn}));return i?s?r.a.createElement(c.b,a):r.a.createElement(c.a,{to:t||o}):n?r.a.createElement(F,null):r.a.createElement(c.b,a)}n(658),n(659),n(660);var W=n(934),B={weak:[10],default:[100],strong:[200]};function q(){return Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=B[e];window.navigator.vibrate(t)}),[])}var U=100,V=(n(661),n(81)),Y=n(26);function J(e){e.amount;var t=e.className,n=e.color,c=e.colorIfNegative,o=e.colorIfPositive,i=e.animate,s=e.animationDuration,l=e.animationStiffness,u=e.disableAnimationBlur,m=Object(p.a)(e,["amount","className","color","colorIfNegative","colorIfPositive","animate","animationDuration","animationStiffness","disableAnimationBlur"]),d="number"===typeof e.amount?new V.a(e.amount):e.amount,f=Object(a.useRef)(null),v=Object(a.useRef)(0);return Object(a.useEffect)((function(){var e=f.current;if(i&&e){var t=v.current,n=d.value,a=Object(Y.c)(t,n,{duration:null!==s&&void 0!==s?s:.5,stiffness:null!==l&&void 0!==l?l:1,onUpdate:function(a){var r=Math.round(a),c=V.a.format(r);if(e.textContent=c,!u){var o=Math.abs(n-a)/Math.abs(n-t)*Math.PI,i=Math.sin(o),s=i*i;e.style.opacity="".concat(Math.max(1-s,.75)),e.style.filter="blur(".concat(3*s,"px)")}v.current=a}});return function(){return a.stop()}}}),[i,d,s,l,u]),r.a.createElement("span",{className:h()("MoneyType",t,{positive:d.isNonNegative,negative:d.isNegative})},r.a.createElement(y,Object.assign({ref:f,variant:"bold",color:d.isNegative?null!==c&&void 0!==c?c:n:null!==o&&void 0!==o?o:n},m),d.format()))}var H=n(248),K=n(179);function G(e){var t=function(e){var t=Object(_.c)((function(e){return e.selection.selection})),n=Object(a.useMemo)((function(){return t.some((function(t){return t.id===e.transaction.id}))}),[e.transaction,t]),r=Object(_.b)((function(e){return e.selection.select})),c=Object(a.useCallback)((function(){r(e.transaction.id)}),[e.transaction,r]),o=Object(_.b)((function(e){return e.selection.deselect})),i=Object(a.useCallback)((function(){o(e.transaction.id)}),[e.transaction,o]),s=Object(_.c)((function(e){return e.selection.selectionActive})),l=Object(K.b)(),u=Object(a.useCallback)((function(t){t.preventDefault(),H.isMobile||(l.setPosition({top:t.clientY,left:t.clientX}),l.setTransaction(e.transaction))}),[l,e.transaction]),m=Object(a.useMemo)((function(){return!!l.transaction&&l.transaction.id===e.transaction.id}),[l,e.transaction]);return{selected:n||m,handleSelect:c,handleDeselect:i,selectionActive:s,handleContextMenu:u}}(e),n=t.handleSelect,c=t.handleDeselect,o=t.selected,i=t.selectionActive,s=q(),l=function(e,t){var n=q(),r=Object(a.useMemo)((function(){return void 0!==(null===t||void 0===t?void 0:t.pressTimeInMs)?t.pressTimeInMs:300}),[t]),c=Object(a.useMemo)((function(){return!!(null===t||void 0===t?void 0:t.disableVibrate)}),[t]),o=Object(a.useState)(!1),i=Object(w.a)(o,2),s=i[0],l=i[1],u=Object(a.useRef)(null),m=Object(a.useRef)(null),d=Object(a.useCallback)((function(t){if("clientX"in t&&"clientY"in t){if(0!==t.button)return;m.current={x:t.clientX,y:t.clientY}}else{if(t.touches.length>1)return;var a=t.touches[0];m.current={x:a.clientX,y:a.clientY}}u.current&&clearTimeout(u.current),l(!0),u.current=setTimeout((function(){e(),c||n("default")}),r)}),[e,l,u,r,c,n]),f=Object(a.useCallback)((function(e){m.current=null,l(!1),u.current&&(clearTimeout(u.current),u.current=null)}),[l,u]),v=Object(a.useCallback)((function(e){u.current&&(clearTimeout(u.current),u.current=null)}),[u]),p=Object(a.useCallback)((function(e){var t=0,n=0;if(m.current){"touches"in e?e.touches.length>1?v(e):(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY);var a=t-m.current.x,r=n-m.current.y;a*a+r*r>U&&v(e)}}),[v]);return Object(a.useEffect)((function(){return function(){u.current&&clearTimeout(u.current)}}),[]),{pressed:s,props:{onTouchStart:d,onTouchEnd:f,onTouchMove:p,onTouchCancel:v,onMouseDown:d,onMouseUp:f,onMouseLeave:f,onMouseOut:f},childlockProps:{onTouchStart:function(e){return e.stopPropagation()},onTouchEnd:function(e){return e.stopPropagation()},onTouchMove:function(e){return e.stopPropagation()},onTouchCancel:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseLeave:function(e){return e.stopPropagation()},onMouseOut:function(e){return e.stopPropagation()}}}}(Object(a.useCallback)((function(){i&&s("weak"),o?c():n()}),[n,c,o,i,s]),{pressTimeInMs:Object(a.useMemo)((function(){return i?0:void 0}),[i]),disableVibrate:i});return r.a.createElement("div",Object.assign({className:h()("TransactionListItem",{pressed:l.pressed,upcoming:e.transaction.isUpcoming})},l.props,{onContextMenu:function(e){e.stopPropagation(),t.handleContextMenu(e)}}),r.a.createElement("div",{className:h()("icon",{pressed:l.pressed,selected:t.selected,selectionActive:t.selectionActive})},r.a.createElement(Y.d.div,{variants:X,animate:t.selectionActive?t.selected?"selected":"unselected":"regular"},r.a.createElement("div",Object.assign({className:"iconContainer",onClick:function(){t.selected?t.handleDeselect():t.handleSelect(),s("weak")}},l.childlockProps),t.selectionActive?t.selected?r.a.createElement(W.a,null):null:r.a.createElement("span",{className:"emoji"},e.transaction.icon)))),r.a.createElement("div",{className:"category"},r.a.createElement(y,{color:"gray-800",size:"md",variant:"bold"},e.transaction.category.value)),r.a.createElement("div",{className:"comment"},r.a.createElement(y,{color:"gray-600",size:"md",variant:"regular"},e.transaction.comment)),r.a.createElement("div",{className:h()("amount")},r.a.createElement(J,{amount:e.transaction.amount,colorIfPositive:"green-600",colorIfNegative:"red-600",size:"lg",variant:"bold"})))}var X={selected:{scale:1.4,transition:{repeat:1,repeatType:"mirror",type:"spring",duration:.2,bounce:1}},unselected:{scale:1},regular:{scale:1}},$=n(484),Z=n(188),Q=(n(685),n(935));function ee(e,t){var n=Object(a.useState)(e),r=Object(w.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){o(function(e,t){return e+Math.random()*(t-e)}(e,t))}),[e,t]),c}function te(e){var t=ee(48,64),n=ee(20,40),c=ee(20,80),o=ee(32,64),i=Object(a.useState)((function(){return 0===e.i||Math.random()<.3})),s=Object(w.a)(i,1)[0];return r.a.createElement("div",{className:"TransactionListItemSkeleton"},s&&r.a.createElement("div",{className:"TransactionListItemSkeletonHeader"},r.a.createElement(Q.a,{variant:"rect",width:t,height:"100%",animation:"wave"})),r.a.createElement("div",{className:"TransactionListItemSkeletonBody"},r.a.createElement("div",{className:"icon"},r.a.createElement(Q.a,{variant:"circle",width:"100%",height:"100%",animation:"wave"})),r.a.createElement("div",{className:"category"},r.a.createElement(Q.a,{variant:"rect",width:n+"%",height:"100%",animation:"wave"})),r.a.createElement("div",{className:"comment"},r.a.createElement(Q.a,{variant:"rect",width:c+"%",height:"100%",animation:"wave"})),r.a.createElement("div",{className:"amount"},r.a.createElement(Q.a,{variant:"rect",width:o,height:"100%",animation:"wave"}))))}var ne=n(58),ae=n(84);var re=n(9),ce=n(72),oe=Object(a.createRef)();function ie(e){var t=function(e){var t=Object(_.c)((function(e){return e.transactions.filteredItems})),n=Object(a.useMemo)((function(){return ne.a.groupByDate(t,(function(e){return e.date}),{sort:!0})}),[t]),r=Object(_.c)((function(e){return e.auth.initialized})),c=!Object(_.c)((function(e){return e.transactions.initialized}))||!r,o=e.showSkeletons&&c,i=Object(ae.c)(),s=Object(w.a)(i,2)[1];return{itemsByDates:n,showSkeletons:o,handleCreate:Object(a.useCallback)((function(){s(!0)}),[s])}}(e);return Object(a.useEffect)((function(){var e;null===(e=oe.current)||void 0===e||e.recomputeRowHeights()}),[e,t.itemsByDates]),t.showSkeletons?r.a.createElement("div",{className:"TransactionList"},ce.a.createIndexArray(16).map((function(e){return r.a.createElement(te,{i:e,key:e})}))):r.a.createElement(Y.d.div,{layout:"position",className:"TransactionList"},r.a.createElement(Z.a,{className:"autoSizer"},(function(e){return r.a.createElement(Z.b,{ref:oe,className:"virtualizedList",height:e.height,width:e.width,rowCount:t.itemsByDates.length,rowHeight:function(e){var n=e.index;return 80*t.itemsByDates[n].items.length+40+(0===n?Number(re.a.fixed_spacing_4.replace(/\D/g,"")):0)},noRowsRenderer:function(){return r.a.createElement("div",{className:"emptyTransactions"},r.a.createElement(y,null,"No transactions. Start by creating your first transaction."),r.a.createElement(l.a,{color:"primary",variant:"contained",onClick:t.handleCreate},"Create"))},rowRenderer:function(e){var n,a=t.itemsByDates[e.index];return r.a.createElement("div",{className:"dateGroup",key:e.key,style:e.style},r.a.createElement("div",{className:"dateGroupHeader"},r.a.createElement(y,{variant:"bold",color:"gray-700",size:"md"},(n=a.date).getFullYear()===se?Object($.a)(n,"dd.MM."):Object($.a)(n,"dd.MM.yyyy"))),r.a.createElement("ul",null,a.items.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(G,{transaction:e}))}))))}})})))}var se=(new Date).getFullYear(),le=(n(686),n(932)),ue=n(930),me=n(933),de=n(928),fe=n(929),ve=n(943),pe=n(944);function be(e){var t=Object(a.useMemo)((function(){return window.matchMedia(e)}),[e]),n=Object(a.useState)(!1),r=Object(w.a)(n,2),c=r[0],o=r[1],i=Object(a.useCallback)((function(){o(t.matches)}),[t]);return Object(a.useEffect)((function(){return i(),t.addEventListener("change",i),function(){t.removeEventListener("change",i)}}),[t,i]),c}function he(){return be("(min-width: 600px)")}function ge(){return be("(min-width: 900px)")}n(687);var ye=n(461),Oe=n(985),Ee=n(941),je=n(937),we=n(938),ke=n(939),xe=(n(688),n(936)),_e=n(973),Ce=n(137);function Ne(e){var t=function(e){var t=Object(_.c)((function(e){return e.interval.smartDisplayString})),n=Object(_.c)((function(e){return e.interval.isDay})),a=Object(_.c)((function(e){return e.interval.isWeek})),r=Object(_.c)((function(e){return e.interval.isMonth})),c=Object(_.c)((function(e){return e.interval.isYear})),o=Object(_.c)((function(e){return e.interval.isAll})),i=Object(_.b)((function(e){return e.interval.dayInterval})),s=Object(_.b)((function(e){return e.interval.weekInterval})),l=Object(_.b)((function(e){return e.interval.monthInterval})),u=Object(_.b)((function(e){return e.interval.yearInterval})),m=Object(_.b)((function(e){return e.interval.allInterval})),d=Object(_.b)((function(e){return e.interval.previousInterval})),f=Object(_.b)((function(e){return e.interval.nextInterval})),v=Object(_.b)((function(e){return e.interval.now})),p=Object(_.c)((function(e){return e.interval.includesToday})),b=Object(_.c)((function(e){return e.interval.startDate})),h=Object(_.c)((function(e){return e.interval.endDate})),g=Object(_.b)((function(e){return e.interval.setStartDate})),y=Object(_.b)((function(e){return e.interval.setEndDate}));return{onConfirm:e.onConfirm,intervalString:t,isDay:n,isWeek:a,isMonth:r,isYear:c,isAll:o,onDay:function(){return i()},onWeek:function(){return s()},onMonth:function(){return l()},onYear:function(){return u()},onAll:function(){return m()},onPrevious:function(){return d()},onNext:function(){return f()},onNow:function(){return v()},includesToday:p,startDate:b,endDate:h,setStartDate:g,setEndDate:y}}(e);return r.a.createElement("div",{className:"IntervalPickerForm"},r.a.createElement("section",{className:"title"},r.a.createElement("div",{className:"currentInterval"},r.a.createElement(xe.a,null),r.a.createElement(y,{variant:"bold"},t.intervalString)),r.a.createElement("div",{className:"nextOrPreviousInterval"},r.a.createElement(s.a,{disabled:t.isAll,onClick:t.onPrevious},r.a.createElement(je.a,null)),r.a.createElement(s.a,{onClick:t.onNow},r.a.createElement(we.a,null)),r.a.createElement(s.a,{disabled:t.isAll,onClick:t.onNext},r.a.createElement(ke.a,null)))),r.a.createElement("section",{className:"intervalLength"},r.a.createElement(l.a,{variant:"text",color:t.isDay?"primary":"default",onClick:t.onDay},"Day"),r.a.createElement(l.a,{variant:"text",color:t.isWeek?"primary":"default",onClick:t.onWeek},"Week"),r.a.createElement(l.a,{variant:"text",color:t.isMonth?"primary":"default",onClick:t.onMonth},"Month"),r.a.createElement(l.a,{variant:"text",color:t.isYear?"primary":"default",onClick:t.onYear},"Year"),r.a.createElement(l.a,{variant:"text",color:t.isAll?"primary":"default",onClick:t.onAll},"All")),r.a.createElement("section",{className:"dateSection"},r.a.createElement(_e.a,{value:ne.a.compareDate(t.startDate,"==",Ce.b)?null:t.startDate,onChange:function(e){return t.setStartDate(e)},format:"dd/MM/yyyy",inputVariant:"outlined",variant:"inline",size:"small",label:"From",fullWidth:!0}),r.a.createElement(_e.a,{value:ne.a.compareDate(t.endDate,"==",Ce.a)?null:t.endDate,onChange:function(e){return t.setEndDate(e)},format:"dd/MM/yyyy",inputVariant:"outlined",variant:"inline",size:"small",label:"To",fullWidth:!0})),e.onConfirm&&r.a.createElement(l.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:e.onConfirm},"OK"))}function Se(e){var t=Object(c.g)(),n=Object(c.h)();if(e.includes("@"))throw new Error("Hash cannot include '@' character");var r=Object(a.useMemo)((function(){return n.hash.substring(1)===e}),[n,e]),o=Object(a.useCallback)((function(a){!0===a?r||t.push({hash:e,search:n.search}):r&&t.goBack()}),[t,e,r,n.search]);return[r,o]}function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return h.a.apply(void 0,t.concat(n))}}function Ae(e){var t=Te({controlsHidden:e.hideControls,controlsReversed:e.reverseControls,nowControlHidden:e.hideControls}),n=function(e){var t=Object(_.c)((function(e){return e.interval.smartDisplayString})),n=Object(_.c)((function(e){return e.interval.includesToday})),r=Object(_.b)((function(e){return e.interval.now})),c=Object(_.b)((function(e){return e.interval.previousInterval})),o=Object(_.b)((function(e){return e.interval.nextInterval})),i=!0!==e.hideControls,s=Se("interval"),l=Object(w.a)(s,2),u=l[0],m=l[1],d=Object(a.useState)(),f=Object(w.a)(d,2);return{intervalLabel:t,includesToday:n,handleToday:function(){return r()},handlePrevious:function(){return c()},handleNext:function(){return o()},shouldShowControls:i,intervalPickerOpen:u,setIntervalPickerOpen:m,intervalPickerMenuAnchor:f[0],setIntervalPickerMenuAnchor:f[1]}}(e),c=he()&&!H.isMobile,o=r.a.createElement(Y.d.div,{layout:"position"},r.a.createElement(l.a,{className:t("date-button"),startIcon:r.a.createElement(Ee.a,null),onClick:function(e){n.setIntervalPickerOpen(!0),n.setIntervalPickerMenuAnchor(e.currentTarget)}},r.a.createElement("span",{className:t("label")},n.intervalLabel)));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.d.div,{className:t("IntervalManager")},e.reverseControls?o:null,n.shouldShowControls&&r.a.createElement(Y.d.div,{layout:"position",className:t("arrow-buttons")},r.a.createElement(s.a,{onClick:n.handlePrevious},r.a.createElement(je.a,null)),e.hideNowControl?null:r.a.createElement(s.a,{onClick:n.handleToday},r.a.createElement(we.a,null)),r.a.createElement(s.a,{onClick:n.handleNext},r.a.createElement(ke.a,null))),e.reverseControls?null:o),c?r.a.createElement(ye.a,{open:!!n.intervalPickerMenuAnchor&&n.intervalPickerOpen,onClose:function(){n.setIntervalPickerMenuAnchor(void 0),n.setIntervalPickerOpen(!1)},anchorEl:n.intervalPickerMenuAnchor,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},getContentAnchorEl:null},r.a.createElement("div",{className:t("IntervalManager__Menu")},r.a.createElement(Ne,{onConfirm:function(){n.setIntervalPickerMenuAnchor(void 0),n.setIntervalPickerOpen(!1)}}))):r.a.createElement(Oe.a,{open:!!n.intervalPickerMenuAnchor&&n.intervalPickerOpen,onClose:function(){n.setIntervalPickerMenuAnchor(void 0),n.setIntervalPickerOpen(!1)},anchor:"bottom"},r.a.createElement("div",{className:t("IntervalManager__Drawer")},r.a.createElement(Ne,{onConfirm:function(){n.setIntervalPickerMenuAnchor(void 0),n.setIntervalPickerOpen(!1)}}))))}var De=n(83),Ie=n(172);n(689);var Pe=n(942),Me=n(489);function ze(e){var t=Object(_.b)((function(e){return e.transactions.setSearchTerm})),n=Object(a.useState)(""),r=Object(w.a)(n,2),c=r[0],o=r[1],i=Object(Ie.a)("search","replace","open"),s=Object(w.a)(i,2),l=s[0],u=s[1],m=Object(a.useCallback)((function(){return u(!0)}),[u]),d=Object(a.useCallback)((function(){return u(!1)}),[u]),f=function(e,t){var n=Object(a.useState)(e),r=Object(w.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),c}(c,100);return Object(a.useEffect)((function(){t(l?f:"")}),[f,l,t]),{open:l,onOpen:m,onClose:d,input:c,setInput:o}}function Fe(e){var t=Object(a.useState)(!1),n=Object(w.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var t=setTimeout((function(){c(!0)}),e);return function(){return window.clearTimeout(t)}}),[e,c]),r}function Re(e){var t=Fe(100),n=ze(),c=ge(),o=Object(a.useRef)(null);return r.a.createElement("div",{className:"TransactionsFilter"},r.a.createElement(Y.b,null,r.a.createElement(Y.d.div,{layout:t,className:h()("container",{open:n.open})},r.a.createElement(Me.a,{focusRipple:!0,disableRipple:n.open,className:h()({open:n.open}),onClick:function(){n.open||n.onOpen(),setTimeout((function(){var e;null===(e=o.current)||void 0===e||e.focus()}),0)}},r.a.createElement(Y.d.div,{layout:t,className:h()("buttonBase",{open:n.open})},r.a.createElement(Y.d.span,{className:"icon startIcon",layout:!!t&&"position"},r.a.createElement(Pe.a,null)),r.a.createElement(Y.a,null,!n.open&&c&&r.a.createElement(Y.d.span,{transition:{duration:.4},layout:"position",initial:{opacity:0,scale:1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0}},r.a.createElement(y,{variant:"boldcaps"},"Search"))),n.open&&r.a.createElement(Y.d.span,{className:h()("inputContainer",{open:n.open}),layout:!!t&&"position",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0}},r.a.createElement("input",{ref:o,className:"input",value:n.input,onChange:function(e){return n.setInput(e.target.value)}})),n.open&&r.a.createElement(Y.d.span,{transition:{duration:.4},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"icon endIcon iconButton",layout:!!t&&"position"},r.a.createElement("div",{className:"iconButtonChild"},r.a.createElement(le.a,{onClick:function(e){e.stopPropagation(),n.onClose()}}))))))))}function Le(e){var t=function(e){var t=Object(Ie.a)("search","replace","open"),n=Object(w.a)(t,1)[0],r=Object(_.c)((function(e){return e.selection.selection})),c=Object(_.c)((function(e){return e.selection.selectionActive})),o=Object(_.b)((function(e){return e.selection.deselectAll})),i=Object(a.useCallback)((function(){o()}),[o]),s=Object(_.c)((function(e){return e.transactions.filteredItems})),l=Object(_.b)((function(e){return e.selection.selectAll})),u=Object(a.useCallback)((function(){l(s.map((function(e){return e.id})))}),[l,s]),m=Object(a.useMemo)((function(){return ce.a.compareArrays(s.map((function(e){return e.id})),r.map((function(e){return e.id})))}),[s,r]),d=Object(_.b)((function(e){return e.transactions.deleteTransactions})),f=Object(a.useCallback)(Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(r.map((function(e){return e.id}))),o();case 2:case"end":return e.stop()}}),e)}))),[d,r,o]),v=Object(De.c)(),p=Object(w.a)(v,2)[1],b=Object(a.useCallback)((function(){1===r.length&&(p(r[0].id),o())}),[r,p,o]),h=Object(ae.c)(),g=Object(w.a)(h,2),y=g[0],O=g[1],k=Object(a.useCallback)((function(){O(!y)}),[y,O]);return{selection:r,allSelected:m,isSelectionActive:c,createDrawerOpen:y,handleSelectAll:u,handleDeselectAll:i,handleEdit:b,handleDelete:f,handleCreate:k,isSearchOpen:n}}(),n=ge(),c=he(),o=Te({mobile:!n,desktop:n,selection:t.isSelectionActive,searchIsOpen:t.isSearchOpen});return n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ActionsPanel desktop"},r.a.createElement("div",{className:"actionButtons"},r.a.createElement(l.a,{variant:"contained",color:"primary",className:"button createButton",startIcon:t.createDrawerOpen?r.a.createElement(ve.a,null):r.a.createElement(pe.a,null),onClick:t.handleCreate},r.a.createElement(y,{variant:"boldcaps",color:"white"},"New transaction")),t.isSelectionActive&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{variant:"outlined",className:"button editButton",startIcon:r.a.createElement(de.a,null),onClick:t.handleEdit,disabled:1!==t.selection.length},r.a.createElement(y,{variant:"boldcaps"},"Edit")),r.a.createElement(l.a,{variant:"outlined",className:"button deleteButton",startIcon:r.a.createElement(fe.a,null),onClick:t.handleDelete,disabled:0===t.selection.length},r.a.createElement(y,{variant:"boldcaps"},"Delete")))),r.a.createElement("div",{className:"filtersButton"},r.a.createElement(Re,null)))):r.a.createElement("div",{className:o("ActionsPanel")},t.isSelectionActive?r.a.createElement(Y.d.div,{layout:"position",className:"selection-container"},r.a.createElement(Y.d.div,{layout:"position",className:"selection-info"},r.a.createElement(s.a,{onClick:t.handleDeselectAll,children:r.a.createElement(le.a,null)}),r.a.createElement(y,{variant:"boldcaps",color:"gray-800"},"".concat(t.selection.length," selected"))),r.a.createElement(Y.d.div,{layout:"position",className:"selection-actions"},t.allSelected?r.a.createElement(s.a,{onClick:t.handleDeselectAll,children:r.a.createElement(ue.a,null)}):r.a.createElement(s.a,{onClick:t.handleSelectAll,children:r.a.createElement(me.a,null)}),r.a.createElement(s.a,{className:"editButton",disabled:1!==t.selection.length,onClick:t.handleEdit,children:r.a.createElement(de.a,null)}),r.a.createElement(s.a,{className:"deleteButton",disabled:0===t.selection.length,onClick:t.handleDelete,children:r.a.createElement(fe.a,null)}))):r.a.createElement("div",{className:"intervalManager"},r.a.createElement(Ae,{reverseControls:!n,hideNowControl:!c})),r.a.createElement("div",{className:"filterManager"},r.a.createElement(Re,null)))}n(690),n(691);var We=n(945),Be=n(931),qe=n(946),Ue=n(947);function Ve(e){var t=function(e){var t=Object(_.c)((function(e){return e.selection.selection})),n=Object(_.c)((function(e){return e.transactions.filteredItems})),r=Object(_.b)((function(e){return e.transactions.toggleSortingStrategy})),c=Object(_.c)((function(e){return e.transactions.sortingStrategy})),o=Object(_.c)((function(e){return e.selection.selectionActive})),i=Object(a.useMemo)((function(){return ce.a.compareArrays(n.map((function(e){return e.id})),t.map((function(e){return e.id})))}),[n,t]),s=Object(_.b)((function(e){return e.selection.selectAll})),l=Object(_.b)((function(e){return e.selection.deselectAll}));return{isSelectionActive:o,isAllSelected:i,onSelectAll:function(){return s(n.map((function(e){return e.id})))},onDeselectAll:function(){return l()},sortingStrategy:c,onToggleSort:r}}();return r.a.createElement("div",{className:"TransactionTableHeader"},r.a.createElement("div",{className:"action"},t.isSelectionActive?t.isAllSelected?r.a.createElement(ue.a,{className:"checkbox allselected",onClick:t.onDeselectAll}):r.a.createElement(We.a,{className:"checkbox someselected",onClick:t.onSelectAll}):r.a.createElement(Be.a,{className:"checkbox noneselected",onClick:t.onSelectAll})),r.a.createElement("div",{className:"category",onClick:function(){return t.onToggleSort("category")}},r.a.createElement(y,{variant:"boldcaps",size:"sm",color:"gray-600"},"Category"),"category-descending"===t.sortingStrategy?r.a.createElement(qe.a,{className:"sortbutton descending"}):"category-ascending"===t.sortingStrategy?r.a.createElement(Ue.a,{className:"sortbutton ascending"}):null),r.a.createElement("div",{className:"amount",onClick:function(){return t.onToggleSort("amount")}},r.a.createElement(y,{variant:"boldcaps",size:"sm",color:"gray-600"},"Amount"),"amount-descending"===t.sortingStrategy?r.a.createElement(qe.a,{className:"sortbutton descending"}):"amount-ascending"===t.sortingStrategy?r.a.createElement(Ue.a,{className:"sortbutton ascending"}):null),r.a.createElement("div",{className:"comment",onClick:function(){return t.onToggleSort("comment")}},r.a.createElement(y,{variant:"boldcaps",size:"sm",color:"gray-600"},"Comment"),"comment-descending"===t.sortingStrategy?r.a.createElement(qe.a,{className:"sortbutton descending"}):"comment-ascending"===t.sortingStrategy?r.a.createElement(Ue.a,{className:"sortbutton ascending"}):null),r.a.createElement("div",{className:"date",onClick:function(){return t.onToggleSort("date")}},r.a.createElement(y,{variant:"boldcaps",size:"sm",color:"gray-600"},"Date"),"date-descending"===t.sortingStrategy?r.a.createElement(qe.a,{className:"sortbutton descending"}):"date-ascending"===t.sortingStrategy?r.a.createElement(Ue.a,{className:"sortbutton ascending"}):null))}n(692);n(693);var Ye=n(948),Je=n(977),He=n(465),Ke=n.n(He);function Ge(e){var t,n=Object(_.b)((function(e){return e.notification.notify})),r=e.editTransaction,c=Object(_.c)((function(e){return e.transactions.categories})),o=Object(_.b)((function(e){return e.transactions.postTransaction})),i=Object(_.b)((function(e){return e.transactions.putTransaction})),s=Object(a.useState)(!1),l=Object(w.a)(s,2),u=l[0],m=l[1],d=Object(a.useState)(""),f=Object(w.a)(d,2),v=f[0],p=f[1],b=Object(a.useState)("-"),h=Object(w.a)(b,2),g=h[0],y=h[1],O=Object(a.useState)(""),x=Object(w.a)(O,2),C=x[0],N=x[1],S=Object(a.useState)(""),T=Object(w.a)(S,2),A=T[0],D=T[1],I=Object(a.useState)(new Date),P=Object(w.a)(I,2),M=P[0],z=P[1],F=Object(a.useState)(""),R=Object(w.a)(F,2),L=R[0],W=R[1],B=Object(a.useState)(null),q=Object(w.a)(B,2),U=q[0],V=q[1],Y=Object(a.useState)(!1),J=Object(w.a)(Y,2),H=J[0],K=J[1],G=null===(t=c.find((function(e){return e.value===A})))||void 0===t?void 0:t.icon,X=Object(a.useRef)("");Object(a.useEffect)((function(){r&&X.current!==r.id&&(X.current=r.id,y(1===r.amount.sign?"+":"-"),N(r.amount.decimalValue.toFixed(2)),D(r.category.value),W(r.comment),z(r.date),p(r.category.icon))}),[r]);var $=Object(a.useState)({}),Z=Object(w.a)($,2),Q=Z[0],ee=Z[1];function te(){return Ke()().test(v)?v:void 0}function ne(){var e=function(){if(!/^-?\d*[\.,]?\d{0,2}$/.test(C.trim()))return"Invalid number"}(),t=function(){if(""===A.trim())return"Please enter a cetegory"}(),n=function(){if(!(M.getTime()>0&&!isNaN(M.getTime())))return"Invalid date"}();return ee({amount:e,category:t,time:n,comment:void 0}),!(e||t||n)}function ae(){return(ae=Object(j.a)(E.a.mark((function t(){var a,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ne()){t.next=3;break}return t.abrupt("return");case 3:if(m(!0),a=Math.round(Math.abs(100*Number(C.trim().replace(/,/g,".")))*("+"===g?1:-1)),!r){t.next=11;break}return t.next=8,i({id:r.id,integerAmount:a,category:A.trim(),time:M.getTime(),comment:L.trim(),categoryIcon:te()});case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,o({integerAmount:a,category:A.trim(),time:M.getTime(),comment:L.trim(),categoryIcon:te()});case 13:t.t0=t.sent;case 14:if(!(c=t.t0).isSuccess()){t.next=27;break}return r?k.a.event({action:"Edit Transaction",category:"Transactions",label:c.value.category.value,value:c.value.integerAmount/100}):k.a.event({action:"Create Transaction",category:"Transactions",label:c.value.category.value,value:c.value.integerAmount/100}),r&&n({message:"Changes saved"}),N(""),D(""),z(new Date),W(""),ee({}),X.current="",e.onClose&&e.onClose(),m(!1),t.abrupt("return");case 27:ee((function(){var e,t;if(console.error(c),"invalidServerResponse"===c.reason)return{main:"Invalid response received from server"};switch(c.code){case"request/invalid-request-data":var n=null!==(e=null===(t=c.data)||void 0===t?void 0:t.errors)&&void 0!==e?e:{};return{amount:"string"===typeof n.integerAmount?n.integerAmount:void 0,comment:"string"===typeof n.comment?n.comment:void 0,category:"string"===typeof n.category?n.category:void 0,time:"string"===typeof n.time?n.time:void 0,main:"string"===typeof n._root?n._root:"string"===typeof n.id?n.id:"string"===typeof n.uid?n.uid:void 0};case"transaction/already-exists":return{main:"Could not post transaction due to overlapping IDs"};case"auth/unauthorized":return{main:"Cannot edit another user's transaction"};case"server/unavailable":return{main:"Could not react server. Try again later."};default:return{main:"Error posting transaction."}}})),m(!1);case 29:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{loading:u,onSubmit:function(){return ae.apply(this,arguments)},sign:g,amount:C,category:A,time:M,comment:L,icon:v,existingCategoryIcon:G,emojiPickerOpen:H,emojiPickerAnchor:U,setEmojiPickerOpen:K,setEmojiPickerAnchor:V,onIconChange:p,onSignChange:y,onAmountChange:N,onCategoryChange:D,onTimeChange:z,onCommentChange:W,errors:Q,categories:c,edit:!!r}}n(694);function Xe(e){var t=e.loading,n=e.disabled,a=e.children,c=e.className,o=Object(p.a)(e,["loading","disabled","children","className"]);return r.a.createElement(l.a,Object.assign({},o,{className:h()("EnhancedButton",c),disabled:n||t}),a,t?r.a.createElement("div",{className:"enhancedButtonLoader"},r.a.createElement(z.a,{size:28})):null)}var $e=n(466),Ze=n.n($e),Qe=n(949);function et(e){var t=Object(a.useRef)(null),n=Ge(e);var c=he(),u=ge();return r.a.createElement("form",{className:h()("TransactionForm",e.variant||"vertical",{titleHidden:!!e.hideTitle,hasCloseBUtton:!!e.showCloseButton}),onSubmit:function(e){e.preventDefault(),n.onSubmit()}},e.hideTitle?null:r.a.createElement("div",{className:"title"},r.a.createElement(y,{variant:"boldcaps",color:"gray-600"},n.edit?"Edit transaction":"New transaction")),r.a.createElement(Ye.a,{fullWidth:!0,className:"transactionAmount"},r.a.createElement(l.a,{size:"small",color:"+"===n.sign?"primary":void 0,variant:"+"===n.sign?"contained":"outlined",onClick:function(){var e;n.onSignChange("+"),null===(e=t.current)||void 0===e||e.focus()}},"+"),r.a.createElement(l.a,{size:"small",color:"-"===n.sign?"primary":void 0,variant:"-"===n.sign?"contained":"outlined",onClick:function(){var e;n.onSignChange("-"),null===(e=t.current)||void 0===e||e.focus()}},"-"),r.a.createElement(o.a,{value:n.amount,onChange:function(e){return n.onAmountChange(e.target.value)},onKeyDown:function(e){switch(e.key){case"-":n.onSignChange("-");break;case"+":n.onSignChange("+")}},id:"transaction-amount",variant:"outlined",name:"amount",type:"number",label:"Amount",error:!!n.errors.amount,helperText:n.errors.amount,fullWidth:!0,required:!0,size:"small",autoFocus:!n.edit,autoComplete:"off",inputProps:{ref:t},InputProps:{endAdornment:r.a.createElement(i.a,{position:"end"},r.a.createElement(y,null,"EUR"))}})),r.a.createElement(ye.a,{anchorEl:n.emojiPickerAnchor,open:n.emojiPickerOpen,onClose:function(){return n.setEmojiPickerOpen(!1)}},r.a.createElement("div",null,r.a.createElement(Ze.a,{native:!0,disableAutoFocus:!0,onEmojiClick:function(e,t){n.setEmojiPickerAnchor(null),n.setEmojiPickerOpen(!1),n.onIconChange(t.emoji)}}))),r.a.createElement(Ye.a,{fullWidth:!0,className:"transaction-category"},r.a.createElement(l.a,{tabIndex:-1,className:"transaction-emoji",variant:"outlined",onClick:function(e){n.setEmojiPickerAnchor(e.currentTarget),n.setEmojiPickerOpen(!0)}},n.icon||n.existingCategoryIcon||("+"===n.sign?"\ud83d\udcb0":"\ud83d\udcb8")),r.a.createElement(Je.a,{inputValue:n.category,onInputChange:function(e,t){return n.onCategoryChange(t)},id:"transaction-category",freeSolo:!0,openOnFocus:!0,autoHighlight:!0,selectOnFocus:!0,disableClearable:!0,size:"small",autoComplete:!0,fullWidth:!0,options:n.categories.map((function(e){return e.value})),renderInput:function(e){return r.a.createElement(o.a,Object.assign({variant:"outlined",name:"category",type:"text",label:"Category",autoComplete:"off",error:!!n.errors.category,helperText:n.errors.category,required:!0},e))}})),r.a.createElement(o.a,{value:n.comment,onChange:function(e){return n.onCommentChange(e.target.value)},id:"transaction-comment",className:"transaction-comment",variant:"outlined",name:"comment",type:"text",label:"Comment",error:!!n.errors.comment,helperText:n.errors.comment,fullWidth:!0,size:"small"}),r.a.createElement(_e.b,{value:n.time,onChange:function(e){return n.onTimeChange(e)},format:"dd/MM/yyyy",autoOk:!0,id:"transaction-time",className:"transaction-time",variant:c?"inline":"dialog",inputVariant:"outlined",label:"Date",error:!!n.errors.time,helperText:n.errors.time,fullWidth:!0,required:!0,size:"small"}),r.a.createElement(Xe,{type:"submit",color:"primary",variant:"contained",className:"submit",fullWidth:!0,loading:n.loading},n.edit?"Save":"Create"),e.showCloseButton&&(u?r.a.createElement(l.a,{variant:"outlined",className:"close",onClick:function(){e.onClose&&e.onClose()}},r.a.createElement(Qe.a,null)):r.a.createElement(s.a,{className:"close",onClick:function(){e.onClose&&e.onClose()}},r.a.createElement(Qe.a,null))))}function tt(e){var t,n=function(e){var t=Object(_.c)((function(e){return e.selection.selection})),n=Object(a.useMemo)((function(){return t.some((function(t){return t.id===e.transaction.id}))}),[e.transaction,t]),r=Object(De.c)(),c=Object(w.a)(r,2),o=c[0],i=c[1],s=Object(a.useMemo)((function(){return o===e.transaction.id}),[o,e.transaction]),l=Object(a.useCallback)((function(){i(null)}),[i]),u=Object(_.b)((function(e){return e.selection.select})),m=Object(_.b)((function(e){return e.selection.selectAll})),d=Object(_.b)((function(e){return e.selection.deselect})),f=Object(_.b)((function(e){return e.selection.deselectAll})),v=Object(_.c)((function(e){return e.selection.selectionActive})),p=Object(a.useCallback)((function(a){var r=a.shiftKey,c=a.ctrlKey;r?0===t.length?u(e.transaction.id):m(e.getAllTransactionIdsBetween(e.transaction.id,t[0].id)):n?t.length<=1||c?d(e.transaction.id):(f(),u(e.transaction.id)):(c||f(),u(e.transaction.id))}),[t,d,f,u,n,m,e]),b=Object(K.b)(),h=Object(a.useCallback)((function(t){t.preventDefault(),b.setPosition({top:t.clientY,left:t.clientX}),b.setTransaction(e.transaction)}),[b,e.transaction]),g=Object(a.useMemo)((function(){return!!b.transaction&&b.transaction.id===e.transaction.id}),[b,e.transaction]);return{transaction:e.transaction,onClick:p,onContextMenu:h,isEditing:s,onCloseEditing:l,selected:n,contextMenuSelected:g,selectionActive:v,onSelect:function(){return u(e.transaction.id)},onDeselect:function(){return d(e.transaction.id)}}}(e);return n.isEditing?r.a.createElement("div",{className:h()("TransactionTableRow editing")},r.a.createElement(et,{hideTitle:!0,showCloseButton:!0,editTransaction:e.transaction,onClose:n.onCloseEditing,variant:"horizontal"})):r.a.createElement("div",{className:h()("TransactionTableRow default",{selected:n.selected,contextMenuSelected:n.contextMenuSelected}),onClick:n.onClick,onContextMenu:n.onContextMenu},r.a.createElement("div",{className:"action"},n.selected?r.a.createElement(ue.a,{className:"selected",onClick:function(e){e.stopPropagation(),n.onDeselect()}}):r.a.createElement(Be.a,{className:"unselected",onClick:function(e){e.stopPropagation(),n.onSelect()}})),r.a.createElement("div",{className:"category"},r.a.createElement(y,{variant:"bold",color:"gray-800",size:"md"},r.a.createElement("span",{className:"categoryIcon"},n.transaction.icon),n.transaction.category.value)),r.a.createElement("div",{className:"amount"},r.a.createElement(J,{amount:n.transaction.amount,variant:"bold",size:"md",colorIfPositive:"green-600",colorIfNegative:"red-600"})),r.a.createElement("div",{className:"comment"},r.a.createElement(y,{color:"gray-700",variant:"regular",size:"md"},n.transaction.comment)),r.a.createElement("div",{className:"date"},r.a.createElement(y,{color:"gray-700",variant:"regular",size:"md"},(t=n.transaction.date).getFullYear()===nt?Object($.a)(t,"d.M."):Object($.a)(t,"d.M.yyyy"))))}var nt=(new Date).getFullYear();n(695);function at(e){var t=ee(20,90),n=ee(48,64),a=ee(20,80),c=ee(48,64);return r.a.createElement("div",{className:"TransactionTableRowSkeleton"},r.a.createElement("div",{className:"action"},r.a.createElement(Q.a,{variant:"rect",width:20,height:20,animation:"wave"})),r.a.createElement("div",{className:"category"},r.a.createElement(Q.a,{variant:"rect",width:t+"%",height:16,animation:"wave"})),r.a.createElement("div",{className:"amount"},r.a.createElement(Q.a,{variant:"rect",width:n,height:16,animation:"wave"})),r.a.createElement("div",{className:"comment"},r.a.createElement(Q.a,{variant:"rect",width:a+"%",height:16,animation:"wave"})),r.a.createElement("div",{className:"date"},r.a.createElement(Q.a,{variant:"rect",width:c,height:16,animation:"wave"})))}var rt=n(87);var ct=Object(a.createRef)();function ot(e){var t=be("(min-width: 1200px)"),n=function(e){var t=Object(_.c)((function(e){return e.transactions.filteredItems})),n=Object(_.c)((function(e){return e.transactions.sortingStrategy})),r=Object(De.c)(),c=Object(w.a)(r,1)[0],o=Object(a.useMemo)((function(){return t.sort((function(e,t){return rt.a.compare(e,t,n)}))}),[t,n]),i=Object(a.useCallback)((function(e,t){if(e===t)return[e];var n=o.findIndex((function(t){return t.id===e})),a=o.findIndex((function(e){return e.id===t}));if(-1===n||-1===a)return[];for(var r=[],c=Math.min(n,a),i=Math.max(n,a),s=c;s<=i;s++){var l,u=null===(l=o[s])||void 0===l?void 0:l.id;u&&r.push(u)}return r}),[o]),s=Object(_.c)((function(e){return e.auth.initialized})),l=!Object(_.c)((function(e){return e.transactions.initialized}))||!s,u=e.showSkeletons&&l;return{items:o,showSkeletons:u,editingId:c,getAllTransactionIdsBetween:i}}(e);return Object(a.useEffect)((function(){var e;null===(e=ct.current)||void 0===e||e.recomputeRowHeights()}),[e,n.editingId,t,n.items]),n.showSkeletons?r.a.createElement("div",{className:"TransactionTable"},r.a.createElement(Ve,null),r.a.createElement("div",{className:"listContainer"},ce.a.createIndexArray(16).map((function(e){return r.a.createElement(at,{key:e})})))):r.a.createElement("div",{className:"TransactionTable"},r.a.createElement(Ve,null),r.a.createElement(Y.d.div,{layout:"position",className:"listContainer"},r.a.createElement(Z.a,{className:"autoSizer"},(function(e){return r.a.createElement(Z.b,{ref:ct,className:"virtualizedList",height:e.height,width:e.width,rowCount:n.items.length,rowHeight:function(e){var a=e.index;return n.items[a].id===n.editingId?t?60:110:40},noRowsRenderer:function(){return r.a.createElement("div",{className:"noTransactions"},r.a.createElement(y,{color:"gray-700",variant:"boldcaps",size:"md"},"No transactions"))},rowRenderer:function(e){var t=n.items[e.index];return r.a.createElement("li",{key:e.key,style:e.style},r.a.createElement(tt,{getAllTransactionIdsBetween:n.getAllTransactionIdsBetween,transaction:t}))}})}))))}n(696);var it=n(252),st=n.n(it);function lt(e){var t=ge(),n=function(e){var t=Object(_.c)((function(e){return e.interval.smartDisplayString})),n=Object(_.c)((function(e){return e.transactions.filteredItems})),r=Object(_.c)((function(e){return e.selection.selectionActive})),c=Object(_.c)((function(e){return e.selection.selectionLength}));return{intervalString:t,transactionsCount:Object(a.useMemo)((function(){return n.length}),[n]),transactionsTotal:Object(a.useMemo)((function(){return V.a.sum(n.map((function(e){return e.amount})))}),[n]),transactionsTotalIncome:Object(a.useMemo)((function(){return V.a.sum(n.filter((function(e){return e.amount.isPositive})).map((function(e){return e.amount})))}),[n]),transactionsTotalExpense:Object(a.useMemo)((function(){return V.a.sum(n.filter((function(e){return e.amount.isNegative})).map((function(e){return e.amount})))}),[n]),isSelectionActive:r,selectionLength:c}}();return t?r.a.createElement("div",{className:"DashboardHeader desktop"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"title"},r.a.createElement(y,{component:"h1",size:"xl",color:"gray-900",variant:"bold"},"Your transactions")),r.a.createElement("div",{className:"transactions-count"},r.a.createElement(y,{size:"md",color:"gray-600",variant:"boldcaps"},n.isSelectionActive?"Selected ".concat(n.selectionLength," / ").concat(n.transactionsCount," transactions"):"".concat(n.transactionsCount," transactions")))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"total"},r.a.createElement(J,{animate:!0,colorIfPositive:"green-600",colorIfNegative:"red-600",amount:n.transactionsTotal,size:"xl",variant:"bold"})),r.a.createElement("div",{className:"subtotals"},r.a.createElement("div",null,r.a.createElement(Ue.a,null),r.a.createElement(J,{animate:!0,color:"gray-700",amount:n.transactionsTotalIncome,size:"md",variant:"regular"})),r.a.createElement("div",null,r.a.createElement(qe.a,null),r.a.createElement(J,{animate:!0,color:"gray-700",amount:n.transactionsTotalExpense,size:"md",variant:"regular"}))))):r.a.createElement("div",{className:"DashboardHeader mobile"},r.a.createElement("div",{className:"texture-image-container"},r.a.createElement("img",{src:st.a,alt:""})),r.a.createElement("div",{className:"content"},r.a.createElement("section",{className:"title"},r.a.createElement(y,{variant:"boldcaps",size:"sm",color:"white"},"".concat(n.transactionsCount," transactions")),r.a.createElement(y,{variant:"boldcaps",size:"sm",color:"blue-300"},n.intervalString)),r.a.createElement("section",{className:"analytics"},r.a.createElement(J,{size:"xxl",color:"white",amount:n.transactionsTotal,animate:!0}))))}function ut(e){var t=Fe(100),n=function(){var e=ge(),t=Object(ae.c)(),n=Object(w.a)(t,2),r=n[0],c=n[1],o=Object(a.useMemo)((function(){return e&&r}),[e,r]),i=Object(a.useCallback)((function(){c(!1)}),[c]);return{isDesktopLayout:e,showCreateTransactionForm:o,handleTransactionFormClose:i}}();return r.a.createElement("div",{className:"Dashboard"},r.a.createElement("section",{className:"header"},r.a.createElement(lt,null)),r.a.createElement("section",{className:"panel"},r.a.createElement(Le,null)),r.a.createElement(Y.b,null,r.a.createElement(Y.a,null,n.showCreateTransactionForm?r.a.createElement(Y.d.section,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,transition:{type:"tween"}},className:h()("transactionForm",{open:n.showCreateTransactionForm})},r.a.createElement(et,{hideTitle:!0,variant:"horizontal",onClose:n.handleTransactionFormClose})):null),r.a.createElement(Y.d.section,{layout:t,initial:!1,className:"transactionsList"},n.isDesktopLayout?r.a.createElement(ot,{showSkeletons:!0}):r.a.createElement(ie,{showSkeletons:!0}))))}n(697);var mt=n(953),dt=(n(698),n(950)),ft=n(45),vt=n(22),pt=n(35),bt=n(42),ht=n(43),gt=n(153),yt=n.n(gt),Ot=n(65),Et=(Ot.a,Ot.a,function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(e,a){var r,c;return Object(vt.a)(this,n),(c=t.call(this,"error")).error=void 0,null!==(r=null===a||void 0===a?void 0:a.silent)&&void 0!==r&&r||console.warn("An error was converted into a failure",e),c.error=e,c}return n}(Ot.a)),jt=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(vt.a)(this,n),t.call(this,"spreadsheet-read-row-failure")}return n}(Ot.a),wt=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(vt.a)(this,n),t.call(this,"spreadsheet-read-file-failure")}return n}(Ot.a),kt=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(vt.a)(this,n),t.call(this,"spreadsheet-no-file-created")}return n}(Ot.a),xt=n(50),_t=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(e){var a;return Object(vt.a)(this,n),(a=t.call(this,"file-reader-failure")).event=void 0,a.event=e,a}return n}(Ot.a),Ct=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(vt.a)(this,n),t.call(this,"file-reader-aborted")}return n}(Ot.a),Nt=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(vt.a)(this,n),t.call(this,"file-reader-no-event-target")}return n}(Ot.a),St=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(e){var a;return Object(vt.a)(this,n),(a=t.call(this,"file-reader-invalid-type")).eventValue=void 0,a.eventValue=e,a}return n}(Ot.a),Tt=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(vt.a)(this,n),t.call(this,"file-reader-missing-file-failure")}return n}(Ot.a),At=function(){function e(){Object(vt.a)(this,e)}return Object(pt.a)(e,null,[{key:"readFileAsArrayBuffer",value:function(){var e=Object(j.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=t.files?t.files[0]:void 0;if(!n)return new Tt;var a=new FileReader;a.onerror=function(t){e(new _t(t))},a.onabort=function(){e(new Ct)},a.onload=function(t){t.target&&null!==t.target.result?"string"===typeof t.target.result?e(new St(t.target.result)):e(new xt.a(t.target.result)):e(new Nt)},a.readAsArrayBuffer(n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"readFileAsText",value:function(){var e=Object(j.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=t.files?t.files[0]:void 0;if(!n)return new Tt;var a=new FileReader;a.onerror=function(t){e(new _t(t))},a.onabort=function(){e(new Ct)},a.onload=function(t){var n;"string"===typeof(null===(n=t.target)||void 0===n?void 0:n.result)?e(new xt.a(t.target.result)):t.target?e(new St(t.target.result)):e(new Nt)},a.readAsText(n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Dt=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(){var e;Object(vt.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).schema=x.c({comment:x.d(),category:x.d().defined().min(1),integerAmount:x.b().defined().integer(),time:x.b().defined().positive().integer()}).defined(),e.options={category:{names:["Kategoria","Category","Class","Luokka"]},integerAmount:{names:["Summa","Sum","M\xe4\xe4r\xe4","Amount"],transformBeforeValidation:function(e){var t=String(e).replace(/,/g,".").replace(/[^\d\-\.]/g,""),n=Number(t);return Math.round(100*n)}},time:{names:["Aika","Time","P\xe4iv\xe4ys","P\xe4iv\xe4","P\xe4iv\xe4m\xe4\xe4r\xe4","Pvm","Date"],transformBeforeValidation:function(e){return It(Number(e)).getTime()}},comment:{names:["Kommentti","Selite","Seloste","Lis\xe4tieto","Details","Comment","Explanation","Description"]}},e}return Object(pt.a)(n,[{key:"createRow",value:function(e){return{amount:e.integerAmount/100,comment:e.comment||"",category:e.category,time:new Date(e.time)}}},{key:"getFileName",value:function(){var e=(new Date).toLocaleDateString();return"Nexpenda - ".concat(e)}},{key:"getFileSheetName",value:function(){return"Transactions"}},{key:"sortRows",value:function(e){return e.sort((function(e,t){return e.time-t.time}))}}]),n}(function(){function e(){Object(vt.a)(this,e),this._workbook=void 0,this._rowsCount=0,this.schema=void 0,this.options=void 0}return Object(pt.a)(e,[{key:"parseRow",value:function(){var e=Object(j.a)(E.a.mark((function e(t){var n,a,r=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof t&&t){e.next=2;break}return e.abrupt("return",new jt);case 2:return e.prev=2,n={},Object.keys(this.options).forEach((function(e){var a=r.options[e],c=Object.keys(t).find((function(e){return a.names.map((function(e){return e.toLowerCase()})).includes(e.toLowerCase())}));if(c){var o=t[c];n[e]=a.transformBeforeValidation?a.transformBeforeValidation(o):o}})),e.next=7,this.schema.validate(n);case 7:return a=e.sent,e.abrupt("return",new xt.a(a));case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",new Et(e.t0,{silent:!0}));case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"readFile",value:function(){var e=Object(j.a)(E.a.mark((function e(t){var n,a,r,c,o,i,s,l,u=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,At.readFileAsArrayBuffer(t);case 3:if(!(n=e.sent).isFailure()){e.next=6;break}return e.abrupt("return",new wt);case 6:return a=yt.a.read(n.value,{type:"buffer"}),this._workbook=a,r=a.Sheets[a.SheetNames[0]],c=yt.a.utils.sheet_to_json(r,{raw:!0}),o=c.map((function(e){return u.parseRow(e)})),e.next=13,Promise.all(o);case 13:return i=e.sent,s=xt.a.All(i),(l=Ot.a.All(i)).length>0&&console.warn("Failed parsing ".concat(l.length," rows"),l),e.abrupt("return",new xt.a({rows:s.map((function(e){return e.value})),succeeded:s.length,failed:l.length,total:s.length+l.length}));case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",new Et(e.t0,{silent:!0}));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRowsCount",value:function(){return this._rowsCount}},{key:"createFile",value:function(e){var t=this,n=yt.a.utils.book_new();this._rowsCount=e.length;var a=this.sortRows(e).map((function(e){return t.createRow(e)})),r=yt.a.utils.json_to_sheet(a);yt.a.utils.book_append_sheet(n,r,this.getFileSheetName()),this._workbook=n}},{key:"downloadFile",value:function(){if(!this._workbook)return new kt;var t=e.escapeFileName(this.getFileName(),"xlsx");return yt.a.writeFile(this._workbook,t),xt.a.Empty()}}],[{key:"escapeFileName",value:function(e,t){var n;return e.replace(/[\:\\\/\?\*\[\]]/g,"").slice(0,29-(null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0)).concat(t?"."+t:"")}}]),e}());function It(e){var t=Math.floor(e-25569),n=new Date(1e3*(86400*t)),a=e-Math.floor(e)+1e-7,r=Math.floor(86400*a),c=r%60;r-=c;var o=Math.floor(r/3600),i=Math.floor(r/60)%60;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),o,i,c)}function Pt(e){var t=function(e){var t=Object(_.b)((function(e){return e.transactions.postTransactions})),n=Object(a.useState)(),r=Object(w.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(!1),s=Object(w.a)(i,2),l=s[0],u=s[1],m=Object(a.useState)(!1),d=Object(w.a)(m,2),f=d[0],v=d[1],p=Object(_.b)((function(e){return e.notification.notify}));function b(){return(b=Object(j.a)(E.a.mark((function e(t){var n,a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),n=new Dt,e.next=4,n.readFile(t.target);case 4:(a=e.sent).isSuccess()?(k.a.event({action:"Upload Transactions File",category:"Transactions Files",label:"Upload file",value:a.value.total}),r=a.value.succeeded,c=a.value.total,p({message:"File read (".concat(r,"\x7f/ ").concat(c," rows)")}),o(a.value)):(p({message:"Error reading file"}),o(null)),u(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(j.a)(E.a.mark((function e(){var n,a,r,i,s,l,m,d,f;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===c||void 0===c?void 0:c.rows){e.next=5;break}return u(!1),v(!1),e.abrupt("return",p({message:"No transactions found in file",severity:"warning"}));case 5:v(!0),a=ce.a.chunkify(n,100),r=[],i=Object(ft.a)(a),e.prev=9,i.s();case 11:if((s=i.n()).done){e.next=19;break}return l=s.value,e.next=15,t(l);case 15:m=e.sent,r.push(m);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:r.every((function(e){return e.isSuccess()}))&&(d=r.reduce((function(e,t){return t.isSuccess()?e+t.value.t.length:e}),0),p({message:"".concat(d," / ").concat(n.length," transactions succesfully uploaded."),severity:"success"})),(f=r.find((function(e){return e.isFailure()})))&&f.isFailure()&&p({message:"invalidServerResponse"===f.reason?"Invalid response from server":"Failure to upload transactions",severity:"error"}),v(!1),o(void 0),u(!1);case 33:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})))).apply(this,arguments)}return{handleFileUpload:function(e){return b.apply(this,arguments)},handleUpload:function(){return h.apply(this,arguments)},handleCancel:function(){o(void 0),u(!1),v(!1)},parsing:l,uploading:f,result:c}}(),n=null===t.result?"Error":t.result?"Upload ".concat(t.result.succeeded," rows"):t.uploading?"Uploading...":t.parsing?"Reading file...":"Upload file";return r.a.createElement("div",{className:"FileUploader"},r.a.createElement(Ye.a,{color:"primary",fullWidth:!0},t.result?r.a.createElement(Xe,{key:"file-uploader-button-no-result",component:"label",color:"primary",variant:"contained",onClick:function(){return t.handleUpload()},fullWidth:!0,loading:t.uploading||t.parsing,endIcon:r.a.createElement(dt.a,null),children:n}):r.a.createElement(Xe,{key:"file-uploader-button-has-result",component:"label",color:"primary",variant:"outlined",fullWidth:!0,loading:t.uploading||t.parsing},n,r.a.createElement("input",{type:"file",style:{display:"none"},onChange:t.handleFileUpload})),t.result?r.a.createElement(l.a,{className:"cancelButton",color:"primary",variant:"outlined",onClick:t.handleCancel,disabled:t.uploading||t.parsing},r.a.createElement(Qe.a,null)):null))}n(702);var Mt=n(951);function zt(e){var t=function(e){var t=Object(_.c)((function(e){return e.transactions.items})),n=Object(_.b)((function(e){return e.notification.notify})),r=Object(a.useState)(!1),c=Object(w.a)(r,2),o=c[0],i=c[1];return{loading:o,handleClick:Object(a.useCallback)(Object(j.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),(a=new Dt).createFile(t.map((function(e){return{category:e.category.value,integerAmount:e.amount.value,time:e.date.getTime(),comment:e.comment}}))),a.downloadFile(),i(!1),k.a.event({action:"Download Transactions File",category:"Transactions Files",label:a.getFileName(),value:a.getRowsCount()}),n({message:"File downloaded."});case 7:case"end":return e.stop()}}),e)}))),[i,n,t])}}();return r.a.createElement(Xe,{component:"label",color:"primary",onClick:t.handleClick,fullWidth:!0,variant:"outlined",loading:t.loading,endIcon:r.a.createElement(Mt.a,null)},"Download file")}n(703);var Ft=n(468),Rt=n(952);n(704);var Lt=n(986);function Wt(e){var t=e.className,n=Object(p.a)(e,["className"]),a={user:Object(_.c)((function(e){return e.auth.user}))};return r.a.createElement(Lt.a,Object.assign({className:h()("UserAvatar",t)},n),a.user?a.user.photoUrl?r.a.createElement("img",{alt:"profileimage",src:a.user.photoUrl}):a.user.initials:r.a.createElement(z.a,{variant:"indeterminate"}))}function Bt(e){var t=Object(Ft.a)(e);return t.user?r.a.createElement("div",{className:"SettingsProfilePanel"},r.a.createElement("div",{className:"avatarContainer"},r.a.createElement(Wt,null)),r.a.createElement("div",{className:"nameContainer",onClick:t.name.handleStartEdit},t.name.editing?r.a.createElement("div",{className:"editNameContainer"},r.a.createElement(o.a,{id:t.editNameInputId,label:"Name",value:t.name.value,onChange:function(e){return t.name.setValue(e.target.value)},onKeyDown:function(e){"Escape"===e.key?t.name.handleCancelEdit():"Enter"===e.key&&t.name.handleSubmit()},variant:"outlined",size:"small"}),r.a.createElement(s.a,{disabled:t.name.loading,onClick:function(e){e.stopPropagation(),t.name.handleSubmit()}},t.name.loading?r.a.createElement(z.a,{size:24}):r.a.createElement(Rt.a,{className:"check"})),r.a.createElement(s.a,{disabled:t.name.loading,onClick:function(e){e.stopPropagation(),t.name.handleCancelEdit()}},r.a.createElement(le.a,{className:"clear"}))):r.a.createElement("div",{className:"editableContainer"},r.a.createElement("div",null,r.a.createElement(y,{component:"label",size:"sm",variant:"boldcaps",color:"gray-700"},"Name"),r.a.createElement(y,null,t.user.displayName)),r.a.createElement(s.a,{onClick:function(e){e.stopPropagation(),t.name.handleStartEdit()}},r.a.createElement(de.a,null)))),r.a.createElement("div",{className:"emailContainer"},r.a.createElement(y,{component:"label",size:"sm",variant:"boldcaps",color:"gray-700"},"Email"),r.a.createElement(y,null,t.user.email))):null}n(705);function qt(e){e.sectionTitle;var t=e.className,n=Object(p.a)(e,["sectionTitle","className"]);return r.a.createElement("section",Object.assign({className:h()("SettingsSection",t)},n),r.a.createElement("div",{className:"sectionTitle"},r.a.createElement(y,{size:"md",component:"h2",variant:"bold",color:"gray-500"},e.sectionTitle)),r.a.createElement("div",{className:"content"},e.children))}function Ut(e){var t=function(){var e=C(),t=Object(_.c)((function(e){return e.auth.user})),n=Object(_.b)((function(e){return e.auth.logout}));return{user:t,handleLogout:Object(a.useCallback)(Object(j.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:t.sent.isSuccess()&&(k.a.event({action:"Logout",category:"User"}),e((function(e){return e.login})));case 4:case"end":return t.stop()}}),t)}))),[n,e])}}();return t.user?r.a.createElement("div",{className:"Settings"},r.a.createElement(qt,{className:"profilePanel",sectionTitle:"Profile"},r.a.createElement(Bt,null),r.a.createElement(l.a,{color:"primary",variant:"contained",onClick:t.handleLogout,startIcon:r.a.createElement(mt.a,null),fullWidth:!0},"Log out")),r.a.createElement(qt,{className:"fileHandlers",sectionTitle:"Export and import data"},r.a.createElement(Pt,null),r.a.createElement(zt,null)),r.a.createElement(qt,{sectionTitle:"Version"},r.a.createElement(y,null,"1.0.0"))):r.a.createElement("div",{className:"Settings loading"},r.a.createElement(z.a,null),r.a.createElement(y,null,"Loading profile"))}n(706);var Vt=n(211),Yt=n.n(Vt);n(709);function Jt(){return Object(_.c)((function(e){return e.interval.smartDisplayString})),ge()?r.a.createElement("header",{className:"AnalyticsHeader desktop"},r.a.createElement("div",{className:"title"},r.a.createElement(y,{component:"h1",size:"xl",color:"gray-900",variant:"bold"},"Analytics"))):r.a.createElement("header",{className:"AnalyticsHeader mobile"},r.a.createElement("div",{className:"texture-image-container"},r.a.createElement("img",{src:st.a,alt:""})),r.a.createElement("div",{className:"title"},r.a.createElement(y,{component:"h1",size:"xl",color:"white",variant:"bold"},"Analytics")))}n(710);function Ht(e){var t=ge();return r.a.createElement("div",{className:"AnalyticsPanel"},r.a.createElement(Ae,{reverseControls:!t}))}n(711);function Kt(e){var t={total:0,incomes:0,expenses:0},n={};e.transactions.forEach((function(e){var a=ne.a.serializeMonth(e.date);n[a]||(n[a]={key:a,incomes:0,expenses:0,total:0,cumulativeTotal:0}),t.total+=e.amount.value,n[a].total+=e.amount.value,e.amount.value>0&&(t.incomes+=e.amount.value,n[a].incomes+=e.amount.value),e.amount.value<0&&(t.expenses+=e.amount.value,n[a].expenses+=e.amount.value)}));var a,r=0,c=Object.values(n).sort((function(e,t){return e.key-t.key})),o=Object(ft.a)(c);try{for(o.s();!(a=o.n()).done;){var i=a.value;r+=i.total,i.cumulativeTotal+=r}}catch(s){o.e(s)}finally{o.f()}return{total:t,months:n}}var Gt=n(321),Xt=n(954),$t=n(270),Zt=n(204),Qt=n(981),en=n(880);function tn(e){var t=Object(Gt.a)(e.transactions.reduce((function(e,t){return t.date.getTime()<e.getTime()?t.date:e}),new Date)),n=Object(Gt.a)(Object(Xt.a)(new Date,11)),a=Object($t.a)(t,n)?t:n,r=Object(Zt.a)(new Date),c=1+Object(Qt.a)(r,a),o={total:0,average:0,incomes:0,incomesAverage:0,expenses:0,expensesAverage:0,transactions:0,transactionsAverage:0},i={max:{incomes:0,expenses:0},incomes:{},expenses:{}};e.transactions.filter((function(e){return e.filter("",a,r)})).forEach((function(e){if(o.total+=e.amount.value,o.transactions+=1,e.amount.value>0){o.incomes+=e.amount.value,i.incomes[e.category.id]||(i.incomes[e.category.id]={id:Object(en.a)(),category:e.category,total:0,average:0,transactions:0,percentageOfTotal:0,percentageOfMax:0});var t=i.incomes[e.category.id];t.total+=e.amount.value,t.transactions+=1}if(e.amount.value<0){o.expenses+=e.amount.value,i.expenses[e.category.id]||(i.expenses[e.category.id]={id:Object(en.a)(),category:e.category,total:0,average:0,transactions:0,percentageOfTotal:0,percentageOfMax:0});var n=i.expenses[e.category.id];n.total+=e.amount.value,n.transactions+=1}}));var s=function(e){return e/(c||1)};return o.average=s(o.total),o.incomesAverage=s(o.incomes),o.expensesAverage=s(o.expenses),o.transactionsAverage=s(o.transactions),Object.values(i.incomes).forEach((function(e){e.average=s(e.total)})),Object.values(i.expenses).forEach((function(e){e.average=s(e.total)})),i.max.incomes=Object.values(i.incomes).reduce((function(e,t){return t.average>e?t.average:e}),0),i.max.expenses=Object.values(i.expenses).reduce((function(e,t){return t.average<e?t.average:e}),0),Object.values(i.incomes).forEach((function(e){var t=i.max.incomes,n=o.incomesAverage;e.percentageOfMax=0===t?0:e.average/t*100,e.percentageOfTotal=0===n?0:e.average/n*100})),Object.values(i.expenses).forEach((function(e){var t=i.max.expenses,n=o.expensesAverage;e.percentageOfMax=0===t?0:e.average/t*100,e.percentageOfTotal=0===n?0:e.average/n*100})),{total:o,categories:i,monthsCount:c,startingMonth:a,endingMonth:r}}function nn(e){var t={total:0,incomes:0,expenses:0,transactions:0},n={max:{incomes:0,expenses:0},incomes:{},expenses:{}};return e.transactions.filter((function(t){return t.filter("",e.interval.start,e.interval.end)})).forEach((function(e){if(t.total+=e.amount.value,t.transactions+=1,e.amount.value>0){t.incomes+=e.amount.value,n.incomes[e.category.id]||(n.incomes[e.category.id]={id:Object(en.a)(),category:e.category,total:0,transactions:0,percentageOfTotal:0,percentageOfMax:0});var a=n.incomes[e.category.id];a.total+=e.amount.value,a.transactions+=1}if(e.amount.value<0){t.expenses+=e.amount.value,n.expenses[e.category.id]||(n.expenses[e.category.id]={id:Object(en.a)(),category:e.category,total:0,transactions:0,percentageOfTotal:0,percentageOfMax:0});var r=n.expenses[e.category.id];r.total+=e.amount.value,r.transactions+=1}})),n.max.incomes=Object.values(n.incomes).reduce((function(e,t){return t.total>e?t.total:e}),0),n.max.expenses=Object.values(n.expenses).reduce((function(e,t){return t.total<e?t.total:e}),0),Object.values(n.incomes).forEach((function(e){var a=n.max.incomes,r=t.incomes;e.percentageOfMax=0===a?0:e.total/a*100,e.percentageOfTotal=0===r?0:e.total/r*100})),Object.values(n.expenses).forEach((function(e){var a=n.max.expenses,r=t.expenses;e.percentageOfMax=0===a?0:e.total/a*100,e.percentageOfTotal=0===r?0:e.total/r*100})),{total:t,categories:n}}var an=r.a.createContext({allTime:{months:{},total:{total:0,incomes:0,expenses:0}},pastYear:{categories:{incomes:{},expenses:{},max:{expenses:0,incomes:0}},endingMonth:new Date,startingMonth:new Date,monthsCount:0,total:{transactionsAverage:0,transactions:0,total:0,incomesAverage:0,incomes:0,expensesAverage:0,expenses:0,average:0}},selected:{categories:{incomes:{},expenses:{},max:{incomes:0,expenses:0}},total:{expenses:0,incomes:0,transactions:0,total:0}}});function rn(){return Object(a.useContext)(an)}function cn(e){var t=Object(_.c)((function(e){return e.transactions.items})),n=Object(_.c)((function(e){return e.transactions.categories})),c=Object(_.c)((function(e){return e.interval.startDate})),o=Object(_.c)((function(e){return e.interval.endDate})),i=Object(a.useMemo)((function(){return{allTime:Kt(e={transactions:t,categories:n,interval:{start:c,end:o}}),selected:nn(e),pastYear:tn(e)};var e}),[t,n,c,o]);return r.a.createElement(an.Provider,{value:i},e.children)}var on=n(955);n(712);function sn(e){e.className;var t=e.children,n=e.header,a=e.headerIcon,c=(e.headerContent,Object(p.a)(e,["className","children","header","headerIcon","headerContent"]));return r.a.createElement("div",Object.assign({className:h()("AnalyticsBlock",e.className)},c),r.a.createElement("div",{className:"header"},a,r.a.createElement(y,{variant:"bold"},n),r.a.createElement("div",{className:"header-content"},e.headerContent)),r.a.createElement("div",{className:"content"},t))}function ln(e){var t={totals:rn().selected.total};return r.a.createElement(sn,{header:"Totals",headerIcon:r.a.createElement(on.a,null)},r.a.createElement("div",{className:"AnalyticsTotals"},r.a.createElement("div",{className:"header"},r.a.createElement(y,{color:"gray-600",variant:"boldcaps"},"Total"),r.a.createElement(y,{color:"gray-600",size:"md"},"(".concat(t.totals.transactions," transactions)"))),r.a.createElement("div",{className:"total"},r.a.createElement(J,{animate:!0,amount:t.totals.total,size:"xxl",colorIfPositive:"green-600",colorIfNegative:"red-600"})),r.a.createElement("div",{className:"subtotals"},r.a.createElement(J,{animate:!0,amount:t.totals.incomes,size:"lg",variant:"regular",colorIfPositive:"green-600",colorIfNegative:"red-600"}),r.a.createElement(y,{color:"gray-800",size:"md"},"/"),r.a.createElement(J,{animate:!0,amount:t.totals.expenses,size:"lg",variant:"regular",colorIfPositive:"green-600",colorIfNegative:"red-600"}))))}n(713);var un=n(956);n(714);function mn(e){var t,n,a=Te(e.variant);return r.a.createElement(Y.d.li,{layout:!0,className:a("AnalyticsCategory")},r.a.createElement("span",{className:"category"},r.a.createElement("span",{className:"icon"},(null===(t=e.category)||void 0===t?void 0:t.icon)||("income"===e.variant?"\ud83d\udcb0":"\ud83d\udcb8")),r.a.createElement(y,{component:"span",className:"name",color:"green-800",variant:"bold"},(null===(n=e.category)||void 0===n?void 0:n.value)||""),r.a.createElement(y,{size:"sm",component:"span",className:"count",color:"gray-600",variant:"bold"},"x",e.count)),"percentage"===e.show?r.a.createElement(y,{className:"amount",color:"income"===e.variant?"green-600":"red-600",variant:"bold"},e.percentageOfTotal.toFixed(1)+" %"):r.a.createElement(J,{animate:!0,className:"amount",colorIfPositive:"green-600",colorIfNegative:"red-600",amount:e.total}),r.a.createElement(Y.d.div,{layoutId:"".concat(e.variant,"-").concat(e.category.id),className:"bars"},r.a.createElement(Y.d.div,{layoutId:"".concat(e.variant,"-").concat(e.category.id,"-background-bar"),className:a("backgroundBar"),animate:{visibility:"visible"}}),r.a.createElement(Y.d.div,{layoutId:"".concat(e.variant,"-").concat(e.category.id,"-active-bar"),className:a("activeBar"),animate:{width:"".concat(e.percentageOfMax,"%"),visibility:"visible"}})))}function dn(e){var t=function(e){var t=rn(),n=Object(a.useState)(!1),r=Object(w.a)(n,2),c=r[0],o=r[1],i=t.selected.categories,s=Object.values(i.incomes).sort((function(e,t){return t.total-e.total})),l=Object.values(i.expenses).sort((function(e,t){return e.total-t.total}));return{incomes:s,expenses:l,hasNoIncomes:0===s.length,hasNoExpenses:0===l.length,isShowingPercentages:c,isShowingValues:!c,showPercentages:function(){o(!0)},showValues:function(){o(!1)}}}();return r.a.createElement(sn,{header:"Categories",headerIcon:r.a.createElement(un.a,null),headerContent:r.a.createElement("div",{className:"AnalyticsCategories__headerContent"},r.a.createElement(Ye.a,{size:"small"},r.a.createElement(l.a,{color:"primary",size:"small",variant:t.isShowingValues?"contained":"outlined",onClick:t.showValues},"\u20ac"),r.a.createElement(l.a,{color:"primary",size:"small",variant:t.isShowingPercentages?"contained":"outlined",onClick:t.showPercentages},"%")))},r.a.createElement("div",{className:"AnalyticsCategories"},r.a.createElement(Y.b,null,r.a.createElement(Y.d.div,{layout:!0,className:"incomes"},r.a.createElement(y,{color:"gray-600",variant:"boldcaps"},"Incomes"),r.a.createElement("ul",null,t.hasNoIncomes?r.a.createElement("div",{className:"empty"},r.a.createElement(y,{color:"gray-600"},"No incomes available")):t.incomes.map((function(e,n){return r.a.createElement(mn,{variant:"income",show:t.isShowingPercentages?"percentage":"value",category:e.category,total:e.total,count:e.transactions,percentageOfMax:e.percentageOfMax,percentageOfTotal:e.percentageOfTotal,key:e.category.id})})))),r.a.createElement(Y.d.div,{layout:!0,className:"expenses"},r.a.createElement(y,{color:"gray-600",variant:"boldcaps"},"Expenses"),r.a.createElement("ul",null,t.hasNoExpenses?r.a.createElement("div",{className:"empty"},r.a.createElement(y,{color:"gray-600"},"No expenses available")):t.expenses.map((function(e,n){return r.a.createElement(mn,{variant:"expense",show:t.isShowingPercentages?"percentage":"value",category:e.category,total:e.total,count:e.transactions,percentageOfMax:e.percentageOfMax,percentageOfTotal:e.percentageOfTotal,key:e.id})})))))))}n(715);var fn=n(957),vn=n(978),pn=n(958),bn=n(962),hn=n(257),gn=n(274),yn=n(255);function On(e){var t=function(e){var t=rn();return{data:Object.values(t.allTime.months).sort((function(e,t){return e.key-t.key})).map((function(e){return{x:e.key,y:e.cumulativeTotal}})),labelOffset:Object.values(t.allTime.months).reduce((function(e,t){return t.key<e?t.key:e}),1/0),total:t.allTime.total.total,serializeMonth:ne.a.serializeMonth,deserializeMonth:ne.a.deserializeMonth}}();return r.a.createElement(sn,{header:"All time",headerIcon:r.a.createElement(fn.a,null),headerContent:r.a.createElement("div",{className:"AnalyticsAllTimeLine__total"},r.a.createElement(y,{color:"gray-700"},"In total you have saved"),r.a.createElement(J,{amount:t.total,colorIfPositive:"green-600",colorIfNegative:"red-600"}))},r.a.createElement("div",{className:"AnalyticsAllTimeLine"},r.a.createElement("div",{className:"chart"},r.a.createElement(vn.a,{height:200,width:"100%"},r.a.createElement(pn.a,{data:t.data},r.a.createElement(bn.a,{vertical:!1,color:re.a.blue_200}),r.a.createElement(hn.a,{tickLine:!1,tickFormatter:function(e){return V.a.largeFormat(Number(e))}}),r.a.createElement(gn.a,{formatter:function(e){return V.a.format(Number(e))},labelFormatter:function(e){return Object($.a)(t.deserializeMonth(Number(e)+t.labelOffset),"MMMM, yyyy")}}),r.a.createElement(yn.a,{strokeWidth:2,type:"natural",dataKey:"y",stroke:re.a.blue_400}))))))}n(853);var En=n(963),jn=n(980),wn=n(481);function kn(e){var t=function(e){var t=rn();return{data:Object.values(t.allTime.months).sort((function(e,t){return e.key-t.key})).map((function(e){return{name:e.key,Total:e.total,Incomes:e.incomes,Expenses:e.expenses,Cumulative:e.cumulativeTotal}})),labelOffset:Object.values(t.allTime.months).reduce((function(e,t){return t.key<e?t.key:e}),1/0),serializeMonth:ne.a.serializeMonth,deserializeMonth:ne.a.deserializeMonth}}();return r.a.createElement(sn,{header:"Monthly totals",headerIcon:r.a.createElement(En.a,null)},r.a.createElement("div",{className:h()("AnalyticsAllTimeColumns")},r.a.createElement("div",{className:"chart"},r.a.createElement(vn.a,{height:250,width:"100%"},r.a.createElement(jn.a,{stackOffset:"sign",data:t.data},r.a.createElement(bn.a,{vertical:!1,color:re.a.blue_200}),r.a.createElement(hn.a,{tickLine:!1,tickFormatter:function(e){return V.a.largeFormat(Number(e))}}),r.a.createElement(gn.a,{formatter:function(e){return V.a.format(Number(e))},labelFormatter:function(e){return Object($.a)(t.deserializeMonth(Number(e)+t.labelOffset),"MMMM, yyyy")}}),r.a.createElement(wn.a,{dataKey:"Incomes",fill:re.a.green_300,stackId:"stack"}),r.a.createElement(wn.a,{dataKey:"Expenses",fill:re.a.red_300,stackId:"stack"}),r.a.createElement(yn.a,{dataKey:"Total",stroke:re.a.blue_300,strokeWidth:2}))))))}n(854);function xn(e){var t=function(e){var t=rn(),n=Object(a.useState)(!1),r=Object(w.a)(n,2),c=r[0],o=r[1],i=t.pastYear.categories,s=Object.values(i.incomes).sort((function(e,t){return t.total-e.total})),l=Object.values(i.expenses).sort((function(e,t){return e.total-t.total}));return{incomes:s,expenses:l,hasNoIncomes:0===s.length,hasNoExpenses:0===l.length,isShowingPercentages:c,isShowingValues:!c,showPercentages:function(){o(!0)},showValues:function(){o(!1)}}}();return r.a.createElement(sn,{header:"Category averages",headerIcon:r.a.createElement(un.a,null),headerContent:r.a.createElement("div",{className:"AnalyticsAverageCategories__headerContent"},r.a.createElement(Ye.a,{size:"small"},r.a.createElement(l.a,{color:"primary",size:"small",variant:t.isShowingValues?"contained":"outlined",onClick:t.showValues},"\u20ac"),r.a.createElement(l.a,{color:"primary",size:"small",variant:t.isShowingPercentages?"contained":"outlined",onClick:t.showPercentages},"%")))},r.a.createElement("div",{className:"AnalyticsAverageCategories"},r.a.createElement(Y.b,null,"expenses"===e.showOnly?null:r.a.createElement(Y.d.div,{layout:!0,className:"incomes"},r.a.createElement(y,{color:"gray-600",variant:"boldcaps"},"Average incomes / month"),r.a.createElement("ul",null,t.hasNoIncomes?r.a.createElement("div",{className:"empty"},r.a.createElement(y,{color:"gray-600"},"No incomes available")):t.incomes.map((function(e,n){return r.a.createElement(mn,{variant:"income",show:t.isShowingPercentages?"percentage":"value",category:e.category,total:e.average,count:e.transactions,percentageOfMax:e.percentageOfMax,percentageOfTotal:e.percentageOfTotal,key:e.category.id})})))),"incomes"===e.showOnly?null:r.a.createElement(Y.d.div,{layout:!0,className:"expenses"},r.a.createElement(y,{color:"gray-600",variant:"boldcaps"},"Average expenses / month"),r.a.createElement("ul",null,t.hasNoExpenses?r.a.createElement("div",{className:"empty"},r.a.createElement(y,{color:"gray-600"},"No expenses available")):t.expenses.map((function(e,n){return r.a.createElement(mn,{variant:"expense",show:t.isShowingPercentages?"percentage":"value",category:e.category,total:e.average,count:e.transactions,percentageOfMax:e.percentageOfMax,percentageOfTotal:e.percentageOfTotal,key:e.id})})))))))}n(855);function _n(e){var t={totals:rn().pastYear.total};return r.a.createElement(sn,{header:"Monthly average",headerIcon:r.a.createElement(on.a,null)},r.a.createElement("div",{className:h()("AnalyticsAverageTotals")},r.a.createElement("div",{className:"AnalyticsTotals"},r.a.createElement("div",{className:"header"},r.a.createElement(y,{color:"gray-600",variant:"boldcaps"},"Average / Month"),r.a.createElement(y,{color:"gray-600",size:"md"},"(".concat(t.totals.transactionsAverage.toFixed(1)," transactions)"))),r.a.createElement("div",{className:"total"},r.a.createElement(J,{animate:!0,amount:t.totals.average,size:"xxl",colorIfPositive:"green-600",colorIfNegative:"red-600"})),r.a.createElement("div",{className:"subtotals"},r.a.createElement(J,{animate:!0,amount:t.totals.incomesAverage,size:"lg",variant:"regular",colorIfPositive:"green-600",colorIfNegative:"red-600"}),r.a.createElement(y,{color:"gray-800",size:"md"},"/"),r.a.createElement(J,{animate:!0,amount:t.totals.expensesAverage,size:"lg",variant:"regular",colorIfPositive:"green-600",colorIfNegative:"red-600"})))))}function Cn(e){var t={intervalLabel:Object(_.c)((function(e){return e.interval.smartDisplayString}))},n=ge();return r.a.createElement(cn,null,r.a.createElement("div",{className:"Analytics"},r.a.createElement("section",{className:"headerContainer"},r.a.createElement(Jt,null),!n&&r.a.createElement("div",{className:"panelContainer"},r.a.createElement(Ht,null))),r.a.createElement("section",{className:"analyticsBlocksContainer"},r.a.createElement(On,null),r.a.createElement(kn,null),r.a.createElement(y,{component:"h2",variant:"bold",size:"xl",color:"gray-900"},t.intervalLabel),r.a.createElement(Vt.ResponsiveMasonry,{columnsCountBreakPoints:{350:1,700:2}},r.a.createElement(Yt.a,{gutter:re.a.spacing_4},r.a.createElement(ln,null),r.a.createElement(dn,null))),r.a.createElement(y,{component:"h2",variant:"bold",size:"xl",color:"gray-900"},"Past year habits"),r.a.createElement(Vt.ResponsiveMasonry,{columnsCountBreakPoints:{350:1,700:2}},r.a.createElement(Yt.a,{gutter:re.a.spacing_4},r.a.createElement(_n,null),r.a.createElement(xn,{showOnly:"incomes"}),r.a.createElement(xn,{showOnly:"expenses"}))))))}n(856);var Nn=x.c({email:x.d().defined().min(3).max(255).email()}).defined();function Sn(){var e=function(){var e,t=C(),n=Object(_.b)((function(e){return e.auth.forgotPassword})),r=Object(_.b)((function(e){return e.auth.loginWithGoogle})),c=Object(a.useState)(),o=Object(w.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(!1),u=Object(w.a)(l,2),m=u[0],d=u[1],f=Object(N.c)({resolver:Object(S.a)(Nn)});function v(){return(v=Object(j.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(void 0),e.next=3,n(t);case 3:(a=e.sent).isSuccess()?(k.a.event({action:"Forgot Password",category:"User"}),d(!0)):s((function(){switch(a.reason){case"invalidServerResponse":return"Invalid response received from server.";case"network":switch(a.code){case"request/invalid-request-data":return"Invalid email or password.";case"request/too-many-requests":return"You are trying too fast! Try again later.";case"auth/invalid-credentials":return"Wrong password or the user does not have a password.";case"auth/user-not-found":return"No user exists with that email.";case"server/unavailable":return"Could not contact server. Try again later.";default:return console.warn("Uncaught error code in login:",a),"An error occured while logging in. Try again."}}}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((function(e){return e.login}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((function(e){return e.register}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{handleSubmit:f.handleSubmit((function(e){return v.apply(this,arguments)})),handleCreateAccount:function(){return b.apply(this,arguments)},handleGoogleSubmit:function(){return h.apply(this,arguments)},handleLogin:function(){return p.apply(this,arguments)},success:m,error:i,emailError:f.formState.touched.email&&(null===(e=f.errors.email)||void 0===e?void 0:e.message),form:f}}();return r.a.createElement("div",{className:"ForgotPassword"},r.a.createElement(y,{component:"h1",variant:"bold",color:"black",size:"xxl"},"Forgot password"),r.a.createElement("main",null,e.success?r.a.createElement(y,null,"Recovery email sent. Check your email."):r.a.createElement("form",{noValidate:!0,onSubmit:e.handleSubmit},r.a.createElement(y,null,"Enter your email below and we will send you an email containing a link, which you can use to change your password."),r.a.createElement(o.a,{id:"login-email",name:"email",type:"text",inputRef:e.form.register,label:"Email",variant:"outlined",error:!!e.emailError,helperText:e.emailError,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(i.a,{position:"end"},r.a.createElement(d.a,null))}}),r.a.createElement(l.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Send recovery email"),e.error?r.a.createElement(y,{color:"red-600"},e.error):null)),r.a.createElement("footer",null,r.a.createElement(l.a,{onClick:function(){return e.handleLogin()}},"Back")))}n(857),n(858);function Tn(e){var t=Object(De.b)(e),n=ge();return r.a.createElement(Oe.a,{className:"TransactionEditorDrawer",open:!!t.selectedItem,onClose:t.onClose,anchor:n?"left":"bottom"},r.a.createElement("div",{className:"TransactionEditorDrawer__Content"},r.a.createElement(et,{onClose:t.onClose,editTransaction:t.selectedItem})))}n(859);function An(e){var t=ge(),n=Object(ae.b)(e);return r.a.createElement(Oe.a,{className:"TransactionCreatorDrawer",open:n.open,onClose:n.onClose,anchor:t?"left":"bottom"},r.a.createElement("div",{className:"TransactionCreatorDrawer__Content"},r.a.createElement(et,{onClose:n.onClose})))}n(860),n(861);n(862);function Dn(e,t){var n=Object(_.c)((function(e){return e.auth.user})),r=Object(_.b)((function(e){return e.auth.logout})),c=Object(_.b)((function(e){return e.notification.notify})),o=C(),i=Se("usermenu"),s=Object(w.a)(i,2),l=s[0],u=s[1],m=Object(a.useRef)(null),d=Object(a.useCallback)((function(){m.current=null,u(!1)}),[m,u]),f=Object(a.useCallback)((function(e){m.current=e.currentTarget,u(!0)}),[m,u]);Object(a.useImperativeHandle)(t,(function(){return{open:f}}));var v=Object(a.useCallback)((function(){d(),o((function(e){return e.settings}))}),[d,o]),p=Object(a.useCallback)(Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.next=3,r();case 3:e.sent.isFailure()?c({message:"Logout failed",severity:"error"}):o((function(e){return e.login}));case 5:case"end":return e.stop()}}),e)}))),[r,d,o,c]);return{open:l,setOpen:u,anchor:m,handleClose:d,handleOpen:f,user:n,handleSettings:v,handleLogout:p}}var In=n(882),Pn=n(984),Mn=n(964),zn=n(44);function Fn(e){var t,n;return ge()?r.a.createElement(ye.a,Object.assign({className:h()(e.className,null===(t=e.MenuProps)||void 0===t?void 0:t.className,"ResponsiveMenu ResponsiveMenu__Menu"),open:e.open,onClose:e.onClose,children:e.children},Object(zn.a)({},e.MenuProps))):r.a.createElement(Oe.a,Object.assign({className:h()(e.className,null===(n=e.DrawerProps)||void 0===n?void 0:n.className,"ResponsiveMenu ResponsiveMenu__Drawer"),open:e.open,onClose:e.onClose,children:e.children},Object(zn.a)({anchor:"bottom"},e.DrawerProps)))}var Rn=Object(a.forwardRef)((function(e,t){var n,a,c,o,i=Dn(0,t),s=e.className,l=Object(p.a)(e,["className"]);return r.a.createElement(Fn,Object.assign({className:h()("UserMenu",s),open:i.open,onClose:i.handleClose,MenuProps:{anchorEl:i.anchor.current,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},getContentAnchorEl:null}},l),r.a.createElement("div",{className:"UserMenu__content"},r.a.createElement("section",{className:"profile"},r.a.createElement(y,{variant:"bold",size:"lg",component:"h2"},null!==(n=null===(a=i.user)||void 0===a?void 0:a.displayName)&&void 0!==n?n:"Not logged in"),r.a.createElement(y,{color:"gray-700"},null!==(c=null===(o=i.user)||void 0===o?void 0:o.email)&&void 0!==c?c:"No email")),r.a.createElement("section",{className:"actions"},r.a.createElement(In.a,null,r.a.createElement(Pn.a,{onClick:i.handleSettings},r.a.createElement(Mn.a,null),r.a.createElement(y,{variant:"bold"},"Settings")),r.a.createElement(Pn.a,{onClick:i.handleLogout},r.a.createElement(mt.a,null),r.a.createElement(y,{variant:"bold"},"Log out"))))))}));function Ln(e){var t={user:Object(_.c)((function(e){return e.auth.user})),userMenuRef:Object(a.useRef)(null)};return r.a.createElement("div",{className:"UserManager"},r.a.createElement(Wt,{tabIndex:0,onClick:function(e){t.userMenuRef.current&&t.userMenuRef.current.open(e)}}),r.a.createElement(Rn,{ref:t.userMenuRef}))}function Wn(e){return r.a.createElement("div",{className:"Header"},r.a.createElement("div",{className:"intervalManager"},r.a.createElement(Ae,null)),r.a.createElement("div",{className:"profileManager"},r.a.createElement(Ln,null)))}n(863);var Bn=n(965),qn=n(966),Un=n(967),Vn=n(968),Yn=n(969);n(864);function Jn(e){var t=e.className,n=e.size,c=Object(p.a)(e,["className","size"]),o=function(){var e=C(),t=Object(_.c)((function(e){return e.auth.isLoggedIn}));return{handleClick:Object(a.useCallback)((function(){e(t?function(e){return e.dashboard}:function(e){return e.login})}),[t,e])}}();return r.a.createElement("span",Object.assign({className:h()("Logo",t,"size-".concat(n)),onClick:o.handleClick},c),r.a.createElement("span",{className:"letter-0"},"N"),r.a.createElement("span",{className:"letter-1"},"e"),r.a.createElement("span",{className:"letter-2"},"x"),r.a.createElement("span",{className:"letter-3"},"p"),r.a.createElement("span",{className:"letter-4"},"e"),r.a.createElement("span",{className:"letter-5"},"n"),r.a.createElement("span",{className:"letter-6"},"d"),r.a.createElement("span",{className:"letter-7"},"a"),r.a.createElement("span",{className:"letter-8"},"."))}function Hn(e){var t=ge(),n=function(e){var t=Object(c.j)(sa.dashboard),n=Object(c.j)(sa.analytics),a=Object(c.j)(sa.budget),r=Object(c.j)(sa.settings),o=Object(_.c)((function(e){return e.auth.user})),i=Object(_.b)((function(e){return e.auth.logout})),s=C(),l=Object(ae.c)(),u=Object(w.a)(l,2)[1];return{isDashboard:!!t,isAnalytics:!!n,isBudget:!!a,isSettings:!!r,onDashboard:function(){return s(sa.dashboard)},onAnalytics:function(){return s(sa.analytics)},onBudget:function(){return s(sa.budget)},onSettings:function(){return s(sa.settings)},user:o,logout:function(){return i()},onTransactionCreatorOpen:function(){return u(!0)}}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("aside",{className:"Sidebar"},t?r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"header"},r.a.createElement(Jn,null)),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"selections"},r.a.createElement(y,{className:"selections-title",variant:"boldcaps",color:"gray-800",size:"sm"},"Tools"),r.a.createElement("button",{onClick:n.onDashboard,className:h()("selection",{active:n.isDashboard})},r.a.createElement(Bn.a,null),r.a.createElement(y,{variant:"bold"},"Dashboard")),r.a.createElement("button",{onClick:n.onAnalytics,className:h()("selection",{active:n.isAnalytics})},r.a.createElement(qn.a,null),r.a.createElement(y,{variant:"bold"},"Analytics")),r.a.createElement("button",{onClick:n.onBudget,className:h()("selection",{active:n.isBudget})},r.a.createElement(Un.a,null),r.a.createElement(y,{variant:"bold"},"Budget")),r.a.createElement("button",{onClick:n.onSettings,className:h()("selection",{active:n.isSettings})},r.a.createElement(Vn.a,null),r.a.createElement(y,{variant:"bold"},"Settings"))))):r.a.createElement("div",{className:"tabs"},r.a.createElement(Y.d.div,{className:"tabContainer",variants:Kn,animate:n.isDashboard?"active":"inactive"},r.a.createElement(s.a,{className:h()("tab",{active:n.isDashboard}),onClick:n.onDashboard},r.a.createElement(Bn.a,null))),r.a.createElement(Y.d.div,{className:"tabContainer",variants:Kn,animate:n.isAnalytics?"active":"inactive"},r.a.createElement(s.a,{className:h()("tab",{active:n.isAnalytics}),onClick:n.onAnalytics},r.a.createElement(qn.a,null))),r.a.createElement("div",{className:"tabContainer"},r.a.createElement(s.a,{className:h()("tab","add"),onClick:n.onTransactionCreatorOpen},r.a.createElement(Yn.a,null))),r.a.createElement(Y.d.div,{className:"tabContainer",variants:Kn,animate:n.isBudget?"active":"inactive"},r.a.createElement(s.a,{className:h()("tab",{active:n.isBudget}),onClick:n.onBudget},r.a.createElement(Un.a,null))),r.a.createElement(Y.d.div,{className:"tabContainer",variants:Kn,animate:n.isSettings?"active":"inactive"},r.a.createElement(s.a,{className:h()("tab",{active:n.isSettings}),onClick:n.onSettings},r.a.createElement(Vn.a,null))))))}var Kn={inactive:{scale:1},active:{scale:1.5,transition:{repeatType:"mirror",repeat:1}}};function Gn(e){var t={initialized:Object(_.c)((function(e){return e.auth.initialized}))},n=ge();return r.a.createElement("div",{className:"AppFrame"},t.initialized&&r.a.createElement(r.a.Fragment,null,n?null:r.a.createElement(An,null),n?null:r.a.createElement(Tn,null)),r.a.createElement("div",{className:"header"},r.a.createElement(Wn,null)),r.a.createElement("div",{className:"sidebar"},r.a.createElement(Hn,null)),r.a.createElement("div",{className:"main"},e.children))}n(865);var Xn=x.c({password:x.d().defined().min(6).max(255)}).defined();function $n(){var e=function(){var e,t=Object(N.c)({resolver:Object(S.a)(Xn)}),n=Object(c.i)().token,r=C(),o=Object(_.b)((function(e){return e.auth.validateChangePasswordToken})),i=Object(_.b)((function(e){return e.auth.changePassword})),s=Object(a.useState)(),l=Object(w.a)(s,2),u=l[0],m=l[1],d=Object(a.useState)(!1),f=Object(w.a)(d,2),v=f[0],p=f[1],b=Object(a.useState)(),h=Object(w.a)(b,2),g=h[0],y=h[1];Object(a.useEffect)((function(){n&&o({token:n}).then((function(e){if(e.isSuccess())m(e.value);else switch(m(null),e.reason){case"invalidServerResponse":y("Could not contact server. Try again later.");break;case"network":switch(e.code){case"request/too-many-requests":y("You are trying too fast. Try again later.\t")}}}))}),[]),n||r((function(e){return e.login}));var O=t.handleSubmit((function(e){n&&i(Object(zn.a)(Object(zn.a)({},e),{},{token:n})).then((function(e){e.isSuccess()?(k.a.event({action:"Change Password",category:"User"}),p(!0)):y("Could not change password")}))})),E=Object(a.useState)(!1),j=Object(w.a)(E,2),x=j[0],T=j[1],A=Object(a.useCallback)((function(){T((function(e){return!e}))}),[T]),D=t.formState.touched.password&&(null===(e=t.errors.password)||void 0===e?void 0:e.message);return{validTokenEmail:u,loading:void 0===u,passwordChangeSuccessful:v,handleSubmit:O,handleLogin:function(){return r((function(e){return e.login}))},error:g,passwordVisible:x,setPasswordVisible:T,togglePasswordVisibility:A,passwordError:D,form:t}}();return r.a.createElement("div",{className:"ChangePassword"},r.a.createElement(y,{component:"h1",variant:"bold",color:"black",size:"xxl"},"Change your password"),r.a.createElement("main",null,function(){return e.loading?r.a.createElement(z.a,null):e.validTokenEmail?e.passwordChangeSuccessful?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{color:"green-600",variant:"bold"},"Password changed for "+e.validTokenEmail),r.a.createElement("footer",null,r.a.createElement(l.a,{variant:"contained",color:"primary",onClick:e.handleLogin,fullWidth:!0},"Login"))):r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(y,null,"Enter a new password for "+e.validTokenEmail),r.a.createElement(o.a,{id:"change-password",name:"password",type:e.passwordVisible?"text":"password",inputRef:e.form.register,label:"Password",variant:"outlined",error:!!e.passwordError,helperText:e.passwordError,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(i.a,{position:"end"},r.a.createElement(s.a,{onClick:e.togglePasswordVisibility,size:"small"},e.passwordVisible?r.a.createElement(f.a,null):r.a.createElement(v.a,null)))}}),r.a.createElement(l.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Change password"),e.error?r.a.createElement(y,{color:"red-600"},e.error):null,r.a.createElement("footer",null,r.a.createElement(l.a,{variant:"text",onClick:e.handleLogin},"Back to login"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{color:"red-600"},null!==(t=e.error)&&void 0!==t?t:"Invalid password change link"),r.a.createElement("footer",null,r.a.createElement(l.a,{variant:"contained",color:"primary",onClick:e.handleLogin,fullWidth:!0},"Back to login")));var t}()))}n(866);function Zn(e){var t=function(){var e=Object(c.i)().token,t=C(),n=Object(_.b)((function(e){return e.auth.confirmEmail})),r=Object(a.useState)(),o=Object(w.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)(null),u=Object(w.a)(l,2),m=u[0],d=u[1];return Object(a.useEffect)((function(){e&&n({token:e}).then((function(e){if(s(e.isSuccess()),e.isSuccess())k.a.event({action:"Confirm Email",category:"User"});else switch(e.reason){case"invalidServerResponse":d("Could not contact server. Try again later.");break;case"network":switch(e.code){case"request/too-many-requests":d("You are trying too fast. Try again later.")}}}))}),[]),e||t((function(e){return e.login})),{success:i,handleLogin:function(){return t((function(e){return e.login}))},error:m}}();return r.a.createElement("div",{className:"ConfirmEmail"},r.a.createElement(y,{component:"h1",variant:"bold",color:"black",size:"xxl"},"Confirm your email"),r.a.createElement("main",null,function(){var e;switch(t.success){case void 0:return r.a.createElement(z.a,null);case!1:return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{color:"red-600"},null!==(e=t.error)&&void 0!==e?e:"Invalid password change link"),r.a.createElement("footer",null,r.a.createElement(l.a,{variant:"contained",color:"primary",onClick:t.handleLogin,fullWidth:!0},"Back to login")));case!0:return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{color:"green-600",variant:"bold",component:"h2",size:"lg"},"Email succesfully confirmed"),r.a.createElement(l.a,{variant:"contained",color:"primary",onClick:t.handleLogin,fullWidth:!0},"Login"))}}()))}n(867);function Qn(e){return r.a.createElement("div",{className:"Budget"},r.a.createElement("div",{style:{width:"100%",padding:"4rem 0",display:"grid",placeItems:"center"}},r.a.createElement(y,null,"Budgets feature is coming here in a future version")))}var ea;n(868);function ta(){return{handlePwaInstall:Boolean(ea)?Object(j.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ea.prompt(),e.next=3,ea.userChoice;case 3:return(t=e.sent)&&k.a.event({action:"Install PWA",category:"PWA"}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))):null}}function na(e){var t=ta();return r.a.createElement("div",{className:"AuthFrame"},r.a.createElement("nav",null,r.a.createElement(Jn,null),t.handlePwaInstall?r.a.createElement(l.a,{color:"primary",variant:"contained",onClick:t.handlePwaInstall},"Install"):null),r.a.createElement("div",{className:"content"},e.children))}window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),k.a.event({action:"Display PWA Installer",category:"PWA",nonInteraction:!0}),ea=e}));var aa=n(259);function ra(e){return e?"".concat("Nexpenda"," | ").concat(e):"Nexpenda"}n(869);var ca=n(260),oa=n(167);function ia(e){var t=function(e){var t=Object(_.b)((function(e){return e.history.pushEvent})),n=C();return Object(a.useEffect)((function(){var e=oa.a.components.hadAccessToken;e.getValue()&&(t(new ca.a),e.clearValue()),n(sa.login)}),[t,n]),{handleRedirect:function(){n(sa.login)}}}();return r.a.createElement("div",{className:h()("Logout")},r.a.createElement(y,null,"You have been logged out. You should be redirected momentarily."),r.a.createElement(y,null,"If you have not been redirected,",r.a.createElement("span",{className:"anchor",onClick:t.handleRedirect},"click here"),"to return to the login page."))}var sa={approot:{name:"approot",path:"/app",title:""},dashboard:{name:"dashboard",path:"/app/dashboard",title:"Dashboard"},analytics:{name:"analytics",path:"/app/analytics",title:"Analytics"},budget:{name:"budget",path:"/app/budget",title:"Budget"},settings:{name:"settings",path:"/app/settings",title:"Settings"},login:{name:"login",path:"/",title:"Login"},forgotPassword:{name:"forgotPassword",path:"/forgotPassword",title:"Forgot Password"},register:{name:"register",path:"/register",title:"Register"},logOut:{name:"logOut",path:"/logout",title:"Log out"},changePassword:function(e){return{name:"changePassword",path:"/changePassword/".concat(e),title:"Change Password"}},confirmEmail:function(e){return{name:"confirmEmail",path:"/confirmEmail/".concat(e),title:"Confirm Email"}}};function la(){return function(){var e=Object(aa.a)();Object(a.useEffect)((function(){return document.title=ra(null===e||void 0===e?void 0:e.title),function(){document.title=ra()}}))}(),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:sa.login.path},r.a.createElement(na,null,r.a.createElement(A,null))),r.a.createElement(c.b,{exact:!0,path:sa.register.path},r.a.createElement(na,null,r.a.createElement(I,null))),r.a.createElement(c.b,{exact:!0,path:sa.forgotPassword.path},r.a.createElement(na,null,r.a.createElement(Sn,null))),r.a.createElement(c.b,{exact:!0,path:sa.changePassword(":token").path},r.a.createElement(na,null,r.a.createElement($n,null))),r.a.createElement(c.b,{exact:!0,path:sa.confirmEmail(":token").path},r.a.createElement(na,null,r.a.createElement(Zn,null))),r.a.createElement(c.b,{exact:!0,path:sa.logOut.path},r.a.createElement(na,null,r.a.createElement(ia,null))),r.a.createElement(L,{exact:!0,path:sa.dashboard.path},r.a.createElement(Gn,null,r.a.createElement(ut,null))),r.a.createElement(L,{exact:!0,path:sa.analytics.path},r.a.createElement(Gn,null,r.a.createElement(Cn,null))),r.a.createElement(L,{exact:!0,path:sa.budget.path},r.a.createElement(Gn,null,r.a.createElement(Qn,null))),r.a.createElement(L,{exact:!0,path:sa.settings.path},r.a.createElement(Gn,null,r.a.createElement(Ut,null))),r.a.createElement(c.b,{path:"/"},r.a.createElement(c.a,{to:sa.dashboard.path})))}},137:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=new Date(0),r=new Date(2533707576e5)},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(22),r=n(35),c=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"getStorage",value:function(e){switch(e.storage){case"local":return window.localStorage;case"session":return window.sessionStorage}}},{key:"getItem",value:function(t,n){return e.getStorage(n).getItem(t)}},{key:"setItem",value:function(t,n,a){var r=e.getStorage(a);return"string"===typeof n?r.setItem(t,n):r.removeItem(t)}},{key:"removeItem",value:function(t,n){return e.getStorage(n).removeItem(t)}},{key:"clear",value:function(t){e.getStorage(t).clear()}},{key:"createComponent",value:function(t){return{getKey:function(){return t.key},getValue:function(){return t.decode(e.getItem(t.key,t.options))},setValue:function(n){return e.setItem(t.key,t.encode(n),t.options)},clearValue:function(){return e.removeItem(t.key,t.options)}}}},{key:"components",get:function(){return{hadAccessToken:e.hadAccessToken,apiUrlOverride:e.apiUrlOverride}}},{key:"hadAccessToken",get:function(){return e.createComponent({key:"had_access_token",decode:function(e){return"true"===e},encode:function(e){return e?"true":void 0},options:{storage:"session"}})}},{key:"apiUrlOverride",get:function(){return e.createComponent({key:"api_url",decode:function(e){return e||void 0},encode:function(e){return e},options:{storage:"local"}})}}]),e}()},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(22),r=n(35),c=n(239),o=n(880),i=function(){function e(t,n){Object(a.a)(this,e),this.id=void 0,this.type=void 0,this.time=void 0,this._restored=void 0,this.displayed=!1,this.restorationStrategy=void 0,this.id=Object(o.a)(),this.type=t,this.time=new Date,this.restorationStrategy=n,this._restored=!1}return Object(r.a)(e,[{key:"restored",get:function(){return this._restored}},{key:"canBeRestored",get:function(){return!!this.restorationStrategy}}]),Object(r.a)(e,[{key:"restore",value:function(){return this._restored?new c.b:this.restorationStrategy?(this._restored=!0,this.restorationStrategy()):void 0}}]),e}()},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(249);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=Object(a.useCallback)((function(e){return e?n:c}),[n,c]),i=Object(a.useCallback)((function(e){return e===n}),[n]);return Object(r.a)({key:e,encode:o,decode:i,method:t})}},179:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O}));var a=n(13),r=n(0),c=n.n(r),o=(n(663),n(461)),i=n(984),s=n(928),l=n(929),u=n(930),m=n(931),d=n(932),f=n(933),v=n(6),p=n(72),b=n(83);function h(e){var t=function(e){var t=Object(v.c)((function(e){return e.selection.selection})),n=Object(v.c)((function(e){return e.transactions.filteredItems})),c=Object(v.b)((function(e){return e.selection.deselectAll})),o=Object(v.b)((function(e){return e.selection.selectAll})),i=Object(v.b)((function(e){return e.selection.select})),s=Object(v.b)((function(e){return e.selection.deselect})),l=Object(b.c)(),u=Object(a.a)(l,2)[1],m=y(),d=Object(r.useCallback)((function(){m.setPosition(void 0),m.setTransaction(void 0)}),[m]),f=Object(r.useMemo)((function(){return t.some((function(e){var t;return e.id===(null===(t=m.transaction)||void 0===t?void 0:t.id)}))}),[m,t]),h=Object(r.useCallback)((function(){m.transaction&&(f?s(m.transaction.id):i(m.transaction.id)),d()}),[d,m,i,s,f]),g=Object(r.useMemo)((function(){return p.a.compareArrays(n.map((function(e){return e.id})),t.map((function(e){return e.id})))}),[n,t]),O=Object(r.useCallback)((function(){g?c():o(n.map((function(e){return e.id}))),d()}),[d,c,o,g,n]),E=Object(r.useCallback)((function(){m.transaction&&u(m.transaction.id),d()}),[d,m,u]),j=Object(v.b)((function(e){return e.transactions.deleteTransactions})),w=Object(r.useCallback)((function(){m.transaction&&j([m.transaction.id]),d()}),[d,j,m]);return{position:m.position,transaction:m.transaction,isAllSelected:g,isSelected:f,onSelectAllToggle:O,onSelectToggle:h,onDelete:w,onEdit:E,onClose:d}}();return c.a.createElement(o.a,{className:"TransactionContextMenu",open:!!t.position&&!!t.transaction,anchorReference:"anchorPosition",anchorPosition:t.position,onClose:t.onClose},c.a.createElement(i.a,{onClick:t.onEdit,className:"editItem"},c.a.createElement(s.a,null),"Edit"),c.a.createElement(i.a,{onClick:t.onDelete,className:"deleteItem"},c.a.createElement(l.a,null),"Delete"),c.a.createElement(i.a,{onClick:t.onSelectToggle,className:"selectItem"},t.isSelected?c.a.createElement(u.a,null):c.a.createElement(m.a,null),t.isSelected?"Deselect":"Select"),c.a.createElement(i.a,{onClick:t.onSelectAllToggle,className:"selectAllItem"},t.isAllSelected?c.a.createElement(d.a,null):c.a.createElement(f.a,null),t.isAllSelected?"Deselect all":"Select all"))}var g=c.a.createContext({setPosition:function(){throw new Error("Using default TransactionContextMenuContext value")},setTransaction:function(){throw new Error("Using default TransactionContextMenuContext value")}});function y(){return Object(r.useContext)(g)}function O(e){var t=Object(r.useState)(),n=Object(a.a)(t,2),o=n[0],i=n[1],s=Object(r.useState)(),l=Object(a.a)(s,2),u=l[0],m=l[1];return c.a.createElement(g.Provider,{value:{position:o,setPosition:i,transaction:u,setTransaction:m}},c.a.createElement(h,null),e.children)}},238:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(22),r=n(42),c=n(43),o=n(6),i=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"transaction/delete",(function(){var t=e.toJsonInitializer();return(0,o.a.getActions().transactions.putTransaction)(t)}))).transaction=void 0,r.transaction=e,r}return n}(n(169).a)},239:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(22),r=n(42),c=n(43),o=n(65),i=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"already-recovered")}return n}(o.a),s=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"event-not-found")}return n}(o.a)},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n.n(a),c=n(15),o=n(22),i=n(42),s=n(43),l=n(6),u=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,"transaction/delete",Object(c.a)(r.a.mark((function t(){var n,a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(e){return e.toJsonInitializer()})),a=l.a.getActions().transactions.putTransaction,t.next=4,Promise.all(n.map((function(e){return a(e)})));case 4:return c=t.sent,t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)}))))).transactions=void 0,a.transactions=e,a}return n}(n(169).a)},249:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(57),r=n(44),c=n(0),o=n(56),i=n(151);function s(e){var t=e.key,n=e.decode,s=e.encode,l=e.method,u=Object(o.h)(),m=Object(o.g)();return[Object(c.useMemo)((function(){var e=u.search,a=Object(i.parse)(e)[t];return n(a)}),[u,n,t]),Object(c.useCallback)((function(e){var n=Object(i.parse)(u.search),c=Object(i.stringify)(Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},t,s(e))));switch(l){case"push":m.push({search:c});break;case"replace":m.replace({search:c})}}),[s,t,u,m,l])]}},252:function(e,t,n){e.exports=n.p+"static/media/shapelined-_JBKdviweXI-unsplash.f356b661.jpg"},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(13),r=n(56),c=n(124);function o(){var e=Object(r.h)();return Object.entries(c.b).map((function(e){var t=e,n=Object(a.a)(t,2)[1];return"function"===typeof n?n(".*"):n})).find((function(t){var n=new RegExp(t.path+"$");return!!e.pathname.match(n)}))}},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(22),r=n(42),c=n(43),o=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"auth/logout")}return n}(n(169).a)},410:function(e,t){},445:function(e,t,n){e.exports=n.p+"static/media/logo_google.696b80ec.png"},462:function(e,t,n){e.exports=n.p+"static/media/pexels-johannes-plenio-1103970.afe78909.jpg"},468:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(4),r=n.n(a),c=n(15),o=n(13),i=n(54),s=n(0),l=n(6);function u(t){var n=Object(l.b)((function(e){return e.auth.updateProfile})),a=Object(l.b)((function(e){return e.notification.notify})),u=Object(l.c)((function(e){return e.auth.user})),m=Object(s.useState)(!1),d=Object(o.a)(m,2),f=d[0],v=d[1],p=Object(s.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1],y=Object(s.useState)(""),O=Object(o.a)(y,2),E=O[0],j=O[1],w=Object(s.useCallback)((function(){var t;v(!0),j(null!==(t=null===u||void 0===u?void 0:u.displayName)&&void 0!==t?t:""),e((function(){var e;null===(e=document.getElementById("SettingsProfilePanel__editNameInputId"))||void 0===e||e.focus()}))}),[v,u]),k=Object(s.useCallback)((function(){v(!1)}),[v]),x=Object(s.useCallback)(Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E.trim()){e.next=7;break}return g(!0),e.next=4,n({displayName:E});case 4:(t=e.sent).isFailure()?a({message:function(){switch(t.reason){case"invalidServerResponse":return"Invalid response from server.";case"network":return t.code,t.message}}(),severity:"error"}):(i.a.event({action:"Change Profile Name",category:"Profile"}),a({message:"Succesfully updated profile name",severity:"success"})),g(!1);case 7:k();case 8:case"end":return e.stop()}}),e)}))),[k,n,a,E]);return{editNameInputId:"SettingsProfilePanel__editNameInputId",user:u,name:{editing:f,handleStartEdit:w,handleCancelEdit:k,handleSubmit:x,value:E,setValue:j,loading:h,setLoading:g}}}}).call(this,n(354).setImmediate)},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(22),r=n(35),c=function(){function e(t){Object(a.a)(this,e),this.resultType="success",this.value=void 0,this.value=t}return Object(r.a)(e,[{key:"getOr",value:function(e){return this.value}},{key:"isSuccess",value:function(){return!0}},{key:"isFailure",value:function(){return!1}}],[{key:"All",value:function(e){var t=[];return e.forEach((function(e){e.isSuccess()&&t.push(e)})),t}},{key:"Empty",value:function(){return new e(void 0)}}]),e}()},510:function(e,t,n){e.exports=n(871)},511:function(e,t,n){},512:function(e,t,n){},517:function(e,t,n){},518:function(e,t,n){},543:function(e,t){},545:function(e,t){},558:function(e,t){},560:function(e,t){},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(22),r=n(35),c=n(72),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"groupByDate",value:function(t,n,a){var r=t.map(n).map(e.serializeDate),o=c.a.unique(r),i=[];return o.forEach((function(a){var r=e.deserializeDate(a),c=t.filter((function(t){var a=n(t);return e.compareDate(r,"==",a)}));i.push({date:r,items:c})})),(null===a||void 0===a?void 0:a.sort)&&(i=i.sort((function(e,t){return t.date.getTime()-e.date.getTime()}))),i}},{key:"compareDate",value:function(t,n,a){var r=e.serializeDate(t),c=e.serializeDate(a);switch(n){case"<":return r<c;case"<=":return r<=c;case"==":return r===c;case">=":return r>=c;case">":return r>c}}},{key:"deserializeDate",value:function(t){var n=t,a=Math.floor(n/e.DateSerializer.yearFactor);n%=e.DateSerializer.yearFactor;var r=Math.floor(n/e.DateSerializer.monthFactor);n%=e.DateSerializer.monthFactor;var c=Math.floor(n/e.DateSerializer.dateFactor);n%=e.DateSerializer.dateFactor;var o=a.toString().padStart(4,"0"),i=r.toString().padStart(2,"0"),s=c.toString().padStart(2,"0");return new Date("".concat(o,"-").concat(i,"-").concat(s))}},{key:"serializeDate",value:function(t){return t.getFullYear()*e.DateSerializer.yearFactor+(t.getMonth()+1)*e.DateSerializer.monthFactor+t.getDate()*e.DateSerializer.dateFactor}},{key:"serializeMonth",value:function(e){return 12*e.getFullYear()+e.getMonth()}},{key:"deserializeMonth",value:function(e){var t=Math.floor(e/12),n=Math.floor(e%12);return new Date(t,n)}}]),e}();o.DateSerializer={yearFactor:1e4,monthFactor:100,dateFactor:1}},588:function(e,t){},590:function(e,t){},591:function(e,t){},596:function(e,t){},598:function(e,t){},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return me})),n.d(t,"b",(function(){return fe})),n.d(t,"c",(function(){return ve}));var a=n(19),r=n(4),c=n.n(r),o=n(15),i=n(22),s=n(35),l=n(25),u=function(){function e(t){var n,a,r,c;Object(i.a)(this,e),this.id=void 0,this.displayName=void 0,this.email=void 0,this.photoUrl=void 0,this.googleId=void 0,this.id=t.id,this.displayName=null!==(n=t.displayName)&&void 0!==n?n:void 0,this.email=null!==(a=t.email)&&void 0!==a?a:void 0,this.photoUrl=null!==(r=t.photoUrl)&&void 0!==r?r:void 0,this.googleId=null!==(c=t.googleId)&&void 0!==c?c:void 0}return Object(s.a)(e,[{key:"toJson",value:function(){return{id:this.id,displayName:this.displayName,email:this.email,googleId:this.googleId,photoUrl:this.photoUrl}}},{key:"initials",get:function(){var e,t;return(null!==(e=null!==(t=this.displayName)&&void 0!==t?t:this.email)&&void 0!==e?e:"").split(/[^a-zA-Z]/g).filter(Boolean).slice(0,2).map((function(e){return e.charAt(0)})).map((function(e){return e.toUpperCase()})).join("")}}],[{key:"isJson",value:function(t){try{return e.JsonSchema.isValidSync(t),!0}catch(n){return!1}}}]),e}();u.JsonSchema=Object(l.c)({id:Object(l.d)().required().min(1),displayName:Object(l.d)(),photoUrl:Object(l.d)(),email:Object(l.d)(),googleId:Object(l.d)()}).required();var m=n(42),d=n(43),f=n(44),v=n(454),p=n.n(v),b=n(167),h=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"API_URL",get:function(){var e=b.a.components.apiUrlOverride.getValue();return e||"https://api.nexpenda.com"}}]),e}(),g=n(455),y=n.n(g),O=n(50),E=n(65),j=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,"network")).details=void 0,a.status=void 0,a.message=void 0,a.code=void 0,a.data=void 0,a.details=e,a.status=e.status,a.message=e.message,a.code=e.code,a.data=e.data,a}return Object(s.a)(n,null,[{key:"FromAxiosError",value:function(e){if(e.response){var t=e.response.data;return new n({status:e.response.status,message:"string"===typeof(null===t||void 0===t?void 0:t.message)?t.message:"Unknown server error. Try again later.",code:"string"===typeof(null===t||void 0===t?void 0:t.code)?t.code:"server/unknown",data:t.errors&&"object"===typeof t.errors?{errors:t.errors}:{}})}return e.request?new n({status:0,code:"server/unavailable",message:"Could not contact server. Try again later.",data:{}}):new n({status:0,code:"server/failure-formulating-request",message:"Could not formulate request to server.",data:{}})}}]),n}(E.a),w=n(124),k=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"endpoint",value:function(t){return"".concat(e.baseURL).concat(t)}},{key:"isAccessTokenValid",value:function(){var e=me.getState().auth.accessToken;if(!e)return!1;try{var t=y.a.decode(e),n=1e3*Number((null===t||void 0===t?void 0:t.exp)||0);return Date.now()<n-5e3}catch(a){return console.warn("Error occured while checking access token",a),!1}}},{key:"attemptRefreshAccessToken",value:function(){var t=Object(o.a)(c.a.mark((function t(){var n,a,r,o,i=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]&&i[0],e.isAccessTokenValid()&&!n){t.next=15;break}return a=e.endpoint("/auth/refresh_token"),t.prev=4,t.next=7,e.axios.get(a);case 7:r=t.sent,o=r.data,me.getActions().auth.setAccessToken(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),me.getState().auth.accessToken&&me.getActions().auth.logout();case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"onBeforeRequest",value:function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.attemptRefreshAccessToken();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"onSuccessfulRequest",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onFailedRequest",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"auth/unauthenticated"===t.code&&(null===n||void 0===n?void 0:n.enableLogoutOnUnauthorized)&&(a=me.getState().auth.accessToken,b.a.components.hadAccessToken.setValue(!!a),window.location.pathname=w.b.logOut.path,window.location.search="",window.location.hash="");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onAfterRequest",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(e){var t=me.getState().auth.accessToken,n=Object(f.a)({},null===e||void 0===e?void 0:e.headers);return t&&(n.Authorization="bearer ".concat(t)),Object(f.a)(Object(f.a)({},e),{},{headers:n})}},{key:"handleRequest",value:function(){var t=Object(o.a)(c.a.mark((function t(n,a,r){var i,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onBeforeRequest(null===a||void 0===a?void 0:a.service);case 2:return i=e.endpoint(n),s=e.getConfig(null===a||void 0===a?void 0:a.axios),t.next=6,r(i,s).then(function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new O.a(n),t.next=3,e.onSuccessfulRequest(r,null===a||void 0===a?void 0:a.service);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=j.FromAxiosError(n),t.next=3,e.onFailedRequest(r,null===a||void 0===a?void 0:a.service);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:return l=t.sent,t.next=9,e.onAfterRequest(l,null===a||void 0===a?void 0:a.service);case 9:return t.abrupt("return",l);case 10:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(o.a)(c.a.mark((function t(n,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,a,(function(t,n){return e.axios.get(t,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(o.a)(c.a.mark((function t(n,a,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,r,(function(t,n){return e.axios.post(t,a,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(o.a)(c.a.mark((function t(n,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,a,(function(t,n){return e.axios.delete(t,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(o.a)(c.a.mark((function t(n,a,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,r,(function(t,n){return e.axios.put(t,a,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"patch",value:function(){var t=Object(o.a)(c.a.mark((function t(n,a,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleRequest(n,r,(function(t,n){return e.axios.patch(t,a,n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}]),e}();k.baseURL="".concat(h.API_URL,"/api"),k.axios=p.a.create({baseURL:k.baseURL,withCredentials:!0});var x=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e,a){var r;return Object(i.a)(this,n),(r=t.call(this,"invalidServerResponse")).response=void 0,r.method=void 0,r.response=e,r.method=a,r}return n}(E.a),_=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,null,[{key:"getProfile",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/auth/profile",{});case 2:if(!(t=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",t);case 7:if(!u.isJson(t.value.data)){e.next=11;break}return e.abrupt("return",new O.a(t.value.data));case 11:return e.abrupt("return",new x(t.value,"/auth/profile"));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.patch("/auth/profile",t,{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(!u.isJson(n.value.data)){e.next=11;break}return e.abrupt("return",new O.a(n.value.data));case 11:return e.abrupt("return",new x(n.value,"/auth/profile"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerWithEmailAndPassword",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth/register",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(n.value,"auth/register"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginWithEmailAndPassword",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth/login",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(n.value,"auth/login"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth/forgot_password",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(n.value,"auth/forgot-password"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"validatePasswordChangeToken",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/auth/change_password/".concat(t.token));case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status||!n.value.data||"string"!==typeof n.value.data){e.next=11;break}return e.abrupt("return",new O.a(n.value.data));case 11:return e.abrupt("return",new x(n.value,"auth/change-password"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth/change_password/".concat(t.token),{password:t.password});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(n.value,"auth/change-password"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestConfirmationEmail",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth/request_confirm_email",t);case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(n.value,"auth/request-confirm-email"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"confirmEmail",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth/confirm_email/".concat(t.token));case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(200!==n.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(n.value,"auth/confirm-email"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth/logout");case 2:if(!(t=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",t);case 7:if(200!==t.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(t.value,"auth/logout"));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loginWithGoogle",value:function(){window.location.href=k.endpoint("/auth/google")}},{key:"checkAuth",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/auth/profile",{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(t=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",t);case 7:if(!u.isJson(t.value.data)){e.next=11;break}return e.abrupt("return",new O.a(t.value.data));case 11:return e.abrupt("return",new x(t.value,"/auth/profile"));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),C={initialized:!1,user:null,accessToken:null,isLoggedIn:Object(a.computed)((function(e){return Boolean(e.user)})),setInitialized:Object(a.action)((function(e,t){e.initialized=t})),setAccessToken:Object(a.action)((function(e,t){e.accessToken=t})),setAuthToState:Object(a.action)((function(e,t){u.isJson(t)&&(e.user=new u(t))})),clearState:Object(a.action)((function(e){e.user=null,e.accessToken=null})),getProfile:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getProfile();case 2:return(a=e.sent).isSuccess()&&t.setAuthToState(a.value),t.setInitialized(!0),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),updateProfile:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.updateProfile(n);case 2:return(a=e.sent).isSuccess()&&t.setAuthToState(a.value),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),loginWithGoogle:Object(a.thunk)((function(e,t){return _.loginWithGoogle()})),loginWithEmailPassword:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.loginWithEmailAndPassword(n);case 2:if(!(a=e.sent).isSuccess()){e.next=8;break}return e.next=6,_.getProfile();case 6:(r=e.sent).isSuccess()&&t.setAuthToState(r.value);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),registerWithEmailPassword:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.registerWithEmailAndPassword(n);case 2:if(!(a=e.sent).isSuccess()){e.next=8;break}return e.next=6,_.getProfile();case 6:(r=e.sent).isSuccess()&&t.setAuthToState(r.value);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),forgotPassword:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.forgotPassword(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),validateChangePasswordToken:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.validatePasswordChangeToken(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),changePassword:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.changePassword(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),confirmEmail:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.confirmEmail(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),requestConfirmationEmail:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.requestConfirmationEmail(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),logout:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.logout();case 2:return(a=e.sent).isSuccess()&&t.clearState(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},N=n(13),S=n(87),T=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,null,[{key:"getTransactions",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/transactions",{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(t=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",t);case 7:if(!S.a.isCompressedJson(t.value.data)){e.next=11;break}return e.abrupt("return",new O.a(t.value.data));case 11:return e.abrupt("return",new x(t.value,"transactions/get"));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"postTransaction",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/transactions",t,{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(!S.a.isJson(n.value.data)){e.next=11;break}return e.abrupt("return",new O.a(n.value.data));case 11:return e.abrupt("return",new x(n.value,"transactions/post"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postTransactions",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/transactions/mass/post",{transactions:t},{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(201!==n.value.status||!S.a.isCompressedJson(n.value.data)){e.next=11;break}return e.abrupt("return",new O.a(n.value.data));case 11:return e.abrupt("return",new x(n.value,"transactions/mass/post"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTransaction",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/transactions/".concat(t),{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(204!==n.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(n.value,"transactions/delete"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTransactions",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/transactions/mass/delete",{ids:t},{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(204!==n.value.status){e.next=11;break}return e.abrupt("return",O.a.Empty());case 11:return e.abrupt("return",new x(n.value,"transactions/mass/delete"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"putTransaction",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/transactions/".concat(t.id),t,{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(!S.a.isJson(n.value.data)){e.next=11;break}return e.abrupt("return",new O.a(n.value.data));case 11:return e.abrupt("return",new x(n.value,"transactions/put"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"patchTransaction",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.patch("/transactions/".concat(t.id),t,{service:{enableLogoutOnUnauthorized:!0}});case 2:if(!(n=e.sent).isFailure()){e.next=7;break}return e.abrupt("return",n);case 7:if(!S.a.isJson(n.value.data)){e.next=11;break}return e.abrupt("return",new O.a(n.value.data));case 11:return e.abrupt("return",new x(n.value,"transactions/patch"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(k),A=n(238),D=n(240),I=n(72),P={items:[],initialized:!1,sortingStrategy:"date-descending",searchTerm:"",filteredItems:Object(a.computed)([function(e){return e.items},function(e){return e.searchTerm},function(e,t){return t.interval}],(function(e,t,n){return e.filter((function(e){return e.filter(t,n.startDate,n.endDate)}))})),categories:Object(a.computed)((function(e){return I.a.unique(e.items.map((function(e){return e.category})),(function(e,t){return e.id===t.id}))})),setTransactionsToState:Object(a.action)((function(e,t){e.items=t,e.initialized=!0})),upsertTransactionsToState:Object(a.action)((function(e,t){t.forEach((function(t){var n=e.categories.find((function(e){return e.id===t.category.id}));n&&n.icon!==t.category.icon&&e.items.forEach((function(e){e.category.id===t.category.id&&(e.category.icon=t.category.icon)})),e.items.find((function(e){return e.id===t.id}))?e.items=e.items.map((function(e){return e.id===t.id?t:e})):e.items.push(t)}))})),removeTransactionsFromStateById:Object(a.action)((function(e,t){e.items=e.items.filter((function(e){return!t.includes(e.id)}))})),clearState:Object(a.action)((function(e){e.items=[]})),toggleSortingStrategy:Object(a.action)((function(e,t){var n=e.sortingStrategy,a={amount:["amount-descending","amount-ascending","none"],category:["category-descending","category-ascending","none"],comment:["comment-descending","comment-ascending","none"],date:["date-descending","date-ascending","none"]}[t],r=(a.findIndex((function(e){return e===n}))+1)%a.length;e.sortingStrategy=a[r]})),setSortingStrategy:Object(a.action)((function(e,t){e.sortingStrategy=t})),setSearchTerm:Object(a.action)((function(e,t){e.searchTerm=t})),getTransactions:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getTransactions();case 2:return(n=e.sent).isSuccess()?t.setTransactionsToState(S.a.parseCompressedData(n.value)):t.setTransactionsToState([]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),postTransaction:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.postTransaction(n);case 2:return(r=e.sent).isSuccess()&&(o=new S.a(r.value),t.upsertTransactionsToState([o])),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),postTransactions:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.postTransactions(n);case 2:return(r=e.sent).isSuccess()&&t.upsertTransactionsToState(S.a.parseCompressedData(r.value)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),deleteTransaction:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){var r,o,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.getState,o=a.getStoreActions,i=r().items.find((function(e){return e.id===n})),t.removeTransactionsFromStateById([n]),e.next=5,T.deleteTransaction(n);case 5:return(s=e.sent).isSuccess()&&i?o().history.pushEvent(new A.a(i)):s.isFailure()&&i&&t.upsertTransactionsToState([i]),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),deleteTransactions:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){var r,o,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.getState,o=a.getStoreActions,i=r().items.filter((function(e){return n.includes(e.id)})),t.removeTransactionsFromStateById(i.map((function(e){return e.id}))),e.next=5,T.deleteTransactions(i.map((function(e){return e.id})));case 5:return(s=e.sent).isSuccess()?o().history.pushEvent(new D.a(i)):s.isFailure()&&t.upsertTransactionsToState(i),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),putTransaction:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.putTransaction(n);case 2:return(r=e.sent).isSuccess()&&(o=new S.a(r.value),t.upsertTransactionsToState([o])),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),patchTransaction:Object(a.thunk)(function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.patchTransaction(n);case 2:return(r=e.sent).isSuccess()&&(o=new S.a(r.value),t.upsertTransactionsToState([o])),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),onAuthChanged:Object(a.thunkOn)((function(e,t){return[t.auth.logout,t.auth.setAuthToState]}),(function(e,t){var n=Object(N.a)(t.resolvedTargets,2),a=n[0],r=n[1];switch(t.type){case a:e.clearState();break;case r:e.getTransactions()}}))},M=n(321),z=n(204),F=n(913),R=n(457),L=n(914),W=n(458),B=n(915),q=n(459),U=n(916),V=n(917),Y=n(918),J=n(919),H=n(484),K=n(206),G=n(322),X=n(323),$=n(920),Z=n(181),Q=n(182),ee=n(126),te=n(205),ne=n(137),ae=n(58),re={startDate:M.a(new Date),endDate:z.a(new Date),length:Object(a.computed)((function(e){return F.a(e.startDate,e.endDate)})),isAll:Object(a.computed)((function(e){return ae.a.compareDate(e.startDate,"==",ne.b)&&ae.a.compareDate(e.endDate,"==",ne.a)})),isYear:Object(a.computed)((function(e){return R.a(e.startDate,e.endDate)&&1===L.a(e.startDate)&&W.a(e.endDate,B.a(e.endDate))})),isMonth:Object(a.computed)((function(e){return q.a(e.startDate,e.endDate)&&U.a(e.startDate)&&V.a(e.endDate)})),isWeek:Object(a.computed)((function(e){return Y.a(e.startDate,e.endDate,{weekStartsOn:1})&&1===J.a(e.startDate)&&0===J.a(e.endDate)})),isDay:Object(a.computed)((function(e){return W.a(e.startDate,e.endDate)})),includesToday:Object(a.computed)((function(e){var t=new Date;return ae.a.compareDate(t,">=",e.startDate)&&ae.a.compareDate(t,"<=",e.endDate)})),smartDisplayString:Object(a.computed)((function(e){return e.isAll?"All":e.isYear?H.a(e.startDate,"yyyy"):e.isMonth?H.a(e.startDate,"MMMM, yyyy"):e.isDay?H.a(e.startDate,"d.M.yyyy"):e.displayString})),displayString:Object(a.computed)((function(e){return(R.a(e.startDate,e.endDate)?H.a(e.startDate,"d.M"):H.a(e.startDate,"d.M.yyyy"))+" - "+H.a(e.endDate,"d.M.yyyy")})),setStartDate:Object(a.action)((function(e,t){if(ae.a.compareDate(t,">",e.endDate))throw new Error("Start date cannot be after end date");e.startDate=t})),setEndDate:Object(a.action)((function(e,t){if(ae.a.compareDate(t,"<",e.startDate))throw new Error("End date cannot be before start date");e.endDate=t})),setInterval:Object(a.action)((function(e,t){if(ae.a.compareDate(t.startDate,">",t.endDate))throw new Error("End date cannot be before start date");e.startDate=t.startDate,e.endDate=t.endDate})),nextInterval:Object(a.action)((function(e){if(!e.isAll){var t=K.a(e.endDate,1);e.isYear?e.endDate=G.a(t):e.isMonth?e.endDate=z.a(t):e.isWeek?e.endDate=X.a(t,{weekStartsOn:1}):e.endDate=K.a(t,e.length),e.startDate=t}})),previousInterval:Object(a.action)((function(e){if(!e.isAll){var t=$.a(e.startDate,1);e.isYear?e.startDate=Z.a(t):e.isMonth?e.startDate=M.a(t):e.isWeek?e.startDate=Q.a(t,{weekStartsOn:1}):e.startDate=$.a(t,e.length),e.endDate=t}})),dayInterval:Object(a.action)((function(e){var t=e.isAll?new Date:e.startDate;e.startDate=ee.a(t),e.endDate=te.a(t)})),weekInterval:Object(a.action)((function(e){var t=e.isAll?new Date:e.startDate;e.startDate=Q.a(t,{weekStartsOn:1}),e.endDate=X.a(t,{weekStartsOn:1})})),monthInterval:Object(a.action)((function(e){var t=e.isAll?new Date:e.startDate;e.startDate=M.a(t),e.endDate=z.a(t)})),yearInterval:Object(a.action)((function(e){var t=e.isAll?new Date:e.startDate;e.startDate=Z.a(t),e.endDate=G.a(t)})),allInterval:Object(a.action)((function(e){e.startDate=ne.b,e.endDate=ne.a})),now:Object(a.action)((function(e){var t=new Date;e.isAll||(e.isYear?(e.startDate=Z.a(t),e.endDate=G.a(t)):e.isMonth?(e.startDate=M.a(t),e.endDate=z.a(t)):e.isWeek?(e.startDate=Q.a(t,{weekStartsOn:1}),e.endDate=X.a(t,{weekStartsOn:1})):e.isDay?(e.startDate=ee.a(t),e.endDate=te.a(t)):(e.endDate=te.a(K.a(t,e.length)),e.startDate=ee.a(t)))}))},ce=n(880),oe=function e(t){var n,a,r,c,o,s,l;Object(i.a)(this,e),this.id=void 0,this.action=void 0,this.message=void 0,this.timeout=void 0,this.variant=void 0,this.severity=void 0,this.verticalPosition=void 0,this.horizontalPosition=void 0,this.id=null!==(n=t.id)&&void 0!==n?n:Object(ce.a)(),this.action=null!==(a=t.action)&&void 0!==a?a:null,this.message=null!==(r=t.message)&&void 0!==r?r:"",this.timeout=t.timeout||3e3,this.variant=null!==(c=t.variant)&&void 0!==c?c:"filled",this.severity=null!==(o=t.severity)&&void 0!==o?o:"info",this.verticalPosition=null!==(s=t.verticalPosition)&&void 0!==s?s:"bottom",this.horizontalPosition=null!==(l=t.horizontalPosition)&&void 0!==l?l:"center"},ie={notifications:[],notify:Object(a.action)((function(e,t){var n=new oe(t);e.notifications.push(n)})),deleteNotification:Object(a.action)((function(e,t){e.notifications=e.notifications.filter((function(e){return e.id!==t}))}))},se={selectionIds:[],firstSelectionId:void 0,selection:Object(a.computed)([function(e,t){return t.transactions.items},function(e,t){return e.selectionIds}],(function(e,t){var n=[];return t.forEach((function(t){var a=e.find((function(e){return e.id===t}));a&&n.push(a)})),n})),selectionActive:Object(a.computed)((function(e){return e.selection.length>0})),selectionLength:Object(a.computed)((function(e){return e.selection.length})),select:Object(a.action)((function(e,t){e.selectionIds.push(t)})),deselect:Object(a.action)((function(e,t){e.selectionIds=e.selectionIds.filter((function(e){return e!==t}))})),selectAll:Object(a.action)((function(e,t){e.selectionIds=t.sort((function(t,n){var a=e.selectionIds.indexOf(t),r=e.selectionIds.indexOf(n);return(a<0?1/0:a)-(r<0?1/0:r)}))})),deselectAll:Object(a.action)((function(e){e.selectionIds=[]}))},le=n(239),ue={notification:ie,transactions:P,selection:se,interval:re,history:{maxSize:100,history:[],latest:Object(a.computed)((function(e){return 0===e.history.length?void 0:e.history[e.history.length-1]})),pushEvent:Object(a.action)((function(e,t){e.history.length===e.maxSize&&e.history.shift(),e.history.push(t)})),removeEvent:Object(a.action)((function(e,t){e.history=e.history.filter((function(e){return e.id!==t}))})),restoreEvent:Object(a.thunk)((function(e,t,n){var a=(0,n.getState)().history.find((function(e){return e.id===t}));if(a){var r=a.restore();return e.removeEvent(a.id),r}return new le.a}))},auth:C},me=Object(a.createStore)(ue);var de=Object(a.createTypedHooks)(),fe=de.useStoreActions,ve=(de.useStoreDispatch,de.useStoreState);de.useStore},617:function(e,t){},629:function(e,t){},632:function(e,t){},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(22),r=n(35),c=function(){function e(t){Object(a.a)(this,e),this.resultType="failure",this.reason=void 0,this.reason=t}return Object(r.a)(e,[{key:"getOr",value:function(e){return e}},{key:"isSuccess",value:function(){return!1}},{key:"isFailure",value:function(){return!0}}],[{key:"All",value:function(e){var t=[];return e.forEach((function(e){e.isFailure()&&t.push(e)})),t}}]),e}()},656:function(e,t,n){},657:function(e,t,n){},658:function(e,t,n){},659:function(e,t,n){},660:function(e,t,n){},661:function(e,t,n){},663:function(e,t,n){},685:function(e,t,n){},686:function(e,t,n){},687:function(e,t,n){},688:function(e,t,n){},689:function(e,t,n){},690:function(e,t,n){},691:function(e,t,n){},692:function(e,t,n){},693:function(e,t,n){},694:function(e,t,n){},695:function(e,t,n){},696:function(e,t,n){},697:function(e,t,n){},698:function(e,t,n){},700:function(e,t){},701:function(e,t){},702:function(e,t,n){},703:function(e,t,n){},704:function(e,t,n){},705:function(e,t,n){},706:function(e,t,n){},709:function(e,t,n){},710:function(e,t,n){},711:function(e,t,n){},712:function(e,t,n){},713:function(e,t,n){},714:function(e,t,n){},715:function(e,t,n){},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(57),r=n(44),c=n(60),o=n(22),i=n(35),s=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"unique",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t};return e.filter((function(e,n,a){return n===a.findIndex((function(n){return t(e,n)}))}))}},{key:"compareArrays",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};return 0===e.length&&0===t.length||e.length===t.length&&e.every((function(a){return e.filter((function(e){return n(e,a)})).length===t.filter((function(e){return n(e,a)})).length}))}},{key:"mergeArrayObjects",value:function(t,n){var o=Object.keys(t),i=Object.keys(n);return e.unique([].concat(Object(c.a)(o),Object(c.a)(i))).reduce((function(e,o){var i,s;return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},o,[].concat(Object(c.a)(null!==(i=t[o])&&void 0!==i?i:[]),Object(c.a)(null!==(s=n[o])&&void 0!==s?s:[]))))}),{})}},{key:"textSearch",value:function(e){for(var t=e.toLowerCase(),n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.some((function(e){return e.toLowerCase().includes(t)}))}},{key:"chunkify",value:function(e,t){var n=[];return e.forEach((function(e){var a=n[n.length-1];a&&a.length!==t?a.push(e):n.push([e])})),n}},{key:"createIndexArray",value:function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}}]),e}()},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(13),r=n(22),c=n(35),o=function(){function e(t){Object(r.a)(this,e),this._value=void 0,this._value=Math.trunc(t)}return Object(c.a)(e,[{key:"format",value:function(){return e.format(this.value)}},{key:"add",value:function(t){return new e(this._value+t._value)}},{key:"subtract",value:function(t){return new e(this._value-t._value)}},{key:"changeInternalValue",value:function(){var e=this;return{add:function(t){if(Math.trunc(t)!==t)throw new Error("Cannot change money amount by non-integer value");e._value+=t},subtract:function(t){if(Math.trunc(t)!==t)throw new Error("Cannot change money amount by non-integer value");e._value-=t},multiply:function(t){if(Math.trunc(t)!==t)throw new Error("Cannot change money amount by non-integer value");e._value*=t},set:function(t){if(Math.trunc(t)!==t)throw new Error("Cannot change money amount by non-integer value");e._value=t}}}},{key:"value",get:function(){return this._value}},{key:"decimalValue",get:function(){return this._value/100}},{key:"euros",get:function(){return Math.trunc(this._value/100)}},{key:"cents",get:function(){return Math.floor(Math.abs(this._value)%100)}},{key:"sign",get:function(){return 0===this._value?0:this._value>0?1:-1}},{key:"isPositive",get:function(){return this._value>0}},{key:"isNonNegative",get:function(){return this._value>=0}},{key:"isZero",get:function(){return 0===this._value}},{key:"isNonPositive",get:function(){return this._value<=0}},{key:"isNegative",get:function(){return this._value<0}}],[{key:"format",value:function(e){var t=e<0?"-":"",n=Math.abs(e/100).toFixed(2).split(/[.,]/g),r=Object(a.a)(n,2),c=r[0],o=r[1],i=Array.from(c).map((function(e,t,n){var a=n.length-t-1;return a>0&&a%3===0?e+" ":e})).join("");return"".concat(t).concat(i,",").concat(o," \u20ac")}},{key:"largeFormat",value:function(e){var t=e<0?"-":"",n=1e3,a="k",r=Math.abs(e);r>1e8?(n=1e6,a="M"):r>1e11&&(n=1e9,a="B");var c=Math.floor(r/(100*n));return"".concat(t).concat(c," ").concat(a)}},{key:"sum",value:function(t){return t.reduce((function(e,t){return e.add(t)}),new e(0))}}]),e}()},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(13),r=n(0),c=n(249),o=n(6),i="edit";function s(){return Object(c.a)({key:i,method:"push",decode:function(e){return e&&"string"===typeof e?e:null},encode:function(e){return null!==e&&void 0!==e?e:void 0}})}function l(e){var t=s(),n=Object(a.a)(t,2),c=n[0],i=n[1],l=Object(o.c)((function(e){return e.transactions.items})),u=Object(r.useMemo)((function(){return l.find((function(e){return e.id===c}))}),[l,c]);return Object(r.useEffect)((function(){c&&!u&&i(null)}),[u,c,i]),{selectedItem:u,onOpen:function(e){return i(e)},onClose:function(){return i(null)}}}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(13),r=n(172),c="create";function o(){return Object(r.a)(c,"push","open")}function i(e){var t=o(),n=Object(a.a)(t,2),r=n[0],c=n[1];return{open:r,onOpen:function(){return c(!0)},onClose:function(){return c(!1)}}}},853:function(e,t,n){},854:function(e,t,n){},855:function(e,t,n){},856:function(e,t,n){},857:function(e,t,n){},858:function(e,t,n){},859:function(e,t,n){},860:function(e,t,n){},861:function(e,t,n){},862:function(e,t,n){},863:function(e,t,n){},864:function(e,t,n){},865:function(e,t,n){},866:function(e,t,n){},867:function(e,t,n){},868:function(e,t,n){},869:function(e,t,n){},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(22),r=n(35),c=n(880),o=n(81),i=n(25),s=n(58),l=function(){function e(t){Object(a.a)(this,e),this.id=void 0,this.value=void 0,this.icon=void 0,this.id=t.id,this.value=t.value,this.icon=t.icon}return Object(r.a)(e,[{key:"name",get:function(){return this.value}}]),e}(),u=n(72),m=n(912),d=function(){function e(t){Object(a.a)(this,e),this.id=void 0,this.date=void 0,this.comment=void 0,this.amount=void 0,this.category=void 0,this.date=new Date(t.time),this.category=new l(t.category),this.comment=t.comment||"",this.amount=new o.a(Math.floor(t.integerAmount)),this.id=t.id||c.a()}return Object(r.a)(e,[{key:"filter",value:function(e,t,n){return!s.a.compareDate(this.date,"<",t)&&(!s.a.compareDate(this.date,">",n)&&!(e&&!u.a.textSearch.apply(u.a,[e].concat([this.amount.format(),this.category.value,this.comment,Object(m.a)(this.date,"d.M.yyyy")]))))}},{key:"toJson",value:function(){return{time:this.date.getTime(),comment:this.comment,integerAmount:this.amount.value,id:this.id,category:{id:this.category.id,value:this.category.value,icon:this.category.icon}}}},{key:"toJsonInitializer",value:function(){return{time:this.date.getTime(),category:this.category.value,comment:this.comment,integerAmount:this.amount.value,id:this.id}}},{key:"isUpcoming",get:function(){return s.a.compareDate(this.date,">",f)}},{key:"icon",get:function(){return this.category.icon?this.category.icon.substr(0,2):this.amount.isPositive?"\ud83d\udcb0":"\ud83d\udcb8"}}],[{key:"isJson",value:function(t){try{return e.JsonSchema.validateSync(t),!0}catch(n){return!1}}},{key:"isInitializerJson",value:function(t){try{return e.InitializerJsonSchema.validateSync(t),!0}catch(n){return!1}}},{key:"isCompressedJson",value:function(t){try{return e.CompressedJsonSchema.validateSync(t),!0}catch(n){return!1}}},{key:"isJsonArray",value:function(t){return Array.isArray(t)&&t.every(e.isJson)}},{key:"isInitializerJsonArray",value:function(t){return Array.isArray(t)&&t.every(e.isInitializerJson)}},{key:"parseCompressedData",value:function(t){return t.t.map((function(n){var a,r=null!==(a=t.c.find((function(e){return e.id===n.cid})))&&void 0!==a?a:{id:"category_not_found",v:"Category not found",i:""};return new e({id:n.id,integerAmount:n.a,comment:n.c,time:n.t,category:{id:r.id,value:r.v,icon:r.i}})}))}},{key:"compare",value:function(e,t,n){switch(n){case"amount-ascending":return e.amount.value-t.amount.value;case"amount-descending":return t.amount.value-e.amount.value;case"category-ascending":return e.category.value.localeCompare(t.category.value);case"category-descending":return t.category.value.localeCompare(e.category.value);case"comment-ascending":return e.comment.localeCompare(t.comment);case"comment-descending":return t.comment.localeCompare(e.comment);case"date-ascending":return e.date.getTime()-t.date.getTime();case"date-descending":return t.date.getTime()-e.date.getTime();default:return 0}}}]),e}();d.JsonSchema=Object(i.c)({id:Object(i.d)().required(),time:Object(i.b)().positive().integer().required(),integerAmount:Object(i.b)().integer().required(),comment:Object(i.d)(),category:Object(i.c)({id:Object(i.d)().required(),value:Object(i.d)().required(),icon:Object(i.d)().defined()}).required()}).required(),d.InitializerJsonSchema=Object(i.c)({id:Object(i.d)().required(),time:Object(i.b)().positive().integer().required(),category:Object(i.d)().required(),integerAmount:Object(i.b)().integer().required(),comment:Object(i.d)()}).required(),d.CompressedJsonSchema=Object(i.c)({t:Object(i.a)().of(Object(i.c)({id:Object(i.d)().required(),t:Object(i.b)().positive().integer().required(),cid:Object(i.d)().required(),a:Object(i.b)().integer().required(),c:Object(i.d)()}).required()).required(),c:Object(i.a)().of(Object(i.c)({id:Object(i.d)().required(),v:Object(i.d)().required(),i:Object(i.d)().defined()}).required()).required()}).required();var f=new Date},870:function(e,t,n){},871:function(e,t,n){"use strict";n.r(t),n.d(t,"GOOGLE_ANALYTICS_TRACKING_ID",(function(){return te}));n(511),n(512);var a=n(0),r=n.n(a),c=n(34),o=n.n(c);var i=n(124),s=n(6),l=n(13),u=(n(870),n(979)),m=n(876),d=n(924),f=n(970),v=n(878),p=n(982);function b(e){return r.a.createElement(m.a,e)}function h(e){var t,n=Object(a.useState)(!0),c=Object(l.a)(n,2),o=c[0],i=c[1],s=Object(a.useMemo)((function(){return e.notification.action}),[e]),m=s?"iconButton"===s.buttonType?r.a.createElement(d.a,{color:"inherit",children:r.a.createElement(f.a,null,null!==(t=s.iconButtonIcon)&&void 0!==t?t:"notification_important"),onClick:s.onClick}):r.a.createElement(v.a,{color:"inherit",children:s.label,startIcon:s.startIcon?r.a.createElement(f.a,null,s.startIcon):null,endIcon:s.endIcon?r.a.createElement(f.a,null,s.endIcon):null,onClick:s.onClick}):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"Notification",id:e.notification.id,open:o,onClose:function(){return i(!1)},onExited:e.onClose,autoHideDuration:e.notification.timeout,anchorOrigin:{vertical:e.notification.verticalPosition,horizontal:e.notification.horizontalPosition},TransitionComponent:b},r.a.createElement(u.a,{severity:e.notification.severity,variant:e.notification.variant,action:m},e.notification.message)))}function g(e){var t=function(){var e=Object(s.c)((function(e){return e.notification.notifications})),t=Object(s.b)((function(e){return e.notification.deleteNotification})),n=Object(a.useMemo)((function(){return e[0]}),[e]),r=Object(a.useCallback)((function(){n&&t(n.id)}),[n,t]);return{activeNotification:n,handleNotificationClose:r}}();return t.activeNotification?r.a.createElement(h,{key:t.activeNotification.id,notification:t.activeNotification,onClose:t.handleNotificationClose}):null}var y=n(238),O=n(240),E=n(260);var j=n(179),w=n(57),k=n(44);function x(e,t){var n=Object(a.useCallback)((function(n){var a,r;!e.enableForInputs&&["INPUT","TEXTFIELD"].includes(null!==(a=null===(r=document.activeElement)||void 0===r?void 0:r.tagName)&&void 0!==a?a:"")||n.key===e.key&&!!n.ctrlKey===!!e.ctrl&&!!n.altKey===!!e.alt&&!!n.shiftKey===!!e.shift&&(n.preventDefault(),t())}),[e,t]);Object(a.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[n])}var _=n(151),C=n(56),N=n(84),S=n(83);function T(){var e=Object(C.h)();return Object(a.useMemo)((function(){return Boolean(e.pathname.match(/app/g))}),[e])}var A=n(259);function D(){!function(){var e=T(),t=Object(N.c)(),n=Object(l.a)(t,2),r=n[0],c=n[1];x({key:"N",shift:!0},Object(a.useCallback)((function(){e&&c(!r)}),[e,r,c]))}(),function(){var e=T(),t=Object(s.c)((function(e){return e.selection.selectionIds})),n=1===t.length?t[0]:void 0,r=Object(S.c)(),c=Object(l.a)(r,2),o=c[0],i=c[1];x({key:"E",shift:!0},Object(a.useCallback)((function(){e&&(o?i(null):n&&i(n))}),[e,o,i,n]))}(),function(){var e=Object(C.g)(),t=Object(C.h)();x({key:"Escape",enableForInputs:!0},Object(a.useCallback)((function(){var n,a=Object(_.parse)(t.search),r=Object(_.stringify)(Object(k.a)(Object(k.a)({},a),{},(n={},Object(w.a)(n,S.a,void 0),Object(w.a)(n,N.a,void 0),n)));e.replace({search:r})}),[t.search,e]))}(),function(){var e=T(),t=Object(s.c)((function(e){return e.selection.selectionIds})),n=Object(s.b)((function(e){return e.transactions.deleteTransactions}));x({key:"D",shift:!0},Object(a.useCallback)((function(){e&&n(t)}),[e,t,n]))}(),function(){var e=T(),t=Object(A.a)(),n=Object(s.c)((function(e){return e.transactions.filteredItems})),r=Object(s.b)((function(e){return e.selection.selectAll})),c=Object(s.b)((function(e){return e.selection.deselectAll})),o=Object(a.useCallback)((function(){e&&(null===t||void 0===t?void 0:t.name)===i.b.dashboard.name&&r(n.map((function(e){return e.id})))}),[e,t,r,n]),l=Object(a.useCallback)((function(){e&&(null===t||void 0===t?void 0:t.name)===i.b.dashboard.name&&c()}),[e,t,c]);x({key:"A",shift:!0},o),x({key:"A",shift:!0,alt:!0},l)}()}var I=n(54);var P=function(){!function(){var e=Object(s.c)((function(e){return e.auth.user}));Object(a.useEffect)((function(){return I.a.set({userId:null===e||void 0===e?void 0:e.id})}),[e]);var t=Object(C.h)();Object(a.useEffect)((function(){return I.a.pageview(t.pathname)}),[t.pathname])}(),function(){var e=document.documentElement;Object(a.useEffect)((function(){var t=function(){var t=window.innerHeight;e.style.setProperty("--full-vh","".concat(t,"px")),e.style.setProperty("--vh","".concat(t/100,"px"))};return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}))}(),function(){var e=Object(s.c)((function(e){return e.history.latest})),t=Object(s.b)((function(e){return e.history.restoreEvent})),n=Object(s.b)((function(e){return e.notification.notify})),r=Object(a.useCallback)((function(e,a){n({message:a,severity:"info",action:e.canBeRestored?{onClick:function(){return t(e.id)},buttonType:"button",startIcon:"undo",label:"Undo"}:void 0})}),[n,t]),c=Object(a.useCallback)((function(e){r(e,"Deleted transaction"),e.displayed=!0}),[r]),o=Object(a.useCallback)((function(e){var t=e.transactions.length;r(e,"Deleted ".concat(t," transaction").concat(t>1?"s":"")),e.displayed=!0}),[r]),i=Object(a.useCallback)((function(e){r(e,"You have been logged out"),e.displayed=!0}),[r]);Object(a.useEffect)((function(){e&&!e.displayed&&(e instanceof y.a?c(e):e instanceof O.a?o(e):e instanceof E.a&&i(e))}),[e,c,o,i])}(),D();var e=Object(s.b)((function(e){return e.auth.getProfile}));return Object(a.useEffect)((function(){e()}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(g,null),r.a.createElement(i.a,null)))},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var F=n(19),R=n(93),L=n(972),W=n(79),B=n(971),q=n(9),U={fontWeight:Number(q.a.text_regular),textTransform:"none",letterSpacing:q.a.text_regular_spacing},V={fontWeight:Number(q.a.text_bold),textTransform:"none",letterSpacing:q.a.text_bold_spacing},Y={fontWeight:Number(q.a.text_bold),textTransform:"uppercase",letterSpacing:q.a.text_boldcaps_spacing},J=Object(B.a)({typography:{fontFamily:q.a.poppins,h1:Object(k.a)({fontSize:q.a.text_xxxl},V),h2:Object(k.a)({fontSize:q.a.text_xxl},V),h3:Object(k.a)({fontSize:q.a.text_xl},V),h4:Object(k.a)({fontSize:q.a.text_lg},V),h5:Object(k.a)({fontSize:q.a.text_md},V),h6:Object(k.a)({fontSize:q.a.text_sm},V),body1:Object(k.a)({fontSize:q.a.text_md},U),body2:Object(k.a)({fontSize:q.a.text_sm},Y),button:Object(k.a)({fontSize:q.a.text_md},V),fontWeightBold:Number(q.a.text_bold),fontWeightLight:Number(q.a.text_light),fontWeightMedium:Number(q.a.text_regular),fontWeightRegular:Number(q.a.text_regular)},palette:{primary:{main:q.a.blue_500,dark:q.a.blue_700,light:q.a.blue_300,50:q.a.blue_100,100:q.a.blue_100,200:q.a.blue_200,300:q.a.blue_300,400:q.a.blue_400,500:q.a.blue_500,600:q.a.blue_600,700:q.a.blue_700,800:q.a.blue_800,900:q.a.blue_900,A100:q.a.blue_100,A200:q.a.blue_200,A400:q.a.blue_400,A700:q.a.blue_700,contrastText:q.a.white},success:{main:q.a.green_500,dark:q.a.green_700,light:q.a.green_300,50:q.a.green_100,100:q.a.green_100,200:q.a.green_200,300:q.a.green_300,400:q.a.green_400,500:q.a.green_500,600:q.a.green_600,700:q.a.green_700,800:q.a.green_800,900:q.a.green_900,A100:q.a.green_100,A200:q.a.green_200,A400:q.a.green_400,A700:q.a.green_700,contrastText:q.a.white},error:{main:q.a.red_500,dark:q.a.red_700,light:q.a.red_300,50:q.a.red_100,100:q.a.red_100,200:q.a.red_200,300:q.a.red_300,400:q.a.red_400,500:q.a.red_500,600:q.a.red_600,700:q.a.red_700,800:q.a.red_800,900:q.a.red_900,A100:q.a.red_100,A200:q.a.red_200,A400:q.a.red_400,A700:q.a.red_700,contrastText:q.a.white},info:{main:q.a.blue_500,dark:q.a.blue_700,light:q.a.blue_300,50:q.a.blue_100,100:q.a.blue_100,200:q.a.blue_200,300:q.a.blue_300,400:q.a.blue_400,500:q.a.blue_500,600:q.a.blue_600,700:q.a.blue_700,800:q.a.blue_800,900:q.a.blue_900,A100:q.a.blue_100,A200:q.a.blue_200,A400:q.a.blue_400,A700:q.a.blue_700,contrastText:q.a.white},secondary:{main:q.a.green_500,dark:q.a.green_700,light:q.a.green_300,50:q.a.green_100,100:q.a.green_100,200:q.a.green_200,300:q.a.green_300,400:q.a.green_400,500:q.a.green_500,600:q.a.green_600,700:q.a.green_700,800:q.a.green_800,900:q.a.green_900,A100:q.a.green_100,A200:q.a.green_200,A400:q.a.green_400,A700:q.a.green_700,contrastText:q.a.white},grey:{50:q.a.gray_100,100:q.a.gray_100,200:q.a.gray_200,300:q.a.gray_300,400:q.a.gray_400,500:q.a.gray_500,600:q.a.gray_600,700:q.a.gray_700,800:q.a.gray_800,900:q.a.gray_900,A100:q.a.gray_100,A200:q.a.gray_200,A400:q.a.gray_400,A700:q.a.gray_700},divider:q.a.gray_300,common:{black:q.a.black,white:q.a.white},background:{default:q.a.white,paper:q.a.white}}});var H=n(22),K=n(35),G=n(42),X=n(43),$=n(482),Z=n(272),Q=n(484),ee=function(e){Object(G.a)(n,e);var t=Object(X.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"getDatePickerHeaderText",value:function(e){return Q.a(e,"d. MMM, yyyy",{locale:Z.a,weekStartsOn:1})}}],[{key:"Locale",get:function(){return Object(k.a)(Object(k.a)({},Z.a),{},{options:Object(k.a)(Object(k.a)({},Z.a.options),{},{weekStartsOn:1})})}}]),n}($.a),te="G-LVM2P76WDY";I.a.initialize(te),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F.StoreProvider,{store:s.a},r.a.createElement(L.a,{theme:J},r.a.createElement(W.a,{utils:ee,locale:ee.Locale},r.a.createElement(R.a,null,r.a.createElement(P,null)))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");M?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):z(t,e)}))}}()},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={header_height:"5rem",mobile_header_height:"160px",sidebar_width:"290px",blue_900:"#060040",blue_800:"#030380",blue_700:"#08109c",blue_600:"#1836ce",blue_500:"#2a52e2",blue_400:"#6291ef",blue_300:"#83aff4",blue_200:"#c7e1fb",blue_100:"#eaf5fe",red_900:"#610a3b",red_800:"#881348",red_700:"#b01e51",red_600:"#d22d58",red_500:"#ef3e5e",red_400:"#f36a73",red_300:"#f79b96",red_200:"#fbccc3",red_100:"#fef4ef",green_900:"#00151b",green_800:"#034549",green_700:"#09736a",green_600:"#129a7c",green_500:"#1dc588",green_400:"#4dd39c",green_300:"#7fe5b6",green_200:"#b4f2d3",green_100:"#edfdf4",gray_900:"#141414",gray_840:"#1b1a1a",gray_830:"#1f1f22",gray_820:"#29292c",gray_810:"#2f2f33",gray_800:"#3c3c42",gray_700:"#63626b",gray_600:"#8a8894",gray_500:"#b2aebc",gray_400:"#c3c0cd",gray_300:"#d4d2dd",gray_200:"#f0f0f5",gray_100:"#f9f9fb",white:"#ffffff",black:"#000000",primary_900:"blue_900",primary_800:"blue_800",primary_700:"blue_700",primary_600:"blue_600",primary_500:"blue_500",primary_400:"blue_400",primary_300:"blue_300",primary_200:"blue_200",primary_100:"blue_100",border_color:"gray_300",border:"border_color 1px solid",roboto:'"Roboto", Helvetica, Arial, sans_serif',roboto_condensed:'"Roboto Condensed", Helvetica, Arial, sans_serif',poppins:'"Poppins", "Roboto", Helvetica, Arial, sans_serif',spacing_1:"0.25rem",spacing_2:"0.5rem",spacing_3:"0.75rem",spacing_4:"1rem",spacing_5:"1.25rem",spacing_6:"1.5rem",spacing_8:"2rem",spacing_10:"2.5rem",spacing_12:"3rem",spacing_14:"3.5rem",spacing_16:"4rem",spacing_20:"5rem",spacing_24:"6rem",spacing_28:"7rem",spacing_32:"8rem",spacing_36:"9rem",spacing_40:"10rem",fixed_spacing_1:"4px",fixed_spacing_2:"8px",fixed_spacing_3:"12px",fixed_spacing_4:"16px",fixed_spacing_5:"20px",fixed_spacing_6:"24px",fixed_spacing_8:"32px",fixed_spacing_10:"40px",fixed_spacing_12:"48px",fixed_spacing_14:"56px",fixed_spacing_16:"64px",fixed_spacing_20:"80px",fixed_spacing_24:"96px",fixed_spacing_28:"112px",fixed_spacing_32:"128px",fixed_spacing_36:"144px",fixed_spacing_40:"160px",spacing_icon_button:"12px",spacing_button_vertical:"6px",spacing_button_horizontal:"8px",timing_1:"100ms",timing_2:"200ms",timing_3:"300ms",animate_snap_back:"cubic_bezier(0.21, 1.47, 0, 1)",radius_sm:"4px",radius_md:"8px",radius_lg:"12px",text_xxxl:"3rem",text_xxl:"2.25rem",text_xl:"1.5rem",text_lg:"1.25rem",text_md:"0.95rem",text_sm:"0.75rem",text_light:"300",text_bold:"700",text_regular:"400",text_regular_spacing:"0px",text_bold_spacing:"0px",text_boldcaps_spacing:"0.69px",fullvh:"var(__full_vh, 100vh)",vh:"var(__vh, 1vh)",bp_sm:"600px",bp_md:"900px",bp_lg:"1200px",font_weight_light:"300",font_weight_regular:"400",font_weight_medium:"500",font_weight_bold:"700",spacing_sm:"spacing_2",spacing_md:"spacing_4",spacing_lg:"spacing_8",color_primary_main:"blue_500",color_primary_light:"blue_200",color_primary_dark:"blue_800",color_primary_50:"blue_100",color_primary_100:"blue_100",color_primary_200:"blue_200",color_primary_300:"blue_300",color_primary_400:"blue_400",color_primary_500:"blue_500",color_primary_600:"blue_600",color_primary_700:"blue_700",color_primary_800:"blue_800",color_primary_900:"blue_900",color_positive_main:"green_500",color_negative_main:"red_500",color_error_main:"red_500",color_error_light:"red_200",color_error_dark:"red_800",color_divider:"gray_200",color_action_focus:"gray_300",color_action_hover:"gray_400",color_action_active:"gray_500",color_action_primary_focus:"blue_300",color_action_primary_hover:"blue_400",color_action_primary_active:"blue_500",color_text_default:"gray_900",border_radius:"0.4rem",shadow_blur_small:"6px",shadow_blur_medium:"20px",shadow_color_medium:"rgba(0, 0, 0, 0.15)",shadow_color_strong:"rgba(0, 0, 0, 0.2)",app_tab_height:"60px",app_tab_width:"14rem",app_header_height:"160px",app_tab_z:"900",container_max_width:"960px",icon_size_xs:"1rem",icon_size_sm:"1.25rem",icon_size_md:"1.5rem"}}},[[510,1,2]]]);
//# sourceMappingURL=main.c348df18.chunk.js.map